{"version":3,"sources":["redux/types.ts","api.ts","redux/actions/app.action.ts","components/Notification.tsx","redux/actions/notification.action.ts","redux/actions/popup.action.ts","redux/actions/index.ts","hoc/OutsideClicker.tsx","components/Header.tsx","components/EditText.tsx","redux/reducers/app.reducer.tsx","redux/reducers/notification.reducer.ts","redux/reducers/popup.reducer.ts","redux/reducers/index.ts","redux/store.ts","components/Deck.tsx","components/Currsection.tsx","components/index.ts","components/modals/Confirm.tsx","components/modals/index.tsx","pages/Decks.tsx","pages/Home.tsx","pages/Login.tsx","pages/Statistics.tsx","pages/Registration.tsx","pages/Play.tsx","components/Pagination.tsx","pages/Store.tsx","pages/Rating.tsx","pages/index.ts","pages/Main.tsx","routes.tsx","hoc/Authorization.tsx","components/Footer.tsx","App.tsx","index.tsx"],"names":["LANGS","EStatusNotification","API_URLS","REGISTRATION","CONFIG","LOGIN","AUTH","GET_DECKS","GET_DECK","GET_ALL_DECKS","SET_LIKE","ADD_DECK","CHANGE_DECK","SUBSCRIBE_DECK","DELETE_DECK","GET_SCORES","CLONE_DECK","GET_RATING","FAKE_DATA","url","JSON","parse","error","API","data","options","Promise","resolve","reject","axios","get","params","token","localStorage","getItem","responseType","downloadFile","bodyRequest","post","setTimeout","this","POST","GET","deck","id","name","isPrivate","is_private","countWords","count_words","countRepetitions","count_repetitions","mainLang","main_language","secondLang","second_language","author","author_login","owner","owner_login","description","countLikes","likes","activeLike","liked","cards","subscribed","then","response","subscriptions","map","transormArrayOfDeck","owned","console","log","undefined","length","page","decks","deckId","idDeck","changes","POPUP_TYPES","APP","NOTIFY","ERefer","POPUP","EStatus","login","person","type","payload","logout","addScores","scores","show","head","content","timeout","hide","actions","success","acepted","Actions","app","notification","popup","useOutsideClick","ref","callback","handleClick","e","current","contains","target","useEffect","document","addEventListener","removeEventListener","connector","connect","state","auth","user","f","Action","props","useHistory","useState","dropdownVisible","openDropdownUser","menuVisible","openMenuUser","dropdownRef","useRef","match","useLocation","pathname","body","style","overflow","className","to","onClick","routes","filter","route","isLogin","path","icon","color","balance","EditText","text","changeText","editing","changeEditing","editTextRef","editTextInputRef","handleChangeEditing","open","newValue","onChanged","value","typeInput","onChange","currentTarget","onKeyPress","key","autoFocus","initialState","visible","close","rootReducer","combineReducers","action","setItem","removeItem","composeEnhancers","composeWithDevTools","trace","traceLimit","store","createStore","applyMiddleware","thunkMiddleware","next","syncActivityFinished","actionQueue","flushQueue","forEach","a","dispatch","actionWithAsyncDispatch","Object","assign","asyncDispatch","asyncAction","concat","res","Notification","WatchContainer","history","nameCard","card","index","main_word","answer","push","Deck","openDropdown","activedLike","changeSubscribed","watched","changeWatched","changeCountLikes","changePrivate","ReactDOM","createPortal","getElementById","enableMethods","enableEdit","edit","handleEdit","enableDelete","delete","enableClone","clone","enableChangePrivate","cursor","handleChangePrivate","enableSubscribe","subscribe","resp","catch","err","handleChangeSubscribed","enableLike","like","likeUser","EditedCard","changeMain_word","changeAnswer","changeDescription","thisRef","display","top","positionElement","y","left","x","handleChangeMainWord","handleChangeAnswer","cols","rows","handleChangeDescription","save","DeckActive","changeCards","countCards","incCountCards","addChange","changeName","mainWordValue","changeMainWordValue","secondWordValue","changeSecondWordValue","indexCard","changeIndexCard","currentCardOpened","changeCurrentCardOpened","visibleCardWatch","changeVisibleCardWatch","positionCard","changePositionCard","changeMainLang","changeSecondLang","mainWordRef","secondWordRef","descriptionDeckRef","descriptionCardRef","old","_new","payloadChangeName","oldChanges","handleChangeName","lang","selected","__mainLang","defaultValue","placeholder","htmlFor","newCard","oldCards","countCardsOld","changesCard","offsetLeft","offsetTop","handleOpenCardForWatch","stopPropagation","_","_index","handleDeleteCard","enableCreate","dataNewDeck","price","create","enableSave","DeckAdd","add","Currsection","info","keys","values","Components","Header","changeVisible","loader","querySelector","showLoader","classList","remove","hideLoader","Confirm","ModalContainer","successed","CONFIRM","bind","switchModals","React","PureComponent","Modal","decksSubscriptions","decksOwned","isNewDeck","isEdit","deckEdit","setState","applyChanges","accept","deleteDeck","setLike","valuePrivate","Number","addDeck","getDecks","Fragment","handleCloseActiveEditingDeck","saveDeck","handleCloseActiveAddingDeck","createNewDeck","toUpperCase","editDeck","handleUnsibscribe","Component","Home","loginValidate","passwordValidate","createRef","password","preventDefault","onBlur","validateForm","clickLogin","Statistics","nameValidate","rpassword","registration","refer","onValidate","clickRegistration","TIME_CARD","currentLang","currentCard","valueInputAnswer","ended","showResults","visibleHint","array","i","j","Math","floor","random","idCard","time","getTimeDeck","getScoresAfterEndPlay","results","score","Date","getTime","time_card","ceil","split","ans","trim","toLowerCase","includes","valueAnswer","checkCard","nextCard","suc","__card","Boolean","getDeck","shuffleCards","handleHint","handleSkipCard","handleChangeInputAnswer","handleNextCard","getResults","result","Pagination","previousLabel","nextLabel","breakLabel","breakClassName","pageCount","countPages","marginPagesDisplayed","pageRangeDisplayed","onPageChange","changeCurrentPage","containerClassName","activeClassName","notify","currentPage","cloneDeck","getAllDecks","pages","choosen","updateDecks","handleClone","handleLike","changeCountPages","handleChangeCurrentPage","Rating","rating","enableProps","getRating","users","item","reduce","prev","curr","Pages","Main","src","alt","Decks","Play","Store","Registration","Login","isNavBar","isExact","component","FaHome","FaPlay","FaList","FaStore","FaChartBar","FaStar","Athorization","WrappedComponent","WithAuthorization","Footer","href","getFullYear","popupProps","confirm","Switcher","Authorization","exact","render"],"mappings":"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","file":"static/js/main.3f1227d9.chunk.js","sourcesContent":["export enum LANGS{\r\n\tRUS = \"RUS\", \r\n\tENG = \"ENG\", \r\n\tJPN = \"JPN\", \r\n\tCHI = \"CHI\", \r\n\tITA = \"ITA\", \r\n\tSPA = \"SPA\",\r\n\tFRA = \"FRA\", \r\n\tGER = \"GER\"\r\n}\r\n\r\nexport enum EStatusNotification{\r\n\tSUCCESS = \"SUCCESS\", \r\n\tERROR = \"ERROR\", \r\n\tWARNING = \"WARNING\"\r\n}\r\n\r\n\r\nexport const APP = {\r\n\tLOGIN: \"APP/LOGIN\",\r\n\tLOGOUT: \"APP/LOGOUT\",\r\n\tADD_SCORES: \"APP/ADD_SCORES\",\r\n}\r\n\r\nexport const NOTIFY = {\r\n\tSHOW: \"NOTIFY/SHOW\",\r\n\tHIDE: \"NOTIFY/HIDE\",\r\n}\r\n\r\nexport enum POPUP_TYPES{\r\n\t\"ALERT\", \"CONFIRM\", \"PROMPT\"\r\n}\r\nexport const POPUP = {\r\n\tSHOW: \"POPUP/SHOW\",\r\n\tHIDE: \"POPUP/HIDE\",\r\n\tSUCCESS: \"POPUP/SUCCESS\",\r\n}","import axios from \"axios\"\r\nimport * as CONFIG from \"./config.json\"\r\nimport { ActionChange } from \"./domains/entities/actions.entity\"\r\nimport { IDeck } from \"./domains/entities/deсk.entity\"\r\n\r\ninterface OptionsRequest{\r\n\ttoken?: boolean\r\n\tdownloadFile?: boolean\r\n}\r\n\r\nconst API_URLS: any = {\r\n\tREGISTRATION: \t\tCONFIG.HOST + CONFIG.URLS.REGISTRATION,\r\n\tLOGIN: \t\t\t\tCONFIG.HOST + CONFIG.URLS.LOGIN,\r\n\tAUTH: \t\t\t\tCONFIG.HOST + CONFIG.URLS.AUTH,\r\n\tGET_DECKS: \t\t\tCONFIG.HOST + CONFIG.URLS.GET_DECKS,\r\n\tGET_DECK: \t\t\tCONFIG.HOST + CONFIG.URLS.GET_DECK,\r\n\tGET_ALL_DECKS: \tCONFIG.HOST + CONFIG.URLS.GET_ALL_DECKS,\r\n\tSET_LIKE: \t\t\tCONFIG.HOST + CONFIG.URLS.SET_LIKE,\r\n\tADD_DECK: \t\t\tCONFIG.HOST + CONFIG.URLS.ADD_DECK,\r\n\tCHANGE_DECK: \t\tCONFIG.HOST + CONFIG.URLS.CHANGE_DECK,\r\n\tSUBSCRIBE_DECK: \tCONFIG.HOST + CONFIG.URLS.SUBSCRIBE_DECK,\r\n\tDELETE_DECK: \t\tCONFIG.HOST + CONFIG.URLS.DELETE_DECK,\r\n\tGET_SCORES: \t\tCONFIG.HOST + CONFIG.URLS.GET_SCORES,\r\n\tCLONE_DECK: \t\tCONFIG.HOST + CONFIG.URLS.CLONE_DECK,\r\n\tGET_RATING: \t\tCONFIG.HOST + CONFIG.URLS.GET_RATING,\r\n}\r\n\r\nconst FAKE_DATA = (url: string) => {\r\n\tswitch(url){\r\n\t\tcase API_URLS.GET_DECK:\r\n\t\t\treturn JSON.parse(`\r\n\t\t\t\t{\r\n\t\t\t\t\t\"deck\": {\r\n\t\t\t\t\t\t\"is_private\": 0,\r\n\t\t\t\t\t\t\"author_login\": \"admin\",\r\n\t\t\t\t\t\t\"cards\": [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\"answer\": \"реп\",\r\n\t\t\t\t\t\t\t\t\"description\": null,\r\n\t\t\t\t\t\t\t\t\"id\": 1,\r\n\t\t\t\t\t\t\t\t\"main_word\": \"rap\",\r\n\t\t\t\t\t\t\t\t\"type\": \"default\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\"answer\": \"техника\",\r\n\t\t\t\t\t\t\t\t\"description\": null,\r\n\t\t\t\t\t\t\t\t\"id\": 3,\r\n\t\t\t\t\t\t\t\t\"main_word\": \"flow\",\r\n\t\t\t\t\t\t\t\t\"type\": \"default\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\"answer\": \"богатство\",\r\n\t\t\t\t\t\t\t\t\"description\": null,\r\n\t\t\t\t\t\t\t\t\"id\": 22,\r\n\t\t\t\t\t\t\t\t\"main_word\": \"guap\",\r\n\t\t\t\t\t\t\t\t\"type\": \"default\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\"answer\": \"богатство\",\r\n\t\t\t\t\t\t\t\t\"description\": null,\r\n\t\t\t\t\t\t\t\t\"id\": 32,\r\n\t\t\t\t\t\t\t\t\"main_word\": \"guap\",\r\n\t\t\t\t\t\t\t\t\"type\": \"default\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\"is_owner\": false,\r\n\t\t\t\t\t\t\"owner_login\": \"admin\",\r\n\t\t\t\t\t\t\"description\": \"тут чисто про реп\",\r\n\t\t\t\t\t\t\"count_repetitions\": 0,\r\n\t\t\t\t\t\t\"liked\": true,\r\n\t\t\t\t\t\t\"subscribed\": true,\r\n\t\t\t\t\t\t\"main_language\": \"eng\",\r\n\t\t\t\t\t\t\"second_language\": \"rus\",\r\n\t\t\t\t\t\t\"price\": 0,\r\n\t\t\t\t\t\t\"count_words\": 4,\r\n\t\t\t\t\t\t\"name\": \"rap\",\r\n\t\t\t\t\t\t\"id\": 1,\r\n\t\t\t\t\t\t\"likes\": 2\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t`)\r\n\t\tdefault:\r\n\t\t\treturn {\r\n\t\t\t\terror: true\r\n\t\t\t}\r\n\t}\r\n}\r\n\r\n\r\n// Static class for wokring with API\r\nclass API {\r\n\tprivate static GET(url: string, data: any, options?: OptionsRequest): Promise<any>{\r\n\t\treturn axios.get(\r\n\t\t\turl, \r\n\t\t\t{\r\n\t\t\t\tparams: options?.token ? {\r\n\t\t\t\t\t...data, \r\n\t\t\t\t\ttoken: localStorage.getItem(\"token\") || \"\"\r\n\t\t\t\t} : {\r\n\t\t\t\t\t...data\r\n\t\t\t\t},\r\n\t\t\t\tresponseType: options?.downloadFile? \"blob\": \"json\"\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tprivate static POST(url: string, data: any, options?: OptionsRequest): Promise<any>{\r\n\t\tconst bodyRequest = options?.token ? {\r\n\t\t\t...data, \r\n\t\t\ttoken: localStorage.getItem(\"token\") || \"\"\r\n\t\t} : {\r\n\t\t\t...data\r\n\t\t}\r\n\t\treturn axios.post(\r\n\t\t\turl, \r\n\t\t\tbodyRequest,\r\n\t\t\t{\r\n\t\t\t\tresponseType: options?.downloadFile? \"blob\": \"json\"\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tprivate static GETFake (url: string, data: any, options?: OptionsRequest): Promise<any>{\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tresolve({ data: FAKE_DATA(url) })\r\n\t\t\t}, 100)\r\n\t\t})\r\n\t}\r\n\r\n\tprivate POSTFake (url: string, data: any, options?: OptionsRequest): Promise<any>{\r\n\t\treturn new Promise((resolve, reject) => {\r\n\r\n\t\t})\r\n\t}\r\n\t\r\n\t// --------------------------------------------------------------------------\r\n\t// ----------------------- Registration, Login, Auth ------------------------\r\n\t// --------------------------------------------------------------------------\r\n\r\n\tpublic static registration(data: object): Promise<any>{\r\n\t\treturn this.POST(API_URLS.REGISTRATION, data)\r\n\t}\r\n\r\n\tpublic static login(data: object): Promise<any>{\r\n\t\treturn this.POST(API_URLS.LOGIN, data)\r\n\t}\r\n\r\n\tpublic static auth(): Promise<any>{\r\n\t\treturn this.GET(API_URLS.AUTH, {  }, { token: true })\r\n\t}\r\n\r\n\t// --------------------------------------------------------------------------\r\n\t// -------------------------- Decks and Cards -------------------------------\r\n\t// --------------------------------------------------------------------------\r\n\r\n\t// ***GET DATA***\r\n\r\n\t// get decks for certain user (with token)\r\n\tprivate static transormArrayOfDeck(deck: any): IDeck{\r\n\t\treturn {\r\n\t\t\tid: deck.id,\r\n\t\t\tname: deck.name,\r\n\t\t\tisPrivate: deck.is_private,\r\n\t\t\tcountWords: deck.count_words,\r\n\t\t\tcountRepetitions: deck.count_repetitions,\r\n\t\t\tmainLang: deck.main_language,\r\n\t\t\tsecondLang: deck.second_language,\r\n\t\t\tauthor: deck.author_login,\r\n\t\t\towner: deck.owner_login,\r\n\t\t\tdescription: deck.description,\r\n\t\t\tcountLikes: deck.likes,\r\n\t\t\tactiveLike: deck.liked,\r\n\t\t\tcards: deck.cards,\r\n\t\t\tsubscribed: deck.subscribed\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static getDecks(): Promise<any>{\r\n\t\treturn new Promise<any> ((resolve, reject) => {\r\n\t\t\tthis.GET(API_URLS.GET_DECKS, {}, { token: true })\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tconst data = {\r\n\t\t\t\t\t\tsubscriptions: response.data.subscriptions.map((deck: any) => this.transormArrayOfDeck(deck)),\r\n\t\t\t\t\t\towned: response.data.owned.map((deck: any) => this.transormArrayOfDeck(deck))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log({\r\n\t\t\t\t\t\t...response.data,\r\n\t\t\t\t\t\t...data\r\n\t\t\t\t\t})\r\n\t\t\t\t\tresolve({\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t...response.data,\r\n\t\t\t\t\t\t\t...data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\tpublic static getDeck(id: number): Promise<any>{\r\n\t\treturn new Promise<any> ((resolve, reject) => {\r\n\t\t\tthis.GET(API_URLS.GET_DECK, (localStorage.getItem(\"token\")?.length !== undefined ? { token: localStorage.getItem(\"token\"), id }: { id }))\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t\tconst data: IDeck = this.transormArrayOfDeck(response.data.deck)\r\n\t\t\t\t\tresolve({\r\n\t\t\t\t\t\tdeck: data\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t})\r\n\t}\r\n\t\r\n\tpublic static getAllDecks(page?: number): Promise<any>{\r\n\t\treturn new Promise<any> ((resolve, reject) => {\r\n\t\t\tthis.GET(API_URLS.GET_ALL_DECKS, (localStorage.getItem(\"token\")?.length !== undefined ? { token: localStorage.getItem(\"token\"), page }: { page }))\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tconst data: IDeck = response.data.decks.map((deck: any) => this.transormArrayOfDeck(deck))\r\n\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t...response,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t...response.data,\r\n\t\t\t\t\t\t\tdecks: data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\t// ***POST DATA***\r\n\tpublic static addDeck(data: any): Promise<any>{\r\n\t\treturn this.POST(API_URLS.ADD_DECK, data, { token: true })\r\n\t}\r\n\r\n\tpublic static deleteDeck(deckId: number): Promise<any>{\r\n\t\treturn this.POST(API_URLS.DELETE_DECK, { deckId }, { token: true })\r\n\t}\r\n\r\n\tpublic static getScoresAfterEndPlay(data: any, deckId: number): Promise<any>{\r\n\t\treturn this.POST(API_URLS.GET_SCORES, { ...data, deckId }, {token: true })\r\n\t}\r\n\r\n\tpublic static cloneDeck(deckId: number): Promise<any>{\r\n\t\treturn this.POST(API_URLS.CLONE_DECK, { deckId }, { token: true })\r\n\t}\r\n\r\n\t// ***CHANGE DATA***\r\n\tpublic static applyChanges(idDeck: number, changes: ActionChange[]){\r\n\t\treturn this.POST(API_URLS.CHANGE_DECK, { idDeck, changes}, { token: true })\r\n\t}\r\n\t\r\n\t// specific methods\r\n\tpublic static setLike(deckId: number): Promise<any>{\r\n\t\treturn this.POST(API_URLS.SET_LIKE, { deckId }, { token: true })\r\n\t}\r\n\r\n\tpublic static subscribe(deckId: number): Promise<any>{\r\n\t\treturn this.POST(API_URLS.SUBSCRIBE_DECK, { deckId }, { token: true })\r\n\t}\r\n\r\n\t// -----------------------------------------------------------------------------\r\n\t// ------------------------------- Rating --------------------------------------\r\n\t// -----------------------------------------------------------------------------\r\n\r\n\tpublic static getRating(page?: number): Promise<any>{\r\n\t\treturn this.GET(API_URLS.GET_RATING, {  }, { token: false })\r\n\t}\r\n}\r\n\r\nexport default API","import { APP } from \"../types\"\r\n\r\nenum ERefer {NOT, GOOGLE, VK, FACEBOOK}\r\n\r\nexport interface IPerson{\r\n\tlogin: string,\r\n\tname: string\r\n\tbalance: number\r\n}\r\n\r\nexport const login = (person: IPerson) => {\r\n\treturn {\r\n\t\ttype: APP.LOGIN,\r\n\t\tpayload: person\r\n\t}\r\n}\r\nexport const logout = () => {\r\n\treturn {\r\n\t\ttype: APP.LOGOUT,\r\n\t}\r\n}\r\n\r\nexport const addScores = (scores: number) => {\r\n\treturn {\r\n\t\ttype: APP.ADD_SCORES,\r\n\t\tpayload: scores\r\n\t}\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport Action from \"../redux/actions\"\r\nimport store from \"../redux/store\"\r\n\r\nimport { FaTimes } from \"react-icons/fa\"\r\n\r\nenum EStatus{\r\n\tSUCCESS = \"SUCCESS\", \r\n\tERROR = \"ERROR\", \r\n\tWARNING = \"WARNING\"\r\n}\r\n\r\n\r\n\r\ninterface NotifyProps{\r\n\tvisible: boolean\r\n\thead: string\r\n\tcontent: string\r\n\ttype: EStatus\r\n\ttimeout?: number\r\n}\r\n\r\nexport const Notification = {\r\n\tsuccess: (head: string, content: NotifyProps['content'], timeout: number = 2000) => {\r\n\t\tstore.dispatch(Action.notification.show(\"success\", head, content, timeout))\r\n\t},\r\n\terror: (head: string, content: NotifyProps['content'], timeout: number = 2000) => {\r\n\t\tstore.dispatch(Action.notification.show(\"error\", head, content, timeout))\r\n\t},\r\n\twarning: (head: string, content: NotifyProps['content'], timeout: number = 2000) => {\r\n\t\tstore.dispatch(Action.notification.show(\"warning\", head, content, timeout))\r\n\t}\r\n}\r\n\r\nconst NotificationContainer: React.FC<NotifyProps> = props => {\r\n\tconst [visible, changeVisible] = useState(props.visible)\r\n\r\n\r\n\tprops.visible && setTimeout(() => {\r\n\t\tchangeVisible(false)\r\n\t\tstore.dispatch(Action.notification.hide())\r\n\t}, props.timeout || 2000)\r\n\r\n\treturn (\r\n\t\t<div className={`Notification notify_${props.type || \"default\"}`} style={{display: props.visible? \"block\": \"none\"}}>\r\n\t\t\t<div className=\"Notification_wrapper_content\">\r\n\t\t\t\t<div className=\"close\" onClick={e => store.dispatch(Action.notification.hide())}><FaTimes/></div>\r\n\t\t\t\t<h2 className=\"head\">{props.head}</h2>\r\n\t\t\t\t<p className=\"content\">{props.content}</p>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nexport default NotificationContainer","import { NOTIFY, EStatusNotification } from \"../types\" \r\n\r\nexport const show = (type: any, head: string, content: string, timeout = 300) => ({\r\n\ttype: NOTIFY.SHOW,\r\n\tpayload: {\r\n\t\ttype,\r\n\t\thead,\r\n\t\tcontent,\r\n\t\ttimeout\r\n\t}\r\n})\r\n\r\nexport const hide = () => ({\r\n\ttype: NOTIFY.HIDE\r\n})","import { POPUP, POPUP_TYPES } from \"../types\" \r\n\r\ninterface ActionsMethodPopup{\r\n\tclose: () => void\r\n\tsuccess?: (suc: boolean) => void\r\n}\r\n\r\nexport const show = (type: POPUP_TYPES, head: string, content: string, actions: ActionsMethodPopup) => ({\r\n\ttype: POPUP.SHOW,\r\n\tpayload: {\r\n\t\ttype,\r\n\t\thead,\r\n\t\tcontent,\r\n\t\tactions\r\n\t}\r\n})\r\n\r\nexport const hide = () => ({\r\n\ttype: POPUP.HIDE\r\n})\r\n\r\nexport const success = (acepted: boolean) => ({\r\n\ttype: POPUP.SUCCESS,\r\n\tpayload: acepted\r\n})","import * as app from \"./app.action\"\r\nimport * as notification from \"./notification.action\"\r\nimport * as popup from \"./popup.action\"\r\n\r\nconst Actions = {\r\n\tapp,\r\n\tnotification,\r\n\tpopup\r\n}\r\n\r\nexport default Actions","import { useEffect } from \"react\";\r\n\r\nconst useOutsideClick = (ref: any, callback: Function) => {\r\n  const handleClick = (e: any) => {\r\n    if (ref.current && !ref.current.contains(e.target)) {\r\n      callback();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", handleClick);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"click\", handleClick);\r\n    };\r\n  });\r\n};\r\n\r\nexport default useOutsideClick;\r\n","import React, {  useEffect, useRef, useState } from 'react'\r\nimport { Link, useLocation, useHistory } from 'react-router-dom'\r\nimport { connect, ConnectedProps } from 'react-redux'\r\nimport { FaUser, FaBars } from \"react-icons/fa\"\r\n\r\n// Controllers data\r\nimport { IRoute } from \"../routes\"\r\nimport Action from \"../redux/actions\"\r\nimport useOutsideClick from \"../hoc/OutsideClicker\"\r\n\r\n// Styles\r\nimport \"../styles/components.scss\"\r\n\r\n// -----------------------------------------------------------------------------\r\n// ---------------------- Connect to redux emmiter -----------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tauth: state.app.auth,\r\n\tuser: state.app.user\r\n})\r\n\r\nconst mapDispatchToProps = (f: Function) => ({\r\n\tlogin: (user: any) => f(Action.app.login(user)),\r\n\tlogout: () => f(Action.app.logout())\r\n})\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps)\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>\r\n\r\n\r\n\r\ninterface AppProps extends PropsFromRedux{\r\n\troutes: IRoute[]\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// -------------------- Header hook including interfaces -----------------------\r\n// -----------------------------------------------------------------------------\r\n\r\nconst Header: React.FC<AppProps> = props => {\r\n\tconst history = useHistory()\r\n\r\n\tconst [dropdownVisible, openDropdownUser] = useState(false)\r\n\tconst [menuVisible, openMenuUser] = useState(false)\r\n\r\n\tconst dropdownRef = useRef<any>(null)\r\n\tconst match = useLocation().pathname\r\n\r\n\tuseOutsideClick(dropdownRef, () => {\r\n\t\tif(dropdownVisible) openDropdownUser(false)\r\n\t})\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif(menuVisible)\r\n\t\t\tdocument.body.style.overflow = 'hidden'\r\n\t\telse\r\n\t\t\tdocument.body.style.overflow = 'unset'\r\n\t}, [menuVisible ])\r\n\r\n\tconst logout = (e: any) => {\r\n\t\tprops.logout()\r\n\t\topenMenuUser(false)\r\n\t\t// history.push(\"/\")\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<header className=\"main_header\">\r\n\t\t\t<div className=\"logo\">\r\n\t\t\t\t<span className=\"logo_text\"><Link to=\"/\" onClick={e => openMenuUser(false)}>RepDict</Link></span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"menu\">\r\n\t\t\t\t<div className=\"icon_bars\" onClick={e => openMenuUser(!menuVisible)}>\r\n\t\t\t\t\t<FaBars />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<ul className={`menu_list responsive_${menuVisible ? \"active\": \"noactive\"}`}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprops.routes.filter(route => route.isLogin === props.auth || route.isLogin === undefined)\r\n\t\t\t\t\t\t\t.map((route: IRoute) => {\r\n\t\t\t\t\t\t\treturn <li \r\n\t\t\t\t\t\t\t\tkey={route.path} \r\n\t\t\t\t\t\t\t\tclassName={`menu_list_item ${route.path === match ? \"active\": \"noactive\"}`}>\r\n\t\t\t\t\t\t\t\t\t<Link \r\n\t\t\t\t\t\t\t\t\t\tclassName=\"menu_list_item_link\" \r\n\t\t\t\t\t\t\t\t\t\tto={`${route.path}`} onClick={e => openMenuUser(false)}>\r\n\t\t\t\t\t\t\t\t\t\t{!!route.icon && <route.icon/>}\r\n\t\t\t\t\t\t\t\t\t\t{route.name}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// User panel\r\n\t\t\t\t\t\tprops.auth && <li style={{ color: \"white\" }} className=\"user_panel\" onClick={e => openDropdownUser(!dropdownVisible)}>\r\n\t\t\t\t\t\t\t<div className=\"user_panel_head\"><FaUser />{props.user.name} <span className=\"user__balance\">{props.user.balance}</span></div>\r\n\t\t\t\t\t\t\t<ul className={`dropdown ${dropdownVisible? \"showedDB__fadeIn\": \"closed\"}`} ref={dropdownRef}>\r\n\t\t\t\t\t\t\t\t<li className=\"dropdown_item\">\r\n\t\t\t\t\t\t\t\t\t<Link to={`/users/${props.user.login}`} onClick={e => openMenuUser(false)}>Profile</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"dropdown_item\">\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/settings\" onClick={e => openMenuUser(false)}>Setting</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"dropdown_item\">\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/\" onClick={e => logout(e)}>Logout</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t}\r\n\t\t\t\t</ul>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default connector(Header)\r\n","import React, { MouseEvent, useRef, useState } from \"react\"\r\nimport useOutsideClick from \"../hoc/OutsideClicker\"\r\n\r\n\r\ninterface EditTextProps{\r\n\ttext: string\r\n\ttypeInput: \"text\" | \"number\"\r\n\r\n\tonChanged: (oldValue: string | number, newValue: string | number) => void\r\n}\r\n\r\nexport const EditText: React.FC<EditTextProps> = props => {\r\n\tconst [text, changeText] = useState(props.text)\r\n\tconst [editing, changeEditing] = useState(false)\r\n\tconst editTextRef = useRef<HTMLInputElement>(null)\r\n\tconst editTextInputRef = useRef<HTMLInputElement>(null)\r\n\r\n\r\n\r\n\r\n\tconst handleChangeEditing = (open: boolean, newValue?: string | number) => {\r\n\t\tif(open)\r\n\t\t\tchangeEditing(true)\r\n\t\telse{\r\n\t\t\tchangeEditing(false)\r\n\t\t\tprops.onChanged(props.text, newValue!)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleChangeInput = (e: React.FormEvent<HTMLInputElement>) => {\r\n\t\tchangeText(e.currentTarget.value)\r\n\t}\r\n\r\n\tconst handlePressKeyInput = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n\t\tif(e.key === \"Enter\"){\r\n\t\t\thandleChangeEditing(false, editTextInputRef.current!.value)\r\n\t\t\tchangeEditing(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseOutsideClick(editTextRef, () => {\r\n\t\tif(editing) {\r\n\t\t\thandleChangeEditing(false, editTextInputRef.current!.value)\r\n\t\t\tchangeEditing(false)\r\n\t\t}\r\n\t})\r\n\r\n\treturn(\r\n\t\t<div className=\"edit_text\" ref={editTextRef}>\r\n\t\t\t{\r\n\t\t\t\tediting ?\r\n\t\t\t\t<input ref={editTextInputRef} type={props.typeInput} value={text} onChange={handleChangeInput} onKeyPress={handlePressKeyInput} autoFocus/>:\r\n\t\t\t\t<span className=\"edit_text_content\" onClick={e => handleChangeEditing(true)}>{text}</span>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}","import { PayloadAction } from '@reduxjs/toolkit'\r\nimport { APP } from \"../types\"\r\n\r\ninterface State{\r\n   auth: boolean,\r\n   user: {\r\n      name: string,\r\n      login: string,\r\n      balance: number\r\n   }\r\n}\r\n\r\n\r\nconst initialState: State = {\r\n   auth: false,\r\n   user: {\r\n      name: \"\",\r\n      login: \"\",\r\n      balance: 0\r\n   }\r\n}\r\n\r\nexport const app = (state: State = initialState, action: PayloadAction<any>) => {\r\n   switch(action.type){\r\n      case APP.LOGIN:\r\n         localStorage.setItem(\"token\", action.payload.token)\r\n         return {\r\n            ...state,\r\n            auth: true,\r\n            user: {\r\n               name: action.payload.name,\r\n               login: action.payload.login,\r\n               balance: action.payload.balance\r\n            }\r\n         }\r\n      case APP.LOGOUT:\r\n         localStorage.removeItem(\"token\")\r\n         return {\r\n            ...state,\r\n            auth: false,\r\n            user: {\r\n               name: \"\",\r\n               login: \"\",\r\n               balance: 0\r\n            }\r\n         }\r\n      case APP.ADD_SCORES:\r\n         return {\r\n            ...state,\r\n            user: {\r\n               ...state.user,\r\n               balance: state.user.balance + action.payload\r\n            }\r\n         }\r\n      default:\r\n         return state\r\n   }\r\n}","import { NOTIFY, EStatusNotification } from \"../types\"\r\n\r\nconst initialState = {\r\n\tvisible: false,\r\n\ttype: null,\r\n\thead: \"\",\r\n\tcontent: \"\",\r\n\ttimeout: 2000\r\n}\r\n\r\nexport const notification = (state = initialState, action: any) => {\r\n\tswitch(action.type){\r\n\t\tcase NOTIFY.SHOW:\r\n\t\t\treturn{\r\n\t\t\t\tvisible: true,\r\n\t\t\t\ttype: action.payload.type,\r\n\t\t\t\thead: action.payload.head,\r\n\t\t\t\tcontent: action.payload.content,\r\n\t\t\t\ttimeout: action.payload.timeout,\r\n\t\t\t}\r\n\t\tcase NOTIFY.HIDE:{\r\n\t\t\treturn{\r\n\t\t\t\t...initialState\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { POPUP, POPUP_TYPES } from \"../types\"\r\n\r\nconst initialState = {\r\n\tvisible: false,\r\n\ttype: 0,\r\n\thead: \"\",\r\n\tcontent: \"\",\r\n\r\n\t// Actions\r\n\tclose: () => {}\r\n}\r\n\r\nexport const popup = (state = initialState, action: any) => {\r\n\tswitch(action.type){\r\n\t\tcase POPUP.SHOW:\r\n\t\t\treturn{\r\n\t\t\t\ttype: action.payload.type,\r\n\t\t\t\tvisible: true,\r\n\t\t\t\thead: action.payload.head,\r\n\t\t\t\tcontent: action.payload.content,\r\n\t\t\t\tclose: action.payload.actions.close,\r\n\t\t\t\tsuccess: action.payload.actions.success\r\n\t\t\t}\r\n\t\tcase POPUP.HIDE:{\r\n\t\t\treturn{\r\n\t\t\t\t...initialState\r\n\t\t\t}\r\n\t\t}\r\n\t\t// case POPUP.SUCCESS: {\r\n\t\t// \treturn {\r\n\r\n\t\t// \t}\r\n\t\t// }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { combineReducers } from 'redux'\r\nimport { app } from \"./app.reducer\"\r\nimport { notification } from \"./notification.reducer\"\r\nimport { popup } from \"./popup.reducer\"\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n\tapp,\r\n\tnotification,\r\n\tpopup\r\n})\r\n \r\nexport default rootReducer","import { createStore, applyMiddleware } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport rootReducer from './reducers'\r\n\r\n// This middleware will just add the property \"async dispatch\" to all actions\r\ntype MiddlewareFunction = (store: any) => (next: any) => (action: any) => any;\r\n\r\nconst asyncDispatchMiddleware: MiddlewareFunction = store => next => action => {\r\n\tlet syncActivityFinished = false;\r\n\tlet actionQueue: any[] = [];\r\n\r\n\tfunction flushQueue() {\r\n\t\tactionQueue.forEach(a => store.dispatch(a)); // flush queue\r\n\t\tactionQueue = [];\r\n\t}\r\n\r\n\tfunction asyncDispatch(asyncAction: Object) {\r\n\t\tactionQueue = actionQueue.concat([asyncAction]);\r\n\r\n\t\tif (syncActivityFinished)\r\n\t\t\tflushQueue();\r\n\t}\r\n\r\n\tconst actionWithAsyncDispatch = Object.assign({}, action, { asyncDispatch });\r\n\r\n\tconst res = next(actionWithAsyncDispatch);\r\n\r\n\tsyncActivityFinished = true;\r\n\tflushQueue();\r\n\r\n\treturn res;\r\n};\r\n\r\nconst composeEnhancers = composeWithDevTools({ \r\n\ttrace: true, \r\n\ttraceLimit: 25 \r\n});\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(\r\n\tapplyMiddleware(thunkMiddleware, asyncDispatchMiddleware)\r\n))\r\n\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n\r\nexport default store","import React, { MouseEvent, useCallback, useRef, useState } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { \r\n\tFaPlus,\r\n\tFaLock,\r\n\tFaLockOpen,\r\n\tFaEllipsisV,\r\n\tFaHeart,\r\n\tFaTimes,\r\n\tFaLongArrowAltRight,\r\n\tFaArrowsAltH,\r\n\tFaCaretRight,\r\n\tFaCaretUp\r\n} from \"react-icons/fa\"\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport API from '../api'\r\nimport { ActionChange } from '../domains/entities/actions.entity'\r\nimport { ICard } from '../domains/entities/card.entity'\r\nimport { IDeck } from '../domains/entities/deсk.entity'\r\nimport useOutsideClick from '../hoc/OutsideClicker'\r\n\r\nimport { EditText } from './EditText'\r\nimport { Notification } from './Notification'\r\n\r\n\r\n// -----------------------------------------------------------------------------\r\n// -------------------------------- Deck ---------------------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\ntype actionClick = (e: React.FormEvent<any>, ...more: any[]) => void\r\n\r\ninterface enableMethodsOptions{\r\n\tenableDelete?: boolean\r\n\tenableEdit?: boolean\r\n\tenableLike?: boolean\r\n\tenableChangePrivate?: boolean\r\n\tenableSubscribe?: boolean\r\n\tenableSave?: boolean\r\n\tenableCreate?: boolean\r\n\tenableClone?: boolean\r\n}\r\n\r\nexport interface IDeckDefault extends IDeck{\r\n\tindex: number\r\n\tenableMethods?: enableMethodsOptions\r\n\t// Actions\r\n\tedit?: actionClick\r\n\tdelete?: actionClick\r\n\tlike?: actionClick\r\n\tchangePrivate?: actionClick\r\n\tsubscribe?: actionClick\r\n\tclone?: actionClick\r\n\twatch?: actionClick\r\n}\r\n\r\n// interface ResultPlayDecks{\r\n// \tmain_word: string\r\n// \tanswer: string\r\n// \ttime: number\r\n// \tsuccessed: boolean\r\n// }\r\n\r\ninterface WatchContainerProps {\r\n\tnameCard: string\r\n\tid: number\r\n\tauthor: string\r\n\tcards: ICard[]\r\n\tvisible: boolean\r\n\tclose: (e: React.FormEvent<HTMLDivElement>) => void\r\n}\r\n\r\nconst WatchContainer: React.FC<WatchContainerProps> = props => {\r\n\tconst history = useHistory()\r\n\r\n\tif(props.visible) return(\r\n\t\t<div className={`watch_container`}>\r\n\t\t\t<div className=\"watcher\">\r\n\t\t\t\t<div className=\"name_card\">{props.nameCard}</div>\r\n\t\t\t\t<div className=\"author\">by <Link to={`/user/${props.author}`}>{props.author}</Link></div>\r\n\t\t\t\t<div className=\"close\" onClick={e => props.close(e)}>\r\n\t\t\t\t\t<FaTimes />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"card_item_panel_item_words\">\r\n\t\t\t\t\t<ul className=\"card_item_panel_item_words_ul\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprops.cards.map((card: ICard, index: number) => {\r\n\t\t\t\t\t\t\t\treturn <li className=\"item\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"index\">#{index + 1}. </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"main_word\">{card.main_word}</span>\r\n\t\t\t\t\t\t\t\t\t-\r\n\t\t\t\t\t\t\t\t\t<span className=\"second_word\">{card.answer}</span>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"btn_wrapper\">\r\n\t\t\t\t\t<button className=\"__btn btn_play\" onClick={e => history.push(`/play/${props.id}`)}>play</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t)\r\n\telse return null\r\n}\r\n\r\n\r\nexport const Deck: React.FC<IDeckDefault> = props => {\r\n\r\n\tconst history = useHistory()\r\n\t// Component states\r\n\tconst [dropdownVisible, openDropdown] = useState(false)\r\n\tconst [activedLike, activeLike] = useState(props.activeLike || false)\r\n\tconst [subscribed, changeSubscribed] = useState(props.subscribed || false)\r\n\tconst [watched, changeWatched] = useState(false)\r\n\r\n\t// Data states\r\n\tconst [countLikes, changeCountLikes] = useState(props.countLikes || 0)\r\n\tconst [isPrivate, changePrivate] = useState(props.isPrivate || false)\r\n\r\n\tconst dropdownRef = useRef<any>(null)\r\n\r\n\tuseOutsideClick(dropdownRef, () => {\r\n\t\tif(dropdownVisible) openDropdown(false)\r\n\t})\r\n\r\n\tconst likeUser = (e: any) => {\r\n\t\tconsole.log(props.enableMethods)\r\n\t\tif(props.enableMethods?.enableLike){\r\n\t\t\tactiveLike(!activedLike)\r\n\t\t\tactivedLike?\r\n\t\t\t\tchangeCountLikes(countLikes - 1):\r\n\t\t\t\tchangeCountLikes(countLikes + 1)\r\n\t\t\tprops.like!(e, props.id)\r\n\t\t}\r\n\t\telse{\r\n\t\t\tNotification.warning(\"Warning\", \"Please, sign in\", 3000)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleChangePrivate = (e: any) => {\r\n\t\tif(props.author === props.owner){\r\n\t\t\tprops.changePrivate!(e, props.id, !isPrivate)\r\n\t\t\tchangePrivate(!isPrivate)\r\n\t\t}\r\n\t}\r\n\tconst handleEdit = (e: any, index: number) => {\r\n\t\topenDropdown(false)\r\n\t\tprops.edit!(e, props.index)\r\n\t}\r\n\tconst handleChangeSubscribed = (e: any) => {\r\n\t\tprops.subscribe !== undefined && props.subscribe(e, props.id)\r\n\t\tAPI.subscribe(props.id)\r\n\t\t\t.then(resp => {\r\n\t\t\t\tconsole.log(resp);\r\n\t\t\t\tNotification.success(\"Ok\", \"All okey\")\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err))\r\n\t\tchangeSubscribed(!subscribed)\r\n\t}\r\n\r\n  \treturn (\r\n\t<div className=\"card_item card_item_noactive\">\r\n\t\t{\r\n\t\t\tReactDOM.createPortal(\r\n\t\t\t\t<WatchContainer\r\n\t\t\t\t\tid={props.id}\r\n\t\t\t\t\tauthor={props.author!}\r\n\t\t\t\t\tnameCard={props.name}\r\n\t\t\t\t\tclose={e => changeWatched(false)} \r\n\t\t\t\t\tvisible={watched} \r\n\t\t\t\t\tcards={props.cards}\r\n\t\t\t\t/>,\r\n\t\t\t\tdocument.getElementById(\"root-modals\")!\r\n\t\t\t)\r\n\t\t}\r\n\t\t{/* control items */}\r\n\t\t\t<div className=\"control\">\r\n\t\t\t\t<span className=\"icon\" onClick={e => openDropdown(!dropdownVisible)}><FaEllipsisV/></span>\r\n\t\t\t\t<ul className={`dropdown ${dropdownVisible ? \"active\": \"noactive\"}`} ref={dropdownRef}>\r\n\t\t\t\t\t<li className=\"dropdown_item\" onClick={e => changeWatched(true)}>Watch</li>\r\n\t\t\t\t\t<li className=\"dropdown_item\" onClick={e => history.push(`/play/${props.id}`)}>Play</li>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprops.enableMethods?.enableEdit && \r\n\t\t\t\t\t\t\t<li className=\"dropdown_item\" onClick={e => handleEdit(e, props.index)}>Edit</li>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprops.enableMethods?.enableDelete && \r\n\t\t\t\t\t\t<li className=\"dropdown_item\" onClick={e => props.delete!(e, props.id)}>Delete</li>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprops.enableMethods?.enableClone && \r\n\t\t\t\t\t\t\t<li className=\"dropdown_item\" onClick={e => props.clone!(e, props.id)}>Clone</li>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\r\n\t\t{/* HEAD OF DECK */}\r\n\t\t<p className=\"card_item_head\">\r\n\t\t\t{\r\n\t\t\t\t(props.enableMethods !== undefined && props.enableMethods.enableChangePrivate) &&\r\n\t\t\t\t\t<span \r\n\t\t\t\t\t\tstyle={{cursor: props.author === props.owner ? \"pointer\": \"default\"}}\r\n\t\t\t\t\t\tclassName=\"private_lock\" \r\n\t\t\t\t\t\tonClick={e => handleChangePrivate(e)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{isPrivate? <FaLock/>: <FaLockOpen/>}\r\n\t\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t<span className=\"card_item_head_name\">{props.name}</span>\r\n\t\t\t{\r\n\t\t\t\t// props.author !== props.owner && \r\n\t\t\t\t<Link to={`/user/${props.author}`} className=\"author\">(by {props.author})</Link> \r\n\t\t\t}\r\n\t\t</p>\r\n\r\n\t\t\r\n\t\t<div className=\"middle_layer\">\r\n\t\t\t<div className=\"card_item_head_langs\">\r\n\t\t\t\t<div className=\"lang main_lang\">{props.mainLang}</div>/\r\n\t\t\t\t<div className=\"lang sec_lang\">{props.secondLang}</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"info\">\r\n\t\t\t\t<p className=\"info_count_words\">{props.countWords} words</p>\r\n\t\t\t\t<p className=\"info_count_repetitions\">{props.countRepetitions} repetitions</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<p className=\"card_item_description\">{props.description}</p>\r\n\r\n\t\t<div className=\"footer\">\r\n\t\t\t{\r\n\t\t\t\tprops.enableMethods?.enableSubscribe ?\r\n\t\t\t\t\t<button className={`btn btn-${!subscribed? \"primary\": \"danger\"}`} onClick={e => handleChangeSubscribed(e)}>{subscribed? \"Unsubscribe\": \"Subscribe\"}</button>:\r\n\t\t\t\t\t<div></div>\r\n\t\t\t}\r\n\t\t\t<span className=\"likes\" onClick={e => likeUser(e)}>\r\n\t\t\t\t<span className={`heart ${activedLike? \"active\": \"noactive\"}`}><FaHeart/></span>\r\n\t\t\t\t{countLikes}\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t</div>\r\n  );\r\n}\r\n\r\n\r\n// -----------------------------------------------------------------------------\r\n// ----------------------------- Active Deck -----------------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\ninterface EditedCardProps extends ICard{\r\n\tvisible: boolean\r\n\tpositionElement: {x: number, y: number}\r\n\tclose: (e: React.FormEvent<any> | null) => void\r\n\tsave: (changes: ActionChange[], idCard: number) => void\r\n}\r\n\r\nconst EditedCard: React.FC<EditedCardProps> = props => {\r\n\t// const [changes, changeChanges] = useState([] as ActionChange[])\r\n\tconst [main_word, changeMain_word] = useState(props.main_word)\r\n\tconst [answer, changeAnswer] = useState(props.answer)\r\n\tconst [description, changeDescription] = useState(props.description)\r\n\r\n\tconst thisRef = useRef<any>(null)\r\n\r\n\tconst handleChangeMainWord = (e: React.FormEvent<HTMLInputElement>) => {\r\n\t\tchangeMain_word(e.currentTarget.value)\r\n\t}\r\n\r\n\tconst handleChangeAnswer = (e: React.FormEvent<HTMLInputElement>) => {\r\n\t\tchangeAnswer(e.currentTarget.value)\r\n\t}\r\n\r\n\tconst handleChangeDescription = (e: React.FormEvent<HTMLTextAreaElement>) => {\r\n\t\tchangeDescription(e.currentTarget.value)\r\n\t}\r\n\r\n\tconst handleSaveChanges = () => {\r\n\t\tlet changes: ActionChange[] = []\r\n\t\tif(main_word !== props.main_word)\r\n\t\t\tchanges  = [...changes, {\r\n\t\t\t\ttype: \"CHANGE_CARD\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tname: \"main_word\",\r\n\t\t\t\t\tid: props.id,\r\n\t\t\t\t\tvalue: main_word\r\n\t\t\t\t}\r\n\t\t\t}]\r\n\t\tif(answer !== props.answer)\r\n\t\t\tchanges  = [...changes, {\r\n\t\t\t\ttype: \"CHANGE_CARD\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tname: \"answer\",\r\n\t\t\t\t\tid: props.id,\r\n\t\t\t\t\tvalue: answer\r\n\t\t\t\t}\r\n\t\t\t}]\r\n\t\tif(description !== props.description)\r\n\t\t\tchanges  = [...changes, {\r\n\t\t\t\ttype: \"CHANGE_CARD\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\tid: props.id,\r\n\t\t\t\t\tvalue: description\r\n\t\t\t\t}\r\n\t\t\t}]\r\n\t\tprops.save(changes, props.id)\r\n\t\tprops.close(null)\r\n\t}\r\n\r\n\tuseOutsideClick(thisRef, () => {\r\n\t\tif(props.visible) props.close(null)\r\n\t})\r\n\r\n\treturn (\r\n\t\tReactDOM.createPortal(\r\n\t\t\t<div ref={thisRef} className=\"editedCardWatch\" style={{display: props.visible? \"block\": \"none\", top: props.positionElement.y + 240, left: props.positionElement.x - 20}}>\r\n\t\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t\t<div className=\"beforeTringle\">\r\n\t\t\t\t\t\t<FaCaretUp />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"closeEditedCard\" onClick={e => props.close(e)}>\r\n\t\t\t\t\t\t<FaTimes />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"control-top\">\r\n\t\t\t\t\t\t<input type=\"text\" className=\"__input __input_default\" value={main_word} onChange={e => handleChangeMainWord(e)}/>\r\n\t\t\t\t\t\t<FaLongArrowAltRight />\r\n\t\t\t\t\t\t<input type=\"text\" className=\"__input __input_default\" value={answer} onChange={e => handleChangeAnswer(e)}/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<textarea name=\"description\" className=\"__input __input_default\" id=\"\" cols={10} rows={2} value={description} onChange={e => handleChangeDescription(e)}></textarea>\r\n\t\t\t\t\t<button className=\"__btn\" onClick={handleSaveChanges}>save</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>,\r\n\t\t\tdocument.getElementById(\"root\")!\r\n\t\t)\r\n\t)\r\n}\r\n\r\n\r\n\r\nexport interface IDeckActive extends IDeckDefault{\r\n\tclose: actionClick\r\n\tsave?: actionClick\r\n\tcreate?: actionClick\r\n}\r\n\r\n\r\nexport const DeckActive: React.FC<IDeckActive> = props => {\r\n\tconst [cards, changeCards] = useState(props.cards)\r\n\tconst [countCards, incCountCards] = useState(props.countWords)\r\n\tconst [changes, addChange] = useState([] as ActionChange[])\r\n\tconst [name, changeName] = useState(props.name)\r\n\tconst [mainWordValue, changeMainWordValue] = useState(\"\")\r\n\tconst [secondWordValue, changeSecondWordValue] = useState(\"\")\r\n\tconst [indexCard, changeIndexCard] = useState(1)\r\n\r\n\t// Edited card menu\r\n\tconst [currentCardOpened, changeCurrentCardOpened] = useState(cards[0])\r\n\tconst [visibleCardWatch, changeVisibleCardWatch] = useState(false)\r\n\tconst [positionCard, changePositionCard] = useState({x: 0, y: 0})\r\n\r\n\tconst [mainLang, changeMainLang] = useState(\"RU\")\r\n\tconst [secondLang, changeSecondLang] = useState(\"ENG\")\r\n\t// const [isPrivate, changeName] = useState(props.name || \"Deck name\")\r\n\r\n\tconst mainWordRef = useRef<HTMLInputElement>(null)\r\n\tconst secondWordRef = useRef<HTMLInputElement>(null)\r\n\tconst descriptionDeckRef = useRef<HTMLTextAreaElement>(null)\r\n\tconst descriptionCardRef = useRef<HTMLTextAreaElement>(null)\r\n\r\n\tconst LANGS = [\r\n\t\t\"RUS\",\r\n\t\t\"ENG\",\r\n\t\t\"JPN\",\r\n\t\t\"CHI\",\r\n\t\t\"ITA\",\r\n\t\t\"SPA\",\r\n\t\t\"FRA\",\r\n\t\t\"GER\"\r\n\t]\r\n\r\n\r\n\tconst handleChangeName = (newValue: string) => {\r\n\t\tchangeName(newValue)\r\n\t\tconst payloadChangeName = {\r\n\t\t\tname: \"name\",\r\n\t\t\tvalue: newValue\r\n\t\t}\r\n\t\taddChange(oldChanges => {\r\n\t\t\treturn [...oldChanges, {\r\n\t\t\t\ttype: \"CHANGE_DECK\",\r\n\t\t\t\tpayload: payloadChangeName\r\n\t\t\t}]\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleAddCard = (e: React.FormEvent<HTMLButtonElement>) => {\r\n\t\tconst newCard: ICard = {\r\n\t\t\tid: -1,\r\n\t\t\tmain_word: mainWordValue,\r\n\t\t\tanswer: secondWordValue,\r\n\t\t\ttype: \"default\",\r\n\t\t\tdescription: descriptionCardRef.current?.value!\r\n\t\t}\r\n\t\tchangeCards(oldCards => [...oldCards, newCard])\r\n\t\tincCountCards(countCardsOld => countCardsOld + 1)\r\n\t\taddChange(oldChanges => {\r\n\t\t\treturn [...oldChanges, {\r\n\t\t\t\ttype: \"NEW_CARD\",\r\n\t\t\t\tpayload: newCard\r\n\t\t\t}]\r\n\t\t})\r\n\r\n\t\tchangeMainWordValue(\"\")\r\n\t\tchangeSecondWordValue(\"\")\r\n\t\tchangeIndexCard(indexCard + 1)\r\n\t\t// mainWordRef.current?.value = \"\"\r\n\t}\r\n\r\n\tconst handleChangeMainWord = (e: React.FormEvent<HTMLInputElement>) => {\r\n\t\tchangeMainWordValue(e.currentTarget.value)\r\n\t}\r\n\r\n\tconst handleChangeSecondWord = (e: React.FormEvent<HTMLInputElement>) => {\r\n\t\tchangeSecondWordValue(e.currentTarget.value)\r\n\t}\r\n\r\n\tconst handleChangeMainLang = (e: React.FormEvent<HTMLSelectElement>) => {\r\n\t\tchangeMainLang(e.currentTarget.value)\r\n\t}\r\n\r\n\tconst handleChangeSecondLang = (e: React.FormEvent<HTMLSelectElement>) => {\r\n\t\tchangeSecondLang(e.currentTarget.value)\r\n\t}\r\n\r\n\tconst handleSwapLangs = () => {\r\n\t\tconst __mainLang = mainLang\r\n\t\tchangeMainLang(secondLang)\r\n\t\tchangeSecondLang(__mainLang)\r\n\t}\r\n\r\n\t// For creating\r\n\tconst handleCreateDeck = (e: any) => {\r\n\t\tconst dataNewDeck = {\r\n\t\t\tname,\r\n\t\t\tisPrivate: false,\r\n\t\t\tdescription: descriptionDeckRef.current?.value,\r\n\t\t\tmainLang: mainLang,\r\n\t\t\tsecondLang: secondLang,\r\n\t\t\tprice: 0,\r\n\t\t\tcards: cards\r\n\t\t}\r\n\t\tcards.length !== 0 ? \r\n\t\t\tprops.create!(e, dataNewDeck):\r\n\t\t\tNotification.warning(\"Предупреждение!\", \"Вы не добавили ни одной карточки!\", 2500)\r\n\t}\r\n\r\n\tconst handleDeleteCard = (e: MouseEvent<any>, index: number) => {\r\n\t\te.stopPropagation()\r\n\t\tchangeVisibleCardWatch(false)\r\n\t\tchangeCards(oldCards => oldCards.filter((_, _index: number) => _index !== index))\r\n\t\taddChange(changes => [...changes, {\r\n\t\t\ttype: \"DELETE_CARD\",\r\n\t\t\tpayload: {\r\n\t\t\t\tid: cards[index].id\r\n\t\t\t}\r\n\t\t}])\r\n\t}\r\n\t\r\n\tconst handleOpenCardForWatch = (e: MouseEvent<HTMLLIElement>, index: number) => {\r\n\t\tchangePositionCard({x: e.currentTarget.offsetLeft, y: e.currentTarget.offsetTop})\r\n\t\tchangeCurrentCardOpened(cards[index])\r\n\t\tchangeVisibleCardWatch(true)\r\n\t}\r\n\r\n\tconst handleChangeCard = (changesCard: ActionChange[], indexCard: number) => {\r\n\t\taddChange((old) => [...old, ...changesCard])\r\n\t\tconsole.log(changesCard);\r\n\t\t// const changedCards = cards.map((card: ICard) => {\r\n\t\t// \tchanges.\r\n\t\t// })\r\n\r\n\t\t// changeCards(cards => [...cards, ...changeCards])\r\n\t} \r\n\t// -----------------------------------------------------------------------------\r\n\t// ---------------------------- Export JSON -----------------------------------\r\n\t// -----------------------------------------------------------------------------\r\n\r\n\tconst handleExportFileAsJSON = (e: React.FormEvent<HTMLInputElement>) => {\r\n\t\tconst files = e.currentTarget.files!\r\n\t\tconst file = files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = function() {\r\n\t\t\tvar data = JSON.parse(reader.result as string)\r\n\t\t\tuploadJSONToCards(data.decks)\r\n\t\t}\r\n\r\n\t\treader.readAsText(file);\r\n\t}\r\n\r\n\tconst uploadJSONToCards = (cards: ICard[]) => {\r\n\t\tcards.map((card, index) => {\r\n\t\t\tif(index >= 20 && index < 40){\r\n\t\t\t\tconst newCard: ICard = {\r\n\t\t\t\t\tid: card.id,\r\n\t\t\t\t\tmain_word: card.main_word,\r\n\t\t\t\t\tanswer: card.answer,\r\n\t\t\t\t\ttype: \"default\",\r\n\t\t\t\t\tdescription: \"\"\r\n\t\t\t\t}\r\n\t\t\t\tchangeCards(oldCards => [...oldCards, newCard])\r\n\t\t\t\tincCountCards(countCardsOld => countCardsOld + 1)\r\n\t\t\t\taddChange(oldChanges => {\r\n\t\t\t\t\treturn [...oldChanges, {\r\n\t\t\t\t\t\ttype: \"NEW_CARD\",\r\n\t\t\t\t\t\tpayload: newCard\r\n\t\t\t\t\t}]\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\treturn (\r\n\t\t<div className=\"card_item card_item_active\">\r\n\t\t\t<div className=\"close\" onClick={props.close}>\r\n\t\t\t\t<FaTimes />\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t<p className=\"card_item_name\"><EditText text={name} typeInput=\"text\" onChanged={(old, _new) => handleChangeName(_new as string)}/></p>\r\n\t\t\t<div className=\"top-panel\">\r\n\t\t\t\t<div className=\"select_languages\">\r\n\t\t\t\t\t<select onChange={handleChangeMainLang} className=\"form-select\" aria-label=\"Default select example\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tLANGS.map(lang => {\r\n\t\t\t\t\t\t\t\treturn <option selected={lang === mainLang}>{lang}</option>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</select>\r\n\r\n\r\n\t\t\t\t\t<span className=\"card_item_panel_toggler\" onClick={handleSwapLangs}><FaArrowsAltH /></span>\r\n\r\n\t\t\t\t\t<select onChange={handleChangeSecondLang} className=\"form-select\" aria-label=\"Default select example\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tLANGS.map(lang => {\r\n\t\t\t\t\t\t\t\treturn <option selected={lang === secondLang}>{lang}</option>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t{/* <input type=\"file\" onChange={handleExportFileAsJSON}/> */}\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* PLUG for jcsb */}\r\n\t\t\t\t<div></div>\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t<div className=\"info\">\r\n\t\t\t\t<span className=\"card_item_count_words\">{countCards} words</span>\r\n\t\t\t\t<p className=\"card_item_count_repetitions\">{props.countRepetitions} repetitions</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"description_deck__wrapper\">\r\n\t\t\t\t<textarea defaultValue={props.description || \"\"} ref={descriptionDeckRef} placeholder=\"Type description deck\" name=\"\" id=\"\" cols={60} rows={10}></textarea>\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t<div className=\"card_item_panel_adding__wrapper\">\r\n\t\t\t\t<div className=\"card_item_panel_adding\">\r\n\t\t\t\t\t<span className=\"index_card\">\r\n\t\t\t\t\t\t#{indexCard}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<div className=\"main-answer-words\">\r\n\t\t\t\t\t\t<div className=\"input-wrapper form-floating\">\r\n\t\t\t\t\t\t\t<input onChange={handleChangeMainWord} value={mainWordValue} type=\"text\" className=\"form-control\" id=\"floatingInput\" placeholder=\"type word...\" ref={mainWordRef}/>\r\n\t\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Main word on {mainLang}</label>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<span className=\"card_item_panel_toggler\"><FaLongArrowAltRight /></span>\r\n\r\n\t\t\t\t\t\t<div className=\"input-wrapper form-floating\">\r\n\t\t\t\t\t\t\t<input onChange={handleChangeSecondWord} value={secondWordValue} type=\"text\" className=\"form-control\" id=\"floatingInput\" placeholder=\"type word...\" ref={secondWordRef}/>\r\n\t\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Second word {secondLang}</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"control_bottom__wrapper\">\r\n\t\t\t\t\t\t<textarea ref={descriptionCardRef} placeholder=\"Type description\" name=\"\" id=\"\" cols={60} rows={10}></textarea>\r\n\t\t\t\t\t\t<button  className=\"card_item_panel_button_add\" onClick={handleAddCard}>add</button>\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t{\r\n\t\t\t\tvisibleCardWatch && <EditedCard \r\n\t\t\t\t\tvisible={visibleCardWatch}\r\n\t\t\t\t\tid={currentCardOpened!.id}\r\n\t\t\t\t\tmain_word={currentCardOpened!.main_word}\r\n\t\t\t\t\tanswer={currentCardOpened!.answer}\r\n\t\t\t\t\tdescription={currentCardOpened!.description}\r\n\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\tpositionElement={positionCard}\r\n\r\n\t\t\t\t\tclose={e => changeVisibleCardWatch(false)}\r\n\t\t\t\t\tsave={handleChangeCard}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\r\n\t\t\t<div className=\"card_item_panel_item_words\">\r\n\t\t\t\t<ul className=\"card_item_panel_item_words_ul\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcards.map((card: ICard, index: number) => {\r\n\t\t\t\t\t\t\treturn <li className=\"item\" onClick={e => handleOpenCardForWatch(e, index)}>\r\n\t\t\t\t\t\t\t\t<span className=\"index\">#{index + 1}. </span>\r\n\t\t\t\t\t\t\t\t<span className=\"main_word\">{card.main_word}</span>\r\n\t\t\t\t\t\t\t\t-\r\n\t\t\t\t\t\t\t\t<span className=\"second_word\">{card.answer}</span>\r\n\t\t\t\t\t\t\t\t<div className=\"close_deck\" onClick={e => handleDeleteCard(e, index)}><FaTimes/></div>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t\r\n\r\n\r\n\t\t\t<div className=\"buttons_group\">\r\n\t\t\t\t{\r\n\t\t\t\t\tprops.enableMethods?.enableCreate && \r\n\t\t\t\t\t<button className=\"__btn __button-default button-create\" onClick={handleCreateDeck}>create</button>\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tprops.enableMethods?.enableSave && \r\n\t\t\t\t\t\t<button className=\"__btn __button-default button-save mr-5\" onClick={e => props.save!(e, props.id, changes)}>save</button>\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tprops.enableMethods?.enableDelete &&\r\n\t\t\t\t\t\t<button className=\"__btn __button-default button-delete\" onClick={e => props.delete!(e, props.id)}>delete</button>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// ------------------------------ Deck Add -------------------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\ninterface IDeckAdd{\r\n\tadd: actionClick\r\n}\r\n\r\nexport const DeckAdd: React.FC<IDeckAdd> = props => {\r\n\treturn(\r\n\t\t<div className=\"card_item card_item_noactive new_card\">\r\n\t\t\t<div className=\"svg_wrapper\" onClick={e => props.add(e)}>\r\n\t\t\t\t<FaPlus />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}","import React from 'react';\r\n\r\nimport \"../styles/components.scss\"\r\n\r\n\r\ninterface IProps{\r\n\tinfo: Object\r\n}\r\n\r\n\r\nconst Currsection: React.FC<IProps> = ({info}) => {\r\n  return (\r\n\t<section className=\"lesson_section lesson_info\">\r\n\t\t\t{\r\n\t\t\t\tObject.keys(info).map((key: string, index: number) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<p className=\"lesson_info_item\">\r\n\t\t\t\t\t\t\t<span className=\"lesson_info_item_key\">\r\n\t\t\t\t\t\t\t\t{key}:\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className=\"lesson_info_item_value\">\r\n\t\t\t\t\t\t\t\t{Object.values(info)[index]}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t</section>\r\n  );\r\n}\r\n\r\nexport default Currsection;\r\n","import Header from \"./Header\"\r\nimport { Deck } from \"./Deck\"\r\nimport Currsection from \"./Currsection\"\r\nimport Notification from \"./Notification\"\r\n\r\nconst Components = {\r\n\tHeader,\r\n\tDeck,\r\n\tCurrsection,\r\n\tNotification,\r\n}\r\n\r\nconst loader = document.querySelector('.loader__wrapper')!;\r\n\r\n// if you want to show the loader when React loads data again\r\nexport const showLoader = () => {\r\n\tloader.classList.remove('loader__wrapper--hide')\r\n\t// document.body.style.overflowY = \"hidden\"\r\n};\r\n\r\nexport const hideLoader = () => {\r\n\tloader.classList.add('loader__wrapper--hide')\r\n\t// document.body.style.overflowY = \"scroll\"\r\n}\r\n\r\n\r\nexport default Components","interface PropsConfirm{\r\n\tsuccess: (successed: boolean) => void\r\n}\r\n\r\nconst Confirm = (props: PropsConfirm) => {\r\n\treturn(\r\n\t\t<div className=\"Popup_confirm\">\r\n\t\t\t{/* ...omit from parent container */}\r\n\t\t\t<button className=\"btn btn-danger\" onClick={e => props.success(false)}>Cancel</button>\r\n\t\t\t<button className=\"btn btn-primary\" onClick={e => props.success(true)}>Accept</button>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Confirm","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport { FaTimes } from \"react-icons/fa\"\r\nimport ModalReact from \"react-modal\"\r\nimport { connect, ConnectedProps } from \"react-redux\"\r\nimport Actions from \"../../redux/actions\"\r\nimport store from \"../../redux/store\"\r\nimport { POPUP_TYPES } from \"../../redux/types\"\r\n\r\n// MODALS\r\nimport Confirm from \"./Confirm\"\r\n\r\n\r\ninterface StatePopup{\r\n\tvisible: boolean\r\n}\r\n// const mapStateToProps = (state: any) => ({\r\n// \tpopupProps: state.popup\r\n// })\r\n\r\nconst mapDispatchToProps = (f: Function) => ({\r\n\thide: () => f(Actions.popup.hide())\r\n})\r\n\r\nconst connector = connect(null, mapDispatchToProps)\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>\r\n\r\ninterface PropsPopup extends PropsFromRedux{\r\n\tvisible: boolean\r\n\ttype: POPUP_TYPES\r\n\thead: string | Function\r\n\tcontent: string | Function\r\n\r\n\t// actions\r\n\tclose: () => void\r\n\tsuccess?: (successed: boolean) => void\r\n}\r\n\r\nclass ModalContainer extends React.PureComponent<PropsPopup, StatePopup>{\r\n\tconstructor(props: PropsPopup){\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tvisible: this.props.visible || false\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t// Methods callback\r\n\tclose(){\r\n\t\tthis.props.hide()\r\n\t\tthis.props.close()\r\n\t}\r\n\r\n\tsuccess(successed: boolean){\r\n\t\tthis.props.success!(successed)\r\n\t\tthis.props.hide()\r\n\t\tthis.props.close()\r\n\t}\r\n\r\n\tswitchModals(type: POPUP_TYPES){\r\n\t\tswitch(type){\r\n\t\t\tcase POPUP_TYPES.CONFIRM:\r\n\t\t\t\treturn <Confirm success={this.success.bind(this)}/>\r\n\t\t\tdefault:\r\n\t\t\t\treturn <></>\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\tReactDOM.createPortal(\r\n\t\t\t\t<div className={`Popup__wrapper ${this.props.visible? \"active\": \"noactive\"}`}>\r\n\t\t\t\t\t<div className=\"Popup\">\r\n\t\t\t\t\t\t<div className=\"control_top\">\r\n\t\t\t\t\t\t\t<span className=\"close_button\" onClick={this.close.bind(this)}>\r\n\t\t\t\t\t\t\t\t<FaTimes />\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"head\">\r\n\t\t\t\t\t\t\t<span>{this.props.head}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t\t<span>{this.props.content}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"control_botton\">\r\n\t\t\t\t\t\t\t{this.switchModals(this.props.type)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t,\r\n\t\t\t\tdocument.getElementById(\"root-modals\")!\r\n\t\t\t)\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport const Modal = {\r\n\tconfirm: (head: string, content: string, close: () => void, success: (s: boolean) => void) =>\r\n\t\tstore.dispatch(Actions.popup.show(POPUP_TYPES.CONFIRM, head, content, {close, success}))\r\n}\r\n\r\n\r\nexport default connector(ModalContainer)","import React, { MouseEvent } from 'react';\r\n\r\nimport API from \"../api\"\r\nimport { showLoader, hideLoader } from \"../components\"\r\n\r\n\r\n// Components and redux instances\r\nimport { \r\n\tDeck, \r\n\tDeckActive, \r\n\tDeckAdd,\r\n\tIDeckDefault\r\n} from \"../components/Deck\"\r\nimport { Notification } from '../components/Notification';\r\nimport { Modal } from '../components/modals';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\n\r\nimport { ActionChange } from '../domains/entities/actions.entity';\r\n\r\n// App styles\r\nimport \"../styles/pages/Decks.scss\"\r\n\r\ninterface IDecksProps {\r\n\tinit?: boolean\r\n\ttextHello?: string\r\n}\r\n\r\ninterface StateDecks{\r\n\tdecksSubscriptions: IDeckDefault[]\r\n\tdecksOwned: IDeckDefault[]\r\n\tisNewDeck: boolean\r\n\tisEdit: boolean\r\n\tdeckEdit: IDeckDefault | null\r\n}\r\nconst mapStateToProps = (state: any) => ({\r\n\tuser: state.app.user\r\n})\r\nconst connector = connect(mapStateToProps)\r\n\r\ntype PropsFromRedux = IDecksProps & ConnectedProps<typeof connector>\r\n\r\n\r\nclass Decks extends React.Component<PropsFromRedux, StateDecks>{\r\n\tpublic state: StateDecks = {\r\n\t\tdecksSubscriptions: [],\r\n\t\tdecksOwned: [],\r\n\r\n\t\tisNewDeck: false,\r\n\t\tisEdit: false,\r\n\t\tdeckEdit: null\r\n\t}\r\n\r\n\tconstructor(props: PropsFromRedux){\r\n\t\tsuper(props)\r\n\t\tshowLoader()\r\n\t}\r\n\r\n\taddDeck(e: React.FormEvent<any>){\r\n\t\tthis.setState({\r\n\t\t\tisNewDeck: true\r\n\t\t})\r\n\t}\r\n\r\n\tsaveDeck(e: React.FormEvent<any>, id: number, changes: ActionChange[]){\r\n\t\tAPI.applyChanges(id, changes)\r\n\t\t\t.then(response => {\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t\tthis.setState({ isEdit: false })\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err))\r\n\t}\r\n\r\n\teditDeck(e: React.FormEvent<any>, index: number){\r\n\t\tconsole.log(\"edit\", index);\r\n\t\tthis.setState({\r\n\t\t\tisEdit: true,\r\n\t\t\tdeckEdit: this.state.decksOwned[index]\r\n\t\t})\r\n\t}\r\n\r\n\tdeleteDeck(e: React.FormEvent<any>, id: number){\r\n\t\tModal.confirm(\r\n\t\t\t\"Вы действительно хотите удалить дек?\", \r\n\t\t\t\"Если вы удалите дек, все карточки тоже удалятся, вы уверены, что хотите это сделать?\",\r\n\t\t\t() => {},\r\n\t\t\t(accept) => {\r\n\t\t\t\tif(accept){\r\n\t\t\t\t\tAPI.deleteDeck(id)\r\n\t\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\t\tif(!response.data.error){\r\n\t\t\t\t\t\t\t\tthis.setState({ decksOwned: this.state.decksOwned.filter(deck => deck.id !== id) })\r\n\t\t\t\t\t\t\t\tNotification.success(\"OK\", \"Дек успешно удален\", 3000)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tNotification.error(\"Ошбика\", \"Дек не успешно удален\", 3000)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t// Notification.success(\"Hello!\", \"Content\", 3000)\r\n\t}\r\n\r\n\tlike(e: any, id: number){\r\n\t\tAPI.setLike(id)\r\n\t\t\t.then(res => console.log(res))\r\n\t\t\t.catch(err => console.log(err))\r\n\t\tconsole.log(\"like\", id);\r\n\t}\r\n\r\n\tchangePrivate(e: any, id: number, valuePrivate: boolean){\r\n\t\tAPI.applyChanges(id, [\r\n\t\t\t{\r\n\t\t\t\ttype: \"CHANGE_DECK\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tname: \"isPrivate\",\r\n\t\t\t\t\tvalue: Number(valuePrivate)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t])\r\n\t\t\t.then(resp => console.log(resp))\r\n\t\t\t.catch(err => console.log(err))\r\n\t}\r\n\r\n\tcreateNewDeck(e: any, data: any){\r\n\t\tAPI.addDeck(data)\r\n\t\t\t.then(response => {\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t\tthis.setState({ isNewDeck: false, decksOwned: [...this.state.decksOwned, {...data}] })\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err))\r\n\t}\r\n\r\n\thandleUnsibscribe(e: any, id: number){\r\n\t\tthis.setState({ decksSubscriptions: this.state.decksSubscriptions.filter(deck => deck.id !== id) })\r\n\t}\r\n\r\n\thandleCloseActiveAddingDeck(e: React.FormEvent<any>){\r\n\t\tthis.setState({ isNewDeck: false })\r\n\t}\r\n\r\n\thandleCloseActiveEditingDeck(e: React.FormEvent<any>){\r\n\t\tthis.setState({ isEdit: false })\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tconsole.log(this.state.decksOwned);\r\n\t\tif(this.state.decksOwned.length === 0){\r\n\t\t\tAPI.getDecks()\r\n\t\t\t\t// .then(data => console.log(data))\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t!data.error && \r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdecksSubscriptions: [...this.state.decksSubscriptions, ...data.data.subscriptions],\r\n\t\t\t\t\t\tdecksOwned: [...this.state.decksOwned, ...data.data.owned],\r\n\t\t\t\t\t})\r\n\t\t\t\t\thideLoader()\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => Notification.error(\"Error\", \"Failed to load data\", 3000))\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<section className=\"lesson_section\">\r\n\t\t\t\t\t<h2 className=\"cards_main_name\">My Decks</h2>\r\n\t\t\t\t\t<div className=\"cards\">\r\n\t\t\t\t\t\t{/* deck for EDIT */}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.isEdit && <DeckActive\r\n\r\n\t\t\t\t\t\t\t\tindex={-1}\r\n\t\t\t\t\t\t\t\tid={this.state.deckEdit!.id}\r\n\t\t\t\t\t\t\t\tname={this.state.deckEdit!.name} \r\n\t\t\t\t\t\t\t\tcountWords={this.state.deckEdit!.countWords} \r\n\t\t\t\t\t\t\t\tcountRepetitions={this.state.deckEdit!.countRepetitions} \r\n\t\t\t\t\t\t\t\tisPrivate={this.state.deckEdit!.isPrivate} \r\n\t\t\t\t\t\t\t\tmainLang={this.state.deckEdit!.mainLang} \r\n\t\t\t\t\t\t\t\tsecondLang={this.state.deckEdit!.secondLang} \r\n\t\t\t\t\t\t\t\tcards={this.state.deckEdit!.cards}\r\n\t\t\t\t\t\t\t\tauthor={this.state.deckEdit!.author}\r\n\t\t\t\t\t\t\t\towner={this.state.deckEdit!.owner}\r\n\t\t\t\t\t\t\t\tdescription={this.state.deckEdit!.description}\r\n\t\t\t\t\t\t\t\tcountLikes={this.state.deckEdit!.countLikes || 0}\r\n\t\t\t\t\t\t\t\tactiveLike={this.state.deckEdit!.activeLike || false}\r\n\r\n\t\t\t\t\t\t\t\tenableMethods={{\r\n\t\t\t\t\t\t\t\t\tenableSave: true,\r\n\t\t\t\t\t\t\t\t\tenableDelete: true\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclose={this.handleCloseActiveEditingDeck.bind(this)}\r\n\t\t\t\t\t\t\t\tsave={this.saveDeck.bind(this)}\r\n\t\t\t\t\t\t\t\tdelete={this.deleteDeck.bind(this)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{/* New Deck */}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.isNewDeck && <DeckActive\r\n\t\t\t\t\t\t\t\tindex={-1}\r\n\t\t\t\t\t\t\t\tid={-1}\r\n\t\t\t\t\t\t\t\tname={\"New Deck\"} \r\n\t\t\t\t\t\t\t\tcountWords={0} \r\n\t\t\t\t\t\t\t\tcountRepetitions={0} \r\n\t\t\t\t\t\t\t\tisPrivate={false} \r\n\t\t\t\t\t\t\t\tmainLang={\"RU\"} \r\n\t\t\t\t\t\t\t\tsecondLang={\"ENG\"} \r\n\t\t\t\t\t\t\t\tcards={[]}\r\n\t\t\t\t\t\t\t\tauthor={this.props.user.login}\r\n\t\t\t\t\t\t\t\towner={this.props.user.login}\r\n\t\t\t\t\t\t\t\tdescription={\"\"}\r\n\t\t\t\t\t\t\t\tcountLikes={0}\r\n\t\t\t\t\t\t\t\tactiveLike={false}\r\n\r\n\t\t\t\t\t\t\t\tenableMethods={{\r\n\t\t\t\t\t\t\t\t\tenableCreate: true\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclose={this.handleCloseActiveAddingDeck.bind(this)}\r\n\t\t\t\t\t\t\t\tcreate={this.createNewDeck.bind(this)}\r\n\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t{/* Adding deck */}\r\n\t\t\t\t\t\t<DeckAdd add={this.addDeck.bind(this)} />\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.decksOwned.length !== 0 && this.state.decksOwned.map((deck: IDeckDefault, index: number) => {\r\n\t\t\t\t\t\t\t\treturn <Deck\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tid={deck.id}\r\n\t\t\t\t\t\t\t\t\tname={deck.name}\r\n\t\t\t\t\t\t\t\t\tcountWords={deck.countWords || 0} \r\n\t\t\t\t\t\t\t\t\tauthor={deck.author}\r\n\t\t\t\t\t\t\t\t\towner={deck.owner}\r\n\t\t\t\t\t\t\t\t\tdescription={deck.description}\r\n\t\t\t\t\t\t\t\t\tcountRepetitions={deck.countRepetitions || 0} \r\n\t\t\t\t\t\t\t\t\tisPrivate={deck.isPrivate} \r\n\t\t\t\t\t\t\t\t\tmainLang={deck.mainLang.toUpperCase()} \r\n\t\t\t\t\t\t\t\t\tsecondLang={deck.secondLang.toUpperCase()}\r\n\t\t\t\t\t\t\t\t\tcountLikes={deck.countLikes || 0}\r\n\t\t\t\t\t\t\t\t\tactiveLike={deck.activeLike || false}\r\n\t\t\t\t\t\t\t\t\tcards={deck.cards}\r\n\t\t\t\t\t\t\t\t\tkey={`deck_${index}`}\r\n\r\n\t\t\t\t\t\t\t\t\t// enables\r\n\t\t\t\t\t\t\t\t\tenableMethods={{ \r\n\t\t\t\t\t\t\t\t\t\tenableChangePrivate: true, \r\n\t\t\t\t\t\t\t\t\t\tenableDelete: true, \r\n\t\t\t\t\t\t\t\t\t\tenableEdit:true,\r\n\t\t\t\t\t\t\t\t\t\tenableLike: true\r\n\t\t\t\t\t\t\t\t\t}}\r\n\r\n\t\t\t\t\t\t\t\t\t// active methods\r\n\t\t\t\t\t\t\t\t\tedit={this.editDeck.bind(this)}\r\n\t\t\t\t\t\t\t\t\tdelete={this.deleteDeck.bind(this)}\r\n\t\t\t\t\t\t\t\t\tlike={this.like}\r\n\t\t\t\t\t\t\t\t\tchangePrivate={this.changePrivate.bind(this)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t<section className={`lesson_section ${this.state.decksSubscriptions.length === 0? \"noactive\": \"active\"}`}>\r\n\t\t\t\t\t<h2 className=\"cards_main_name\">My Subscribed Decks</h2>\r\n\t\t\t\t\t<div className=\"cards\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.decksSubscriptions.length !== 0 && \r\n\t\t\t\t\t\t\t\tthis.state.decksSubscriptions.map((deck: IDeckDefault, index: number) => {\r\n\t\t\t\t\t\t\t\t\treturn <Deck\r\n\t\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\t\tid={deck.id}\r\n\t\t\t\t\t\t\t\t\t\tname={deck.name}\r\n\t\t\t\t\t\t\t\t\t\tcountWords={deck.countWords || 0} \r\n\t\t\t\t\t\t\t\t\t\tauthor={deck.author}\r\n\t\t\t\t\t\t\t\t\t\towner={deck.owner}\r\n\t\t\t\t\t\t\t\t\t\tdescription={deck.description}\r\n\t\t\t\t\t\t\t\t\t\tcountRepetitions={deck.countRepetitions || 0} \r\n\t\t\t\t\t\t\t\t\t\tisPrivate={deck.isPrivate} \r\n\t\t\t\t\t\t\t\t\t\tmainLang={deck.mainLang.toUpperCase()} \r\n\t\t\t\t\t\t\t\t\t\tsecondLang={deck.secondLang.toUpperCase()}\r\n\t\t\t\t\t\t\t\t\t\tcountLikes={deck.countLikes || 0}\r\n\t\t\t\t\t\t\t\t\t\tactiveLike={deck.activeLike || false}\r\n\t\t\t\t\t\t\t\t\t\tcards={deck.cards}\r\n\t\t\t\t\t\t\t\t\t\tkey={`deck_${index}`}\r\n\t\t\t\t\t\t\t\t\t\tsubscribed={deck.subscribed}\r\n\t\t\t\t\t\t\t\t\t\tsubscribe={this.handleUnsibscribe.bind(this)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t// enables\r\n\t\t\t\t\t\t\t\t\t\tenableMethods={{ \r\n\t\t\t\t\t\t\t\t\t\t\tenableLike: true,\r\n\t\t\t\t\t\t\t\t\t\t\tenableSubscribe: true\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\r\n\t\t\t\t\t\t\t\t\t\t// active methods\r\n\t\t\t\t\t\t\t\t\t\tlike={this.like}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default connector(Decks)\r\n","import React from 'react';\r\n\r\n// Components\r\n\r\n// App styles\r\nimport \"../styles/reset.scss\"\r\nimport '../styles/main.scss';\r\n\r\n\r\nconst Home: React.FC = props => {\r\n  return (\r\n    <div className=\"home\">\r\n      {/* <Currsection info={{Hello: 20, \"dflmdf fdf\": \"310/31\"}} />\r\n      <Card currentWord={3} countWords={10} word=\"Spring\" hint=\"Весна\" /> */}\r\n      <p style={{color: \"white\"}}>Home, sweet home</p> \r\n\t </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { createRef, MouseEvent } from 'react';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport { Link, RouteComponentProps } from 'react-router-dom'\r\n\r\nimport Action from \"../redux/actions\"\r\nimport API from \"../api\"\r\nimport { Notification } from '../components/Notification';\r\n\r\n// Styles\r\nimport \"../styles/forms.scss\"\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tauth: state.app.auth\r\n})\r\n\r\nconst mapDispatchToProps = (f: Function) => ({\r\n\tlogin: (user: any) => f(Action.app.login(user))\r\n})\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps)\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector> & RouteComponentProps \r\n\r\n\r\ninterface StateLogin{\r\n\tloginValidate: boolean | null,\r\n\tpasswordValidate: boolean | null\r\n}\r\n\r\nclass Login extends React.Component<PropsFromRedux, StateLogin>{\r\n\tpublic state = {\r\n\t\t// validate\r\n\t\tloginValidate: null,\r\n\t\tpasswordValidate: null\r\n\t}\r\n\tprivate login = createRef<HTMLInputElement>()\r\n\tprivate password = createRef<HTMLInputElement>()\r\n\r\n\t// eslint-disable-next-line @typescript-eslint/no-useless-constructor\r\n\tconstructor(props: PropsFromRedux){\r\n\t\tsuper(props)\r\n\t}\r\n\r\n\tclickLogin(e: MouseEvent){\r\n\t\te.preventDefault()\r\n\t\tAPI.login({\r\n\t\t\tlogin: this.login.current?.value,\r\n\t\t\tpassword: this.password.current?.value\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(!res.data.error){\r\n\t\t\t\t\tthis.props.login(res.data)\r\n\t\t\t\t\tthis.props.history.push(\"/\")\r\n\t\t\t\t\tNotification.success(\"OK\", \"Вы авторизованы!\", 3000)\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tNotification.error(\"Ошибка\", \"Неверный логин или пароль\", 4000)\r\n\t\t\t\t})\r\n\t\t\t.catch(err => Notification.error(\"Error\", \"Error on server\"))\r\n\t}\r\n\r\n\tvalidateForm(e: any){\r\n\t\tconsole.log(e)\r\n\t\tswitch(e.target.name){\r\n\t\t\tcase \"login\":\r\n\t\t\t\te.target.value.length > 3 && \r\n\t\t\t\t\tthis.setState({ loginValidate: e.target.value.length < 30 })\r\n\t\t\t\tbreak\r\n\t\t\tcase \"password\":\r\n\t\t\t\te.target.value.length > 7 && \r\n\t\t\t\t\tthis.setState({ passwordValidate: e.target.value.length < 40 })\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"login\">\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<h2>Login</h2>\r\n\t\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\tname=\"login\" \r\n\t\t\t\t\t\t\tonBlur={ e => this.validateForm(e) } \r\n\t\t\t\t\t\t\tref={this.login} \r\n\t\t\t\t\t\t\tclassName={`input-login form-control \r\n\t\t\t\t\t\t\t\t${this.state.loginValidate !== null ? \r\n\t\t\t\t\t\t\t\t\t(this.state.loginValidate? \"is-valid\": \"is-invalid\"): \r\n\t\t\t\t\t\t\t\t\t\"\"}`} \r\n\t\t\t\t\t\t\tid=\"floatingInput\" \r\n\t\t\t\t\t\t\tplaceholder=\"your login\" \r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Login</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\ttype=\"password\" \r\n\t\t\t\t\t\t\tonBlur={ e => this.validateForm(e) } \r\n\t\t\t\t\t\t\tref={this.password} \r\n\t\t\t\t\t\t\tclassName={`input-password form-control \r\n\t\t\t\t\t\t\t\t${this.state.passwordValidate !== null ? \r\n\t\t\t\t\t\t\t\t\t(this.state.passwordValidate? \"is-valid\": \"is-invalid\"): \r\n\t\t\t\t\t\t\t\t\t\"\"}`} \r\n\t\t\t\t\t\t\tid=\"floatingInput\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"your password\" \r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Password</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={e => this.clickLogin(e)}>login</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default connector(Login)","import React from 'react';\r\nimport { Link, RouteComponentProps } from 'react-router-dom'\r\n\r\n\r\n\r\ninterface StatisticsProps extends RouteComponentProps {\r\n\r\n}\r\n\r\ninterface StatisticsState{\r\n  \r\n}\r\n\r\nclass Statistics extends React.Component<StatisticsProps>{\r\n  constructor(props: StatisticsProps){\r\n    super(props)\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n  }\r\n  render(){\r\n    return(\r\n      <div className=\"page_statistics\">\r\n\t\t    Statistics\r\n\t    </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default Statistics;\r\n","import React, { createRef, MouseEvent } from \"react\"\r\nimport { connect, ConnectedProps } from \"react-redux\"\r\nimport { RouteComponentProps } from \"react-router-dom\"\r\n\r\nimport API from \"../api\"\r\nimport { Notification } from \"../components/Notification\"\r\nimport Action from \"../redux/actions\"\r\n\r\nimport \"../styles/forms.scss\"\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tauth: state.app.auth\r\n})\r\n\r\nconst mapDispatchToProps = (f: Function) => ({\r\n\tlogin: (user: any) => f(Action.app.login(user))\r\n})\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps)\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector> & RouteComponentProps \r\n\r\ninterface RegistrationState{\r\n\tnameValidate: boolean | null\r\n\tloginValidate: boolean | null\r\n\tpasswordValidate: boolean | null\r\n}\r\n\r\nclass Registration extends React.Component<PropsFromRedux, RegistrationState>{\r\n\tpublic state = {\r\n\t\tnameValidate: null,\r\n\t\tloginValidate: null,\r\n\t\tpasswordValidate: null\r\n\t}\r\n\tprivate name = createRef<HTMLInputElement>()\r\n\tprivate login = createRef<HTMLInputElement>()\r\n\tprivate password = createRef<HTMLInputElement>()\r\n\tprivate rpassword = createRef<HTMLInputElement>()\r\n\r\n\t// eslint-disable-next-line @typescript-eslint/no-useless-constructor\r\n\tconstructor(props: PropsFromRedux){\r\n\t\tsuper(props)\r\n\t}\r\n\r\n\tclickRegistration(e: MouseEvent){\r\n\t\te.preventDefault()\r\n\t\tif(this.state.loginValidate && this.state.nameValidate && this.state.passwordValidate){\r\n\t\t\tif(this.password.current?.value === this.rpassword.current?.value){\r\n\t\t\t\tAPI.registration({\r\n\t\t\t\t\tname: this.name.current?.value,\r\n\t\t\t\t\tlogin: this.login.current?.value,\r\n\t\t\t\t\tpassword: this.password.current?.value,\r\n\t\t\t\t\trefer: null\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif(!res.data.error){\r\n\t\t\t\t\t\t\tthis.props.login(res.data)\r\n\t\t\t\t\t\t\tthis.props.history.push(\"/\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tNotification.error(\"Ошибка\", \"Возможно, такой логин уже занят\", 4000)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => console.log(err))\r\n\t\t\t}\r\n\t\t\t// Exception: passwords is not equal\r\n\t\t\telse \r\n\t\t\t\tNotification.warning(\"Ошибка\", \"Пароли не совпадают\", 4000)\r\n\t\t}\r\n\t\telse Notification.warning(\"Ошибка\", \"Введите корректные данные\", 4000)\r\n\t\t\r\n\t}\r\n\r\n\tonValidate(e: MouseEvent<HTMLInputElement>){\r\n\t\tconsole.log(e);\r\n\t\tswitch(e.currentTarget.name){\r\n\t\t\tcase \"name\":\r\n\t\t\t\tthis.setState({ nameValidate: e.currentTarget.value.length > 4 }); break\r\n\t\t\tcase \"login\":\r\n\t\t\t\tthis.setState({ loginValidate: e.currentTarget.value.length > 3 }); break\r\n\t\t\tcase \"password\":\r\n\t\t\t\tthis.setState({ passwordValidate: e.currentTarget.value.length > 7 }); break\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"registration\">\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<h2>Registration</h2>\r\n\t\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\tclassName={`form-control \r\n\t\t\t\t\t\t\t\t${this.state.nameValidate !== null ? \r\n\t\t\t\t\t\t\t\t\t(this.state.nameValidate? \"is-valid\": \r\n\t\t\t\t\t\t\t\t\t\"is-invalid\"): \r\n\t\t\t\t\t\t\t\t\"\"}\r\n\t\t\t\t\t\t\t`}\r\n\t\t\t\t\t\t\tonBlur={e => this.onValidate(e as any)}\r\n\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\tref={this.name} \r\n\t\t\t\t\t\t\tid=\"floatingInput\"\r\n\t\t\t\t\t\t\tplaceholder=\"your name\" />\r\n\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Name</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\tname=\"login\"\r\n\t\t\t\t\t\t\tclassName={`form-control \r\n\t\t\t\t\t\t\t\t${this.state.loginValidate !== null ? \r\n\t\t\t\t\t\t\t\t\t(this.state.loginValidate? \r\n\t\t\t\t\t\t\t\t\t\t\"is-valid\": \r\n\t\t\t\t\t\t\t\t\t\t\"is-invalid\"): \r\n\t\t\t\t\t\t\t\t\t\"\"}\r\n\t\t\t\t\t\t\t\t`}\r\n\t\t\t\t\t\t\tonBlur={e => this.onValidate(e as any)}\r\n\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\tref={this.login} \r\n\t\t\t\t\t\t\tid=\"floatingInput\" \r\n\t\t\t\t\t\t\tplaceholder=\"your login\" />\r\n\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Login</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tclassName={`form-control \r\n\t\t\t\t\t\t\t\t${this.state.passwordValidate !== null ? \r\n\t\t\t\t\t\t\t\t\t(this.state.passwordValidate? \r\n\t\t\t\t\t\t\t\t\t\t\"is-valid\": \r\n\t\t\t\t\t\t\t\t\t\t\"is-invalid\"): \r\n\t\t\t\t\t\t\t\t\t\"\"}\r\n\t\t\t\t\t\t\t\t`}\r\n\t\t\t\t\t\t\tonBlur={e => this.onValidate(e as any)}\r\n\t\t\t\t\t\t\ttype=\"password\" \r\n\t\t\t\t\t\t\tref={this.password} \r\n\t\t\t\t\t\t\tid=\"floatingInput\" \r\n\t\t\t\t\t\t\tplaceholder=\"your password\" />\r\n\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Password</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\ttype=\"password\" \r\n\t\t\t\t\t\t\tref={this.rpassword} \r\n\t\t\t\t\t\t\tclassName=\"form-control\" \r\n\t\t\t\t\t\t\tid=\"floatingInput\" \r\n\t\t\t\t\t\t\tplaceholder=\"your password\" \r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Repeat password</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={e => this.clickRegistration(e)}>registration</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default connector(Registration)","import React from 'react';\r\nimport { RouteComponentProps } from 'react-router'\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { FaArrowRight } from \"react-icons/fa\"\r\n\r\nimport API from '../api';\r\nimport { ICard } from '../domains/entities/card.entity';\r\nimport { IDeck } from '../domains/entities/deсk.entity';\r\n\r\nimport Currsection from '../components/Currsection';\r\nimport { Notification } from '../components/Notification';\r\nimport Action from \"../redux/actions\"\r\n\r\nimport \"../styles/pages/Play.scss\"\r\n\r\nconst mapDispatchToProps = (f: Function) => ({\r\n\taddScores: (scores: number) => f(Action.app.addScores(scores))\r\n})\r\n\r\nconst connector = connect(null, mapDispatchToProps)\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>\r\n\r\n\r\ninterface IPlayProps extends RouteComponentProps, PropsFromRedux{\r\n}\r\n\r\ninterface ResultEndPlayToServer{\r\n\tidCard: number\r\n\ttime: number\r\n\tanswer: boolean\r\n}\r\n\r\ninterface Results{\r\n\tmain_word: string\r\n\tanswer: string\r\n\tsuccessed: boolean\r\n\ttime: number\r\n}\r\n\r\ninterface StatePlay{\r\n\tdeck: IDeck | null\r\n\tcards: ICard[]\r\n\tcurrentCard: number\r\n\tcurrentLang: string\r\n\tsuccessed: ResultEndPlayToServer[]\r\n\tvalueInputAnswer: string\r\n\tended: boolean\r\n\tshowResults: boolean\r\n\tscores: number\r\n\tvisibleHint: boolean\r\n}\r\n\r\nclass Play extends React.Component<IPlayProps, StatePlay>{\r\n\tprivate TIME_CARD = 0\r\n\tconstructor(props: IPlayProps){\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tdeck: null,\r\n\t\t\tcards: [],\r\n\t\t\tcurrentLang: \"ENG\",\r\n\t\t\tcurrentCard: 0,\r\n\t\t\tsuccessed: [],\r\n\t\t\tvalueInputAnswer: \"\",\r\n\t\t\tended: false,\r\n\t\t\tshowResults: false,\r\n\t\t\tscores: 0,\r\n\t\t\tvisibleHint: false\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tshuffleCards(array: ICard[]) {\r\n\t\tfor (let i = array.length - 1; i > 0; i--) {\r\n\t\t\tconst j = Math.floor(Math.random() * (i + 1));\r\n\t\t\t[array[i], array[j]] = [array[j], array[i]];\r\n\t\t}\r\n\r\n\t\treturn array;\r\n\t}\r\n\r\n\tnextCard(successed: boolean){\r\n\t\tif(this.state.currentCard + 1 < this.state.cards.length){\t\t\r\n\t\t\tthis.setState({ \r\n\t\t\t\tcurrentCard: this.state.currentCard + 1,\r\n\t\t\t\tsuccessed: [\r\n\t\t\t\t\t...this.state.successed, \r\n\t\t\t\t\t{ \r\n\t\t\t\t\t\tidCard: this.state.cards[this.state.currentCard].id, \r\n\t\t\t\t\t\ttime: this.getTimeDeck(\"end\"),\r\n\t\t\t\t\t\tanswer: successed\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}, () => this.getTimeDeck(\"start\"))\r\n\t\t}\r\n\t\telse{\r\n\t\t\t\r\n\t\t\tthis.setState({ ended: true, successed: [\r\n\t\t\t\t...this.state.successed, \r\n\t\t\t\t{ \r\n\t\t\t\t\tidCard: this.state.cards[this.state.currentCard].id, \r\n\t\t\t\t\ttime: this.getTimeDeck(\"end\"),\r\n\t\t\t\t\tanswer: successed\r\n\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}, () => {\r\n\t\t\t\tthis.getTimeDeck(\"start\")\r\n\t\t\t\tAPI.getScoresAfterEndPlay({\r\n\t\t\t\t\tresults: this.state.successed\r\n\t\t\t\t}, this.state.deck!.id)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t// console.log(res);\r\n\t\t\t\t\t\tthis.setState({ scores: res.data.score || 0 })\r\n\t\t\t\t\t\tthis.props.addScores(res.data.score || 0)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => console.log(err))\r\n\t\t\t})\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tgetTimeDeck(state: \"start\" | \"end\"): number{\r\n\t\tif(state === \"start\"){\r\n\t\t\tthis.TIME_CARD = new Date().getTime()\r\n\t\t}\r\n\t\telse if(state === \"end\"){\r\n\t\t\tconst time_card = this.TIME_CARD\r\n\t\t\tthis.TIME_CARD = 0\r\n\t\t\treturn Math.ceil((new Date().getTime() - time_card) / 1000)\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tcheckCard(card: ICard, value: string, lang?: string): boolean{\r\n\t\tconst answers = card.answer\r\n\t\t\t.split(\"|\")\r\n\t\t\t.map(ans => ans.trim().toLowerCase())\r\n\t\t\t\r\n\t\treturn answers.includes(value.toLowerCase())\r\n\t}\r\n\r\n\thandleNextCard(){\r\n\t\tconst valueAnswer = this.state.valueInputAnswer\r\n\t\tif(this.checkCard(this.state.cards[this.state.currentCard], valueAnswer))\r\n\t\t\tthis.nextCard(true)\r\n\t\telse{\r\n\t\t\tthis.nextCard(false)\r\n\t\t\tthis.setState({ valueInputAnswer: \"\" })\r\n\t\t\t// else input outline: red\r\n\t\t}\r\n\t}\r\n\t\r\n\thandleSkipCard(){\r\n\t\tthis.nextCard(false)\r\n\t}\r\n\r\n\thandleChangeInputAnswer(e: React.FormEvent<HTMLInputElement>){\r\n\t\tif(this.checkCard(this.state.cards[this.state.currentCard], e.currentTarget.value)){\r\n\t\t\tthis.setState({ valueInputAnswer: \"\"})\r\n\t\t\tthis.nextCard(true)\r\n\t\t}else{\r\n\t\t\tif(e.currentTarget.value === \"-\"){\r\n\t\t\t\tthis.nextCard(false)\r\n\t\t\t\tthis.setState({ valueInputAnswer: \"\" })\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tthis.setState({ valueInputAnswer: e.currentTarget.value })\r\n\t\t}\r\n\t}\r\n\r\n\thandleHint(){\r\n\t\tthis.setState({ visibleHint: !this.state.visibleHint })\r\n\t}\r\n\r\n\tgetResults(): Results[]{\r\n\t\treturn this.state.successed.map(suc => {\r\n\t\t\tconst __card = this.state.cards.filter(card => card.id === suc.idCard)[0]\r\n\t\t\treturn {\r\n\t\t\t\tmain_word: __card.main_word,\r\n\t\t\t\tanswer: __card.answer,\r\n\t\t\t\tsuccessed: suc.answer,\r\n\t\t\t\ttime: suc.time\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tconst params: any = this.props.match.params\r\n\t\tconst id = Number(params.id)\r\n\t\tif(Boolean(id)){\r\n\t\t\tAPI.getDeck(id)\r\n\t\t\t\t.then(resp => {\r\n\t\t\t\t\tthis.getTimeDeck(\"start\")\r\n\t\t\t\t\tthis.setState({ deck: resp.deck, cards: this.shuffleCards(resp.deck.cards) })\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.log(err))\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.props.history.push(\"/decks\")\r\n\t\t\tNotification.warning(\"You have not choise Deck\", \"Please, choose playing Deck\", 4000)\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"Play page\" style={{color: \"white\"}}>\r\n\t\t\t\t<div className={`Play__card ${this.state.ended? \"ended\": \"\"}`}>\r\n\t\t\t\t\t<Currsection \r\n\t\t\t\t\t\tinfo = {{ \r\n\t\t\t\t\t\t\tname: this.state.deck?.name,\r\n\t\t\t\t\t\t\tdescription: this.state.deck?.description || \"no description\",\r\n\t\t\t\t\t\t\t\"current card\": `${this.state.currentCard + 1} / ${this.state.deck?.cards.length}`\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t<section className=\"lesson_section Play__card_section\">\r\n\t\t\t\t\t\t<div className=\"lesson_card\">\r\n\t\t\t\t\t\t\t<span className=\"lesson_card_lang\">{this.state.deck?.mainLang.toUpperCase()}</span>\r\n\t\t\t\t\t\t\t<button className=\"lesson_card_hint\" onClick={this.handleHint.bind(this)}>?</button>\r\n\t\t\t\t\t\t\t<div className={`hint ${this.state.visibleHint? \"active\": \"noactive\"}`}>\r\n\t\t\t\t\t\t\t\t{this.state.cards[this.state.currentCard]?.description}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<span className=\"lesson_card_word\">{this.state.cards[this.state.currentCard]?.main_word}</span> \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</section>\r\n\r\n\t\t\t\t\t<section className=\"lesson_section answer\">\r\n\t\t\t\t\t\t<div onClick={this.handleSkipCard.bind(this)} className=\"answer_button_skip_word\">Skip</div>\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\tvalue={this.state.valueInputAnswer} \r\n\t\t\t\t\t\t\tonChange={this.handleChangeInputAnswer.bind(this)} \r\n\t\t\t\t\t\t\ttype=\"text\" className=\"answer_input\" \r\n\t\t\t\t\t\t\tplaceholder={`translate on ${this.state.deck?.secondLang.toUpperCase()}...`} \r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div onClick={e => this.handleNextCard()} className=\"answer_button_next_word\"><FaArrowRight /></div>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</div>\t\r\n\t\t\t\t\r\n\r\n\t\t\t\t<div className={`section_congratulations ${this.state.ended && !this.state.showResults? \"ended\": \"\"}`}>\r\n\t\t\t\t\t<div className=\"congratulations\">\r\n\t\t\t\t\t\t<div className=\"welc\">\r\n\t\t\t\t\t\t\t<h2>Congratulations!</h2>\r\n\t\t\t\t\t\t\t<h3>You have passed the \"{this.state.deck?.name}\" deck once again.</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h1>Your scores: {this.state.scores}</h1>\r\n\t\t\t\t\t\t<div className=\"control_buttons\">\r\n\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\" \r\n\t\t\t\t\t\t\t\tonClick={e => this.setState({ \r\n\t\t\t\t\t\t\t\t\tended: false, \r\n\t\t\t\t\t\t\t\t\tcurrentCard: 0, \r\n\t\t\t\t\t\t\t\t\tcards: this.shuffleCards(this.state.cards),\r\n\t\t\t\t\t\t\t\t\tsuccessed: []\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>Once again</button>\r\n\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-success\" \r\n\t\t\t\t\t\t\t\tonClick={e => this.setState({ showResults: true })}\r\n\t\t\t\t\t\t\t>results</button>\r\n\t\t\t\t\t\t\t<Link to=\"/decks\" className=\"btn btn-danger\">To Decks</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={`section_results ${this.state.showResults? \"showed\": \"hided\"}`}>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.getResults().map(result => {\r\n\t\t\t\t\t\t\t\treturn <li>\r\n\t\t\t\t\t\t\t\t\t{result.main_word} - {result.answer}: {result.successed? \"Yes!\": \"no!\"} on {result.time}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={e => this.setState({ showResults: false })}>back</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default connector(Play)\r\n","import React from \"react\"\r\nimport { FaChevronLeft, FaChevronRight } from \"react-icons/fa\"\r\nimport ReactPaginate from \"react-paginate\"\r\n\r\ninterface PaginationProps{\r\n\t// values props\r\n\tcountPages: number\r\n\r\n\t// action props\r\n\tchangeCountPages: (e: React.FormEvent<any>) => void\r\n\tchangeCurrentPage: (selectedItem: { selected: number }) => void\r\n}\r\n\r\nconst Pagination: React.FC<PaginationProps> = props => {\r\n\treturn (\r\n\t\t<div className=\"pagination\">\r\n\t\t\t<ReactPaginate\r\n\t\t\t\tpreviousLabel={<FaChevronLeft />}\r\n\t\t\t\tnextLabel={<FaChevronRight />}\r\n\t\t\t\tbreakLabel={'...'}\r\n\t\t\t\tbreakClassName={'break-me'}\r\n\t\t\t\tpageCount={props.countPages}\r\n\t\t\t\tmarginPagesDisplayed={2}\r\n\t\t\t\tpageRangeDisplayed={5}\r\n\t\t\t\tonPageChange={props.changeCurrentPage}\r\n\t\t\t\tcontainerClassName={'pagination_pages_buttons'}\r\n\t\t\t\tactiveClassName={'active'}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Pagination","import React from 'react';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\n\r\nimport API from '../api';\r\nimport { Notification } from '../components/Notification';\r\nimport { showLoader, hideLoader } from \"../components\"\r\nimport { Deck, IDeckDefault } from '../components/Deck';\r\nimport Pagination from \"../components/Pagination\"\r\n\r\nimport \"../styles/pages/Decks.scss\"\r\n\r\ninterface StateStore{\r\n\tdecks: IDeckDefault[]\r\n\tcurrentPage: number\r\n\tcountPages: number\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tauth: state.app.auth,\r\n\tnotify: state.notification,\r\n\tuser: state.app.user\r\n})\r\nconst connector = connect(mapStateToProps)\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>\r\n\r\n\r\nclass Store extends React.Component<PropsFromRedux, StateStore>{\r\n\tpublic state: StateStore = {\r\n\t\tdecks: [],\r\n\t\tcurrentPage: 1,\r\n\t\tcountPages: 1\r\n\t}\r\n\tconstructor(props: PropsFromRedux){\r\n\t\tsuper(props)\r\n\t\tshowLoader()\r\n\t}\r\n\r\n\t// Methods\r\n\thandleLike(e: any, id: number){\r\n\t\tconsole.log(\"like\", id);\r\n\t\tAPI.setLike(id)\r\n\t\t\t.then(response => console.log(response))\r\n\t\t\t.catch(err => console.log(err))\r\n\t}\r\n\thandleClone(e: any, id: number){\r\n\t\tAPI.cloneDeck(id)\r\n\t\t\t.then(res => console.log(res))\r\n\t\t\t.catch(err => console.log(err))\r\n\t}\r\n\r\n\tupdateDecks(page: number){\r\n\t\t// showLoader()\r\n\t\tAPI.getAllDecks(page)\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tthis.setState({ decks: res.data.decks, countPages: res.data.pages })\r\n\t\t\thideLoader()\r\n\t\t})\r\n\t\t.catch(err => console.log(err))\r\n\t}\r\n\thandleChangeCurrentPage(choosen: { selected: number }){\r\n\t\tthis.setState({ currentPage: choosen.selected + 1 })\r\n\t\tthis.updateDecks( choosen.selected + 1 )\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.updateDecks(this.state.currentPage)\r\n\t}\r\n\r\n\trender(){\r\n\t\tconsole.log(this.state.decks);\r\n\t\treturn(\r\n\t\t\t<div className=\"Store\" style={{color: \"white\"}}>\r\n\t\t\t\t<section className=\"lesson_section\">\r\n\t\t\t\t\t<h2 className=\"cards_main_name\">Store</h2>\r\n\t\t\t\t\t<div className=\"cards\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.decks.length !== 0 && this.state.decks.map((deck: IDeckDefault, index: number) => {\r\n\t\t\t\t\t\t\t\treturn <Deck\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tid={deck.id}\r\n\t\t\t\t\t\t\t\t\tname={deck.name}\r\n\t\t\t\t\t\t\t\t\tcountWords={deck.countWords || 0} \r\n\t\t\t\t\t\t\t\t\tauthor={deck.author}\r\n\t\t\t\t\t\t\t\t\towner={deck.owner}\r\n\t\t\t\t\t\t\t\t\tdescription={deck.description}\r\n\t\t\t\t\t\t\t\t\tcountRepetitions={deck.countRepetitions || 0} \r\n\t\t\t\t\t\t\t\t\tisPrivate={deck.isPrivate} \r\n\t\t\t\t\t\t\t\t\tmainLang={deck.mainLang.toUpperCase()} \r\n\t\t\t\t\t\t\t\t\tsecondLang={deck.secondLang.toUpperCase()}\r\n\t\t\t\t\t\t\t\t\tcountLikes={deck.countLikes || 0}\r\n\t\t\t\t\t\t\t\t\tactiveLike={deck.activeLike || false}\r\n\t\t\t\t\t\t\t\t\tcards={deck.cards}\r\n\t\t\t\t\t\t\t\t\tkey={`deck_${index}`}\r\n\t\t\t\t\t\t\t\t\tsubscribed={deck.subscribed}\r\n\t\t\t\t\t\t\t\t\tclone={this.handleClone}\r\n\r\n\t\t\t\t\t\t\t\t\tlike={this.handleLike}\r\n\r\n\t\t\t\t\t\t\t\t\tenableMethods={{\r\n\t\t\t\t\t\t\t\t\t\tenableLike: this.props.auth,\r\n\t\t\t\t\t\t\t\t\t\tenableSubscribe: deck.author !== this.props.user.login && this.props.auth,\r\n\t\t\t\t\t\t\t\t\t\tenableClone: this.props.auth\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Pagination \r\n\t\t\t\t\t\tcountPages={this.state.countPages}\r\n\t\t\t\t\t\tchangeCountPages={a => console.log(a)}\r\n\t\t\t\t\t\tchangeCurrentPage={choosen => this.handleChangeCurrentPage(choosen)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</section>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default connector(Store)\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport API from '../api';\r\nimport { hideLoader, showLoader } from '../components';\r\n\r\nimport \"../styles/pages/Rating.scss\"\r\ninterface RatingItem{\r\n\taverage_rating: number\r\n\tlogin: string\r\n\tname: string\r\n\trating: number\r\n\twalkthroughs: number\r\n}\r\n\r\ninterface IRatingProps{\r\n}\r\n\r\ninterface RatingState{\r\n\trating: RatingItem[]\r\n}\r\n\r\nclass Rating extends React.Component<IRatingProps, RatingState>{\r\n\tconstructor(props: IRatingProps){\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\trating: []\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tconst enableProps = [\"login\", \"rating\"]\r\n\t\tshowLoader()\r\n\t\tAPI.getRating()\r\n\t\t\t.then(data => {\r\n\t\t\t\tthis.setState({ \r\n\t\t\t\t\trating: data.data.users.map((item: any) => \r\n\t\t\t\t\t\tObject.keys(item).reduce((prev, curr) => \r\n\t\t\t\t\t\t\tenableProps.includes(curr) ? {...prev, [curr]: item[curr]} : {...prev}, {}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t}, () => hideLoader())\r\n\t\t\t})\r\n\t}\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"Rating\" style={{color: \"white\"}}>\r\n\t\t\t\t<h1>Rating</h1>\r\n\t\t\t\t<ul className=\"header\">\r\n\t\t\t\t\t<li><span className=\"header_login\">Login</span></li>\r\n\t\t\t\t\t<li><span className=\"header_scores\">Scores</span></li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<ul className=\"main_list\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.rating.map((item, index) => {\r\n\t\t\t\t\t\t\treturn <li className=\"main_list_item\" key={index}>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<span className=\"login\"><span className=\"index\">{index + 1}</span> <Link to={`/users/${item.login}`}>{item.login}</Link></span>\r\n\t\t\t\t\t\t\t\t<span className=\"rating\">{item.rating}</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default Rating;\r\n","import Decks from \"./Decks\"\r\nimport Home from \"./Home\"\r\nimport Login from \"./Login\"\r\nimport Statistics from \"./Statistics\"\r\nimport Registration from \"./Registration\"\r\nimport Play from \"./Play\"\r\nimport Store from \"./Store\"\r\nimport Rating from \"./Rating\"\r\nimport Main from \"./Main\"\r\n\r\nconst Pages = {\r\n\tMain,\r\n\tDecks,\r\n\tHome,\r\n\tStatistics,\r\n\tPlay,\r\n\tStore,\r\n\tRating,\r\n\tRegistration,\r\n\tLogin,\r\n}\r\n\r\nexport default Pages","import React from 'react';\r\n\r\nimport { showLoader, hideLoader } from \"../components\"\r\n\r\nimport \"../styles/pages/Main.scss\"\r\n\r\ninterface IMainProps{\r\n}\r\n\r\nclass Main extends React.Component{\r\n\tconstructor(props: IMainProps){\r\n\t\tsuper(props)\r\n\t\tshowLoader()\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\thideLoader()\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"Main\" style={{color: \"white\"}}>\r\n\t\t\t\t<div className=\"slider\">\r\n\t\t\t\t\t<div className=\"image_wrapper\">\r\n\t\t\t\t\t\t<img className=\"image_slider\" src=\"images/slider.png\" alt=\"slider image\" />\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text_block\">\r\n\t\t\t\t\t\t<h1>Learn, Repeate and Develop</h1>\r\n\t\t\t\t\t\t<p>Welcome to the service for memorizing words in foreign languages using flashcards</p>\r\n\t\t\t\t\t\t{/* <h2>Our advantages:</h2>\r\n\t\t\t\t\t\t<ul className=\"advantages\">\r\n\t\t\t\t\t\t\t<li className=\"advantages_item\">Simple</li>\r\n\t\t\t\t\t\t\t<li className=\"advantages_item\">Concise</li>\r\n\t\t\t\t\t\t\t<li className=\"advantages_item\">Fast</li>\r\n\t\t\t\t\t\t\t<li className=\"advantages_item\">Creative</li>\r\n\t\t\t\t\t\t</ul> */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default Main;\r\n","import Pages from \"./pages\"\r\nimport { \r\n\tFaHome,\r\n\tFaPlay,\r\n\tFaList,\r\n\tFaStore,\r\n\tFaChartBar,\r\n\tFaStar,\r\n} from \"react-icons/fa\"\r\n \r\nexport interface IRoute{\r\n\tisNavBar?: boolean,\r\n\tisExact?: boolean,\r\n\tpath: string,\r\n\tname: string,\r\n\tcomponent: any,\r\n\tisPrivate?: boolean,\r\n\tisLogin?: boolean,\r\n\ticon?: typeof FaHome\r\n}\r\n\r\nexport const routes: IRoute[] = [\r\n\t// with auth\r\n\t{\r\n\t\t// dashboard - last cards and statistics\r\n\t\tisNavBar: false,\r\n\t\tisLogin: false,\r\n\t\tisExact: true,\r\n\t\tpath: '/',\r\n\t\tname: 'Main',\r\n\t\tcomponent: Pages.Main\r\n\t},\r\n\t{\r\n\t\t// dashboard - last cards and statistics\r\n\t\tisNavBar: false,\r\n\t\tisLogin: true,\r\n\t\tisExact: true,\r\n\t\tisPrivate: true,\r\n\t\tpath: '/home',\r\n\t\tname: 'Home',\r\n\t\tcomponent: Pages.Home,\r\n\t\ticon: FaHome\r\n\t},\r\n\t{\r\n\t\tisNavBar: false,\r\n\t\tisLogin: true,\r\n\t\tisExact: true,\r\n\t\tisPrivate: false,\r\n\t\tpath: '/play/:id',\r\n\t\tname: 'Play',\r\n\t\tcomponent: Pages.Play,\r\n\t\ticon: FaPlay\r\n\t},\r\n\t{\r\n\t\t// public and private Decks - card store\r\n\t\tisNavBar: true,\r\n\t\tisLogin: true,\r\n\t\tisExact: true,\r\n\t\tisPrivate: true,\r\n\t\tpath: '/decks',\r\n\t\tname: 'Decks',\r\n\t\tcomponent: Pages.Decks,\r\n\t\ticon: FaList\r\n\t},\r\n\t{\r\n\t\t// public and private cards - card store\r\n\t\tisNavBar: true,\r\n\t\tisExact: true,\r\n\t\tpath: '/store',\r\n\t\tname: 'Store',\r\n\t\tcomponent: Pages.Store,\r\n\t\ticon: FaStore\r\n\t},\r\n\t{\r\n\t\tisNavBar: false,\r\n\t\tisLogin: true,\r\n\t\tisExact: true,\r\n\t\tisPrivate: true,\r\n\t\tpath: '/statistics',\r\n\t\tname: 'Statistics',\r\n\t\tcomponent: Pages.Statistics,\r\n\t\ticon: FaChartBar\r\n\t},\r\n\t{\r\n\t\tisNavBar: true,\r\n\t\tisExact: true,\r\n\t\tpath: '/rating',\r\n\t\tname: 'Rating',\r\n\t\tcomponent: Pages.Rating,\r\n\t\ticon: FaStar\r\n\t},\r\n\t\r\n\t// not auth\r\n\t{\r\n\t\tisNavBar: true,\r\n\t\tisExact: true,\r\n\t\tisLogin: false,\r\n\t\tpath: '/registration',\r\n\t\tname: 'Registration',\r\n\t\tcomponent: Pages.Registration\r\n\t},\r\n\t{\r\n\t\tisNavBar: true,\r\n\t\tisLogin: false,\r\n\t\tisExact: true,\r\n\t\tpath: '/login',\r\n\t\tname: 'Login',\r\n\t\tcomponent: Pages.Login\r\n\t},\r\n\r\n\r\n\r\n\t// not in header\r\n\t{\r\n\t\tisNavBar: false,\r\n\t\tisLogin: false,\r\n\t\tisExact: true,\r\n\t\tpath: '/user/:login',\r\n\t\tname: 'User',\r\n\t\tcomponent: Pages.Home\r\n\t},\r\n\r\n\t\r\n];\r\n","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst Athorization = (WrappedComponent: typeof React.Component, auth: boolean) => {\r\n  class WithAuthorization extends React.Component {\r\n    render() {\r\n      if (!auth) {\r\n        return <Redirect to=\"/login\" />\r\n      }\r\n\r\n      return <WrappedComponent {...this.props}/>\r\n    }\r\n  }\r\n  return WithAuthorization\r\n};\r\n\r\nexport default Athorization\r\n","import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\n\r\nconst Footer: React.FC = props => {\r\n\treturn(\r\n\t\t<footer>\r\n\t\t\t<div className=\"wrap_content\">\r\n\t\t\t\t<div className=\"front\">Front: <a href=\"https://t.me/daniil00q\" target=\"_blank\">Shenyagin Daniil</a><a target=\"_blank\" href=\"https://github.com/daniil00t\">@danii00t</a></div>\r\n\t\t\t\t<div className=\"center\">RepDict&copy;{new Date().getFullYear()}</div>\r\n\t\t\t\t<div className=\"back\">Back: <a href=\"https://t.me/nafanyechka\" target=\"_blank\">Bausov Vadim</a><a target=\"_blank\" href=\"https://github.com/nafanyushka\">@nafanyechka</a></div>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n\t)\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\r\nimport { connect, ConnectedProps } from 'react-redux'\r\n\r\n// Controllers data\r\nimport API from \"./api\"\r\nimport { routes } from './routes';\r\nimport Action from \"./redux/actions\"\r\n\r\n// Components\r\nimport Components, { showLoader, hideLoader } from \"./components\"\r\nimport Authorization from './hoc/Authorization'\r\nimport ModalContainer from \"./components/modals\"\r\n\r\n\r\n// App styles\r\nimport \"./styles/reset.scss\"\r\nimport './styles/main.scss'\r\nimport './styles/responsive.scss'\r\nimport 'react-notifications/lib/notifications.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { POPUP_TYPES } from './redux/types'\r\nimport Footer from './components/Footer';\r\n\r\n// -----------------------------------------------------------------------------\r\n// ---------------------- Connect to redux emmiter -----------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tauth: state.app.auth,\r\n\tnotify: state.notification,\r\n\tpopupProps: state.popup\r\n})\r\n\r\nconst mapDispatchToProps = (f: Function) => ({\r\n\tlogin: (user: any) => f(Action.app.login(user)),\r\n\tlogout: () => f(Action.app.logout()),\r\n\tconfirm: (head: string, content: string, close: () => void, success: (s: boolean) => void) => \r\n\t\tf(Action.popup.show(POPUP_TYPES.CONFIRM, head, content, {close, success}))\r\n})\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps)\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>\r\n\r\ninterface StateApp{\r\n\tauth: boolean\r\n}\r\n\r\n\r\n// -----------------------------------------------------------------------------\r\n// ------------------------- Switcher for Router -------------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\nclass Switcher extends React.PureComponent<StateApp>{\r\n\tconstructor(props: any){\r\n\t\tsuper(props)\r\n\t}\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<Switch>\r\n\t\t\t\t{routes.map(route => {\r\n\t\t\t\t\tconst component = route.isPrivate ? Authorization(route.component, this.props.auth) : route.component;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\tkey={route.path}\r\n\t\t\t\t\t\texact\r\n\t\t\t\t\t\tpath={route.path}\r\n\t\t\t\t\t\tcomponent={component}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</Switch>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\n// -----------------------------------------------------------------------------\r\n// -------------------- App class including interfaces -------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\n\r\nclass App extends React.Component<PropsFromRedux, StateApp>{\r\n\tpublic state: StateApp = {\r\n\t\tauth: true\r\n\t}\r\n\t// Refs for element which need change because outside click\r\n\t\r\n\r\n\tconstructor(props: PropsFromRedux){\r\n\t\tsuper(props)\r\n\t\tconsole.log(`\r\n    ____  __________  ____  ________________   _________            __\r\n   / __ \\\\/ ____/ __ \\\\/ __ \\\\/  _/ ____/_  __/  / ____/ (_)__  ____  / /_\r\n  / /_/ / __/ / /_/ / / / // // /     / /    / /   / / / _ \\\\/ __ \\\\/ __/\r\n / _, _/ /___/ ____/ /_/ // // /___  / /    / /___/ / /  __/ / / / /_\r\n/_/ |_/_____/_/   /_____/___/\\\\____/ /_/     \\\\____/_/_/\\\\___/_/ /_/\\\\__/\r\n\t\t`);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tif(localStorage.getItem(\"token\")?.length !== undefined && localStorage.getItem(\"token\") !== \"undefined\"){\r\n\t\t\tAPI.auth()\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif(!res.data.error){\r\n\t\t\t\t\t\tthis.setState({ auth: true })\r\n\t\t\t\t\t\tthis.props.login(res.data.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse this.props.logout()\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.log(err))\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.setState({ auth: false })\r\n\t\t\tlocalStorage.removeItem(\"token\")\r\n\t\t}\r\n\t\thideLoader()\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<Router>\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Components.Header routes={routes.filter(route => route.isNavBar)}/>\r\n\t\t\t\t\t<Switcher auth={this.state.auth || this.props.auth}/>\r\n\t\t\t\t\t<Components.Notification {...this.props.notify}/>\r\n\t\t\t\t\t<ModalContainer {...this.props.popupProps}/>\r\n\t\t\t\t\t<Footer />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t</Router>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default connector(App)\r\n","import ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux'\r\nimport RoutedApp from './App'\r\n\r\nimport store from \"./redux/store\"\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <RoutedApp />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}