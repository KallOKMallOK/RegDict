{"version":3,"sources":["redux/types.ts","api.ts","hoc/OutsideClicker.tsx","components/EditText.tsx","redux/actions/app.action.ts","components/Notification.tsx","redux/actions/notification.action.ts","redux/actions/index.ts","redux/reducers/app.reducer.tsx","redux/reducers/notification.reducer.ts","redux/reducers/index.ts","redux/store.ts","components/Deck.tsx","pages/Decks.tsx","pages/Home.tsx","pages/Login.tsx","pages/Statistics.tsx","pages/Registration.tsx","pages/Play.tsx","pages/Store.tsx","pages/Rating.tsx","pages/index.ts","pages/Main.tsx","routes.tsx","components/index.ts","components/Header.tsx","components/Currsection.tsx","hoc/Authorization.tsx","App.tsx","index.tsx"],"names":["LANGS","EStatusNotification","API_URLS","REGISTRATION","CONFIG","LOGIN","AUTH","GET_DECKS","GET_ALL_DECKS","SET_LIKE","ADD_DECK","CHANGE_DECK","FAKE_DATA","url","decks","is_private","author_login","cards","answer","description","id","main_word","type","owner_login","count_repetitions","main_language","second_language","price","count_words","name","likes","error","API","data","options","Promise","resolve","reject","axios","get","params","token","localStorage","getItem","responseType","downloadFile","bodyRequest","post","setTimeout","this","POST","GET","response","map","deck","isPrivate","countWords","countRepetitions","mainLang","secondaryLang","author","owner","countLikes","activeLike","liked","then","transormArrayOfDeck","undefined","length","idDeck","changes","deckId","useOutsideClick","ref","callback","handleClick","e","current","contains","target","useEffect","document","addEventListener","removeEventListener","EditText","props","useState","text","changeText","editing","changeEditing","editTextRef","useRef","handleChangeEditing","open","newValue","onChanged","className","typeInput","defaultValue","onKeyPress","key","value","handlePressKeyInput","onClick","ERefer","APP","NOTIFY","EStatus","login","person","payload","logout","show","head","content","timeout","hide","Actions","app","notification","initialState","auth","user","visible","rootReducer","combineReducers","state","action","setItem","removeItem","composeEnhancers","composeWithDevTools","trace","traceLimit","store","createStore","applyMiddleware","thunkMiddleware","next","syncActivityFinished","actionQueue","flushQueue","forEach","a","dispatch","actionWithAsyncDispatch","Object","assign","asyncDispatch","asyncAction","concat","res","Notification","Action","NotificationContainer","changeVisible","style","display","Deck","dropdownVisible","openDropdown","activedLike","changeCountLikes","changePrivate","dropdownRef","enableMethods","enableDelete","enableEdit","console","log","index","edit","handleEdit","delete","enableChangePrivate","cursor","handleChangePrivate","to","enableSubscribe","enableLike","like","likeUser","DeckActive","addCard","countCards","incCountCards","addChange","changeName","mainWordRef","secondWordRef","old","_new","payloadChangeName","oldChanges","handleChangeName","placeholder","htmlFor","newCard","oldCards","countCardsOld","card","enableCreate","dataNewDeck","secondLang","create","enableSave","save","DeckAdd","add","connector","connect","notify","isNewDeck","isEdit","deckEdit","setState","applyChanges","catch","err","setLike","valuePrivate","Number","resp","addDeck","getDecks","Fragment","saveDeck","bind","deleteDeck","createNewDeck","toUpperCase","editDeck","React","Component","Home","color","f","loginValidate","passwordValidate","createRef","password","preventDefault","history","push","onBlur","validateForm","clickLogin","Statistics","nameValidate","rpassword","registration","refer","currentTarget","onValidate","clickRegistration","Play","getAllDecks","handleLike","Rating","Pages","Main","src","alt","Decks","Store","Registration","Login","routes","isNavBar","isLogin","isExact","path","component","icon","FaHome","FaPlay","FaList","FaStore","FaChartBar","FaStar","Components","Header","useHistory","openDropdownUser","menuVisible","openMenuUser","match","useLocation","pathname","body","overflow","filter","route","Currsection","info","keys","values","Athorization","WrappedComponent","Authorization","exact","renderSwitch","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8ea8dc94.chunk.js","sourcesContent":["export enum LANGS{\r\n\tRUS = \"RUS\", \r\n\tENG = \"ENG\", \r\n\tJPN = \"JPN\", \r\n\tCHI = \"CHI\", \r\n\tITA = \"ITA\", \r\n\tSPA = \"SPA\",\r\n\tFRA = \"FRA\", \r\n\tGER = \"GER\"\r\n}\r\n\r\nexport enum EStatusNotification{\r\n\tSUCCESS = \"SUCCESS\", \r\n\tERROR = \"ERROR\", \r\n\tWARNING = \"WARNING\"\r\n}\r\n\r\n\r\nexport const APP = {\r\n\tLOGIN: \"APP/LOGIN\",\r\n\tLOGOUT: \"APP/LOGOUT\",\r\n}\r\n\r\nexport const NOTIFY = {\r\n\tSHOW: \"NOTIFY/SHOW\",\r\n\tHIDE: \"NOTIFY/HIDE\",\r\n}","import axios from \"axios\"\r\nimport * as CONFIG from \"./config.json\"\r\nimport { ActionChange } from \"./domains/entity/actions.entity\"\r\nimport { IDeck } from \"./domains/entity/deсk.entity\"\r\n\r\ninterface OptionsRequest{\r\n\ttoken?: boolean\r\n\tdownloadFile?: boolean\r\n}\r\n\r\nconst API_URLS: any = {\r\n\tREGISTRATION: \tCONFIG.HOST + CONFIG.URLS.REGISTRATION,\r\n\tLOGIN: \t\t\tCONFIG.HOST + CONFIG.URLS.LOGIN,\r\n\tAUTH: \t\t\tCONFIG.HOST + CONFIG.URLS.AUTH,\r\n\tGET_DECKS: \t\tCONFIG.HOST + CONFIG.URLS.GET_DECKS,\r\n\tGET_ALL_DECKS: CONFIG.HOST + CONFIG.URLS.GET_ALL_DECKS,\r\n\tSET_LIKE: \t\tCONFIG.HOST + CONFIG.URLS.SET_LIKE,\r\n\tADD_DECK: \t\tCONFIG.HOST + CONFIG.URLS.ADD_DECK,\r\n\tCHANGE_DECK: \tCONFIG.HOST + CONFIG.URLS.CHANGE_DECK,\r\n}\r\n\r\nconst FAKE_DATA = (url: string) => {\r\n\tswitch(url){\r\n\t\tcase API_URLS.GET_DECKS:\r\n\t\t\treturn {\r\n\t\t\t\tdecks: [\r\n\t\t\t\t{\r\n\t\t\t\t\tis_private: 0,\r\n\t\t\t\t\tauthor_login: \"admin\",\r\n\t\t\t\t\tcards: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tanswer: \"реп\",\r\n\t\t\t\t\t\t\tdescription: null,\r\n\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\tmain_word: \"rap\",\r\n\t\t\t\t\t\t\ttype: \"default\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tanswer: \"мелодия\",\r\n\t\t\t\t\t\t\tdescription: null,\r\n\t\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\t\tmain_word: \"loop\",\r\n\t\t\t\t\t\t\ttype: \"default\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tanswer: \"техника\",\r\n\t\t\t\t\t\t\tdescription: null,\r\n\t\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\t\tmain_word: \"flow\",\r\n\t\t\t\t\t\t\ttype: \"default\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\towner_login: \"admin\",\r\n\t\t\t\t\tdescription: \"тут чисто про снюс\",\r\n\t\t\t\t\tcount_repetitions: 0,\r\n\t\t\t\t\tmain_language: \"eng\",\r\n\t\t\t\t\tsecond_language: \"rus\",\r\n\t\t\t\t\tprice: 0,\r\n\t\t\t\t\tcount_words: 0,\r\n\t\t\t\t\tname: \"Rap\",\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tlikes: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\terror: false\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn {\r\n\t\t\t\terror: true\r\n\t\t\t}\r\n\t}\r\n}\r\n\r\n\r\n// Static class for wokring with API\r\nclass API {\r\n\tprivate static GET(url: string, data: any, options?: OptionsRequest): Promise<any>{\r\n\t\treturn axios.get(\r\n\t\t\turl, \r\n\t\t\t{\r\n\t\t\t\tparams: options?.token ? {\r\n\t\t\t\t\t...data, \r\n\t\t\t\t\ttoken: localStorage.getItem(\"token\") || \"\"\r\n\t\t\t\t} : {\r\n\t\t\t\t\t...data\r\n\t\t\t\t},\r\n\t\t\t\tresponseType: options?.downloadFile? \"blob\": \"json\"\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tprivate static POST(url: string, data: any, options?: OptionsRequest): Promise<any>{\r\n\t\tconst bodyRequest = options?.token ? {\r\n\t\t\t...data, \r\n\t\t\ttoken: localStorage.getItem(\"token\") || \"\"\r\n\t\t} : {\r\n\t\t\t...data\r\n\t\t}\r\n\t\treturn axios.post(\r\n\t\t\turl, \r\n\t\t\tbodyRequest,\r\n\t\t\t{\r\n\t\t\t\tresponseType: options?.downloadFile? \"blob\": \"json\"\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tprivate static GETFake (url: string, data: any, options?: OptionsRequest): Promise<any>{\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tresolve({ data: FAKE_DATA(url) })\r\n\t\t\t}, 100)\r\n\t\t})\r\n\t}\r\n\r\n\tprivate POSTFake (url: string, data: any, options?: OptionsRequest): Promise<any>{\r\n\t\treturn new Promise((resolve, reject) => {\r\n\r\n\t\t})\r\n\t}\r\n\t\r\n\t// --------------------------------------------------------------------------\r\n\t// ----------------------- Registration, Login, Auth ------------------------\r\n\t// --------------------------------------------------------------------------\r\n\r\n\tpublic static registration(data: object): Promise<any>{\r\n\t\treturn this.POST(API_URLS.REGISTRATION, data)\r\n\t}\r\n\r\n\tpublic static login(data: object): Promise<any>{\r\n\t\treturn this.POST(API_URLS.LOGIN, data)\r\n\t}\r\n\r\n\tpublic static auth(): Promise<any>{\r\n\t\treturn this.GET(API_URLS.AUTH, {  }, { token: true })\r\n\t}\r\n\r\n\t// --------------------------------------------------------------------------\r\n\t// -------------------------- Decks and Cards -------------------------------\r\n\t// --------------------------------------------------------------------------\r\n\r\n\t// ***GET DATA***\r\n\r\n\t// get decks for certain user (with token)\r\n\tprivate static transormArrayOfDeck(response: any): IDeck[]{\r\n\t\treturn [...response.data.decks.map((deck: any) => ({\r\n\t\t\tid: deck.id,\r\n\t\t\tname: deck.name,\r\n\t\t\tisPrivate: deck.is_private,\r\n\t\t\tcountWords: deck.count_words,\r\n\t\t\tcountRepetitions: deck.count_repetitions,\r\n\t\t\tmainLang: deck.main_language,\r\n\t\t\tsecondaryLang: deck.second_language,\r\n\t\t\tauthor: deck.author_login,\r\n\t\t\towner: deck.owner_login,\r\n\t\t\tdescription: deck.description,\r\n\t\t\tcountLikes: deck.likes,\r\n\t\t\tactiveLike: deck.liked,\r\n\t\t\tcards: deck.cards\r\n\t\t}))]\r\n\t}\r\n\r\n\tpublic static getDecks(): Promise<any>{\r\n\t\treturn new Promise<any> ((resolve, reject) => {\r\n\t\t\tthis.GET(API_URLS.GET_DECKS, {}, { token: true })\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tconst data: IDeck[] = this.transormArrayOfDeck(response)\r\n\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t...response,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t...response.data,\r\n\t\t\t\t\t\t\tdecks: data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t})\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static getAllDecks(): Promise<any>{\r\n\t\treturn new Promise<any> ((resolve, reject) => {\r\n\t\t\tthis.GET(API_URLS.GET_ALL_DECKS, (localStorage.getItem(\"token\")?.length !== undefined ? { token: localStorage.getItem(\"token\") }: {}))\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tconst data: IDeck[] = this.transormArrayOfDeck(response)\r\n\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t...response,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t...response.data,\r\n\t\t\t\t\t\t\tdecks: data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\t// ***POST DATA***\r\n\tpublic static addDeck(data: any): Promise<any>{\r\n\t\treturn this.POST(API_URLS.ADD_DECK, data, { token: true })\r\n\t}\r\n\r\n\t// ***CHANGE DATA***\r\n\tpublic static applyChanges(idDeck: number, changes: ActionChange[]){\r\n\t\treturn this.POST(API_URLS.CHANGE_DECK, { idDeck, changes}, { token: true })\r\n\t}\r\n\t// specific methods\r\n\tpublic static setLike(deckId: number): Promise<any>{\r\n\t\treturn this.POST(API_URLS.SET_LIKE, { deckId }, { token: true })\r\n\t}\r\n}\r\n\r\nexport default API","import { useEffect } from \"react\";\r\n\r\nconst useOutsideClick = (ref: any, callback: Function) => {\r\n  const handleClick = (e: any) => {\r\n    if (ref.current && !ref.current.contains(e.target)) {\r\n      callback();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", handleClick);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"click\", handleClick);\r\n    };\r\n  });\r\n};\r\n\r\nexport default useOutsideClick;\r\n","import React, { MouseEvent, useRef, useState } from \"react\"\r\nimport useOutsideClick from \"../hoc/OutsideClicker\"\r\n\r\n\r\ninterface EditTextProps{\r\n\ttext: string\r\n\ttypeInput: \"text\" | \"number\"\r\n\r\n\tonChanged: (oldValue: string | number, newValue: string | number) => void\r\n}\r\n\r\nexport const EditText: React.FC<EditTextProps> = props => {\r\n\tconst [text, changeText] = useState(props.text)\r\n\tconst [editing, changeEditing] = useState(false)\r\n\tconst editTextRef = useRef(null)\r\n\r\n\tconst handleChangeEditing = (open: boolean, newValue?: string | number) => {\r\n\t\tif(open)\r\n\t\t\tchangeEditing(true)\r\n\t\telse{\r\n\t\t\tchangeEditing(false)\r\n\t\t\tprops.onChanged(props.text, newValue!)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handlePressKeyInput = (e: any) => {\r\n\t\tif(e.key === \"Enter\"){\r\n\t\t\thandleChangeEditing(false, e.target.value)\r\n\t\t\tchangeText(e.target.value)\r\n\t\t}\r\n\t}\r\n\r\n\tuseOutsideClick(editTextRef, () => {\r\n\t\tif(editing) changeEditing(false)\r\n\t})\r\n\r\n\treturn(\r\n\t\t<div className=\"edit_text\" ref={editTextRef}>\r\n\t\t\t{\r\n\t\t\t\tediting ?\r\n\t\t\t\t<input type={props.typeInput} defaultValue={text} onKeyPress={e => handlePressKeyInput(e)}/>:\r\n\t\t\t\t<span className=\"edit_text_content\" onClick={e => handleChangeEditing(true)}>{text}</span>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}","import { APP } from \"../types\"\r\n\r\nenum ERefer {NOT, GOOGLE, VK, FACEBOOK}\r\n\r\nexport interface IPerson{\r\n\tlogin: string,\r\n\tname: string\r\n}\r\n\r\nexport const login = (person: IPerson) => {\r\n\treturn {\r\n\t\ttype: APP.LOGIN,\r\n\t\tpayload: person\r\n\t}\r\n}\r\nexport const logout = () => {\r\n\treturn {\r\n\t\ttype: APP.LOGOUT,\r\n\t}\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport Action from \"../redux/actions\"\r\nimport store from \"../redux/store\"\r\n\r\nimport { FaTimes } from \"react-icons/fa\"\r\n\r\nenum EStatus{\r\n\tSUCCESS = \"SUCCESS\", \r\n\tERROR = \"ERROR\", \r\n\tWARNING = \"WARNING\"\r\n}\r\n\r\n\r\n\r\ninterface NotifyProps{\r\n\tvisible: boolean\r\n\thead: string\r\n\tcontent: string\r\n\ttype: EStatus\r\n\ttimeout?: number\r\n}\r\n\r\nexport const Notification = {\r\n\tsuccess: (head: string, content: NotifyProps['content'], timeout: number = 2000) => {\r\n\t\tstore.dispatch(Action.notification.show(\"success\", head, content, timeout))\r\n\t},\r\n\terror: (head: string, content: NotifyProps['content'], timeout: number = 2000) => {\r\n\t\tstore.dispatch(Action.notification.show(\"error\", head, content, timeout))\r\n\t},\r\n\twarning: (head: string, content: NotifyProps['content'], timeout: number = 2000) => {\r\n\t\tstore.dispatch(Action.notification.show(\"warning\", head, content, timeout))\r\n\t}\r\n}\r\n\r\nconst NotificationContainer: React.FC<NotifyProps> = props => {\r\n\tconst [visible, changeVisible] = useState(props.visible)\r\n\r\n\r\n\tprops.visible && setTimeout(() => {\r\n\t\tchangeVisible(false)\r\n\t\tstore.dispatch(Action.notification.hide())\r\n\t}, props.timeout || 2000)\r\n\r\n\treturn (\r\n\t\t<div className={`Notification notify_${props.type || \"default\"}`} style={{display: props.visible? \"block\": \"none\"}}>\r\n\t\t\t<div className=\"Notification_wrapper_content\">\r\n\t\t\t\t<div className=\"close\" onClick={e => store.dispatch(Action.notification.hide())}><FaTimes/></div>\r\n\t\t\t\t<h2 className=\"head\">{props.head}</h2>\r\n\t\t\t\t<p className=\"content\">{props.content}</p>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nexport default NotificationContainer","import { NOTIFY, EStatusNotification } from \"../types\" \r\n\r\nexport const show = (type: any, head: string, content: string, timeout = 300) => ({\r\n\ttype: NOTIFY.SHOW,\r\n\tpayload: {\r\n\t\ttype,\r\n\t\thead,\r\n\t\tcontent,\r\n\t\ttimeout\r\n\t}\r\n})\r\n\r\nexport const hide = () => ({\r\n\ttype: NOTIFY.HIDE\r\n})","import * as app from \"./app.action\"\r\nimport * as notification from \"./notification.action\"\r\n\r\nconst Actions = {\r\n\tapp,\r\n\tnotification\r\n}\r\n\r\nexport default Actions","import { PayloadAction } from '@reduxjs/toolkit'\r\nimport { APP } from \"../types\"\r\n\r\nconst initialState = {\r\n   auth: false,\r\n   user: {\r\n      name: \"\",\r\n      login: \"\"\r\n   }\r\n}\r\n\r\nexport const app = (state: Object = initialState, action: PayloadAction<any>) => {\r\n   switch(action.type){\r\n      case APP.LOGIN:\r\n         localStorage.setItem(\"token\", action.payload.token)\r\n         return {\r\n            ...state,\r\n            auth: true,\r\n            user: {\r\n               name: action.payload.name,\r\n               login: action.payload.login\r\n            }\r\n         }\r\n      case APP.LOGOUT:\r\n         localStorage.removeItem(\"token\")\r\n         return {\r\n            ...state,\r\n            auth: false,\r\n            user: {\r\n               name: \"\",\r\n               login: \"\"\r\n            }\r\n         }\r\n      default:\r\n         return state\r\n   }\r\n}","import { NOTIFY, EStatusNotification } from \"../types\"\r\n\r\nconst initialState = {\r\n\tvisible: false,\r\n\ttype: null,\r\n\thead: \"OK\",\r\n\tcontent: \"sfsdfsdafsadf sadf sadf \",\r\n\ttimeout: 2000\r\n}\r\n\r\nexport const notification = (state = initialState, action: any) => {\r\n\tswitch(action.type){\r\n\t\tcase NOTIFY.SHOW:\r\n\t\t\treturn{\r\n\t\t\t\tvisible: true,\r\n\t\t\t\ttype: action.payload.type,\r\n\t\t\t\thead: action.payload.head,\r\n\t\t\t\tcontent: action.payload.content,\r\n\t\t\t\ttimeout: action.payload.timeout,\r\n\t\t\t}\r\n\t\tcase NOTIFY.HIDE:{\r\n\t\t\treturn{\r\n\t\t\t\t...initialState\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { combineReducers } from 'redux'\r\nimport { app } from \"./app.reducer\"\r\nimport { notification } from \"./notification.reducer\"\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n\tapp,\r\n\tnotification\r\n})\r\n \r\nexport default rootReducer","import { createStore, applyMiddleware } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport rootReducer from './reducers'\r\n\r\n// This middleware will just add the property \"async dispatch\" to all actions\r\ntype MiddlewareFunction = (store: any) => (next: any) => (action: any) => any;\r\n\r\nconst asyncDispatchMiddleware: MiddlewareFunction = store => next => action => {\r\n\tlet syncActivityFinished = false;\r\n\tlet actionQueue: any[] = [];\r\n\r\n\tfunction flushQueue() {\r\n\t\tactionQueue.forEach(a => store.dispatch(a)); // flush queue\r\n\t\tactionQueue = [];\r\n\t}\r\n\r\n\tfunction asyncDispatch(asyncAction: Object) {\r\n\t\tactionQueue = actionQueue.concat([asyncAction]);\r\n\r\n\t\tif (syncActivityFinished)\r\n\t\t\tflushQueue();\r\n\t}\r\n\r\n\tconst actionWithAsyncDispatch = Object.assign({}, action, { asyncDispatch });\r\n\r\n\tconst res = next(actionWithAsyncDispatch);\r\n\r\n\tsyncActivityFinished = true;\r\n\tflushQueue();\r\n\r\n\treturn res;\r\n};\r\n\r\nconst composeEnhancers = composeWithDevTools({ \r\n\ttrace: true, \r\n\ttraceLimit: 25 \r\n});\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(\r\n\tapplyMiddleware(thunkMiddleware, asyncDispatchMiddleware)\r\n))\r\n\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n\r\nexport default store","import React, { MouseEvent, useRef, useState } from 'react'\r\nimport { \r\n\tFaPlus,\r\n\tFaLock,\r\n\tFaLockOpen,\r\n\tFaEllipsisV,\r\n\tFaHeart\r\n} from \"react-icons/fa\"\r\nimport { Link } from 'react-router-dom'\r\nimport { ActionChange } from '../domains/entity/actions.entity'\r\nimport { ICard } from '../domains/entity/card.entity'\r\nimport { IDeck } from '../domains/entity/deсk.entity'\r\nimport useOutsideClick from '../hoc/OutsideClicker'\r\n\r\nimport { LANGS } from \"../redux/types\"\r\nimport { EditText } from './EditText'\r\nimport { Notification } from './Notification'\r\n\r\n\r\n// -----------------------------------------------------------------------------\r\n// -------------------------------- Deck ---------------------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\ntype actionClick = (e: MouseEvent<any>, ...more: any[]) => void\r\n\r\ninterface enableMethodsOptions{\r\n\tenableDelete?: boolean\r\n\tenableEdit?: boolean\r\n\tenableLike?: boolean\r\n\tenableChangePrivate?: boolean\r\n\tenableSubscribe?: boolean\r\n\tenableSave?: boolean\r\n\tenableCreate?: boolean\r\n}\r\n\r\nexport interface IDeckDefault extends IDeck{\r\n\tindex: number\r\n\tenableMethods?: enableMethodsOptions\r\n\t// Actions\r\n\tedit?: actionClick\r\n\tdelete?: actionClick\r\n\tlike?: actionClick\r\n\tchangePrivate?: actionClick\r\n\tsubscribe?: actionClick\r\n}\r\n\r\n\r\n\r\nexport const Deck: React.FC<IDeckDefault> = props => {\r\n\r\n\t// Component states\r\n\tconst [dropdownVisible, openDropdown] = useState(false)\r\n\tconst [activedLike, activeLike] = useState(props.activeLike || false)\r\n\r\n\t// Data states\r\n\tconst [countLikes, changeCountLikes] = useState(props.countLikes || 0)\r\n\tconst [isPrivate, changePrivate] = useState(props.isPrivate || false)\r\n\r\n\tconst dropdownRef = useRef<any>(null)\r\n\r\n\tuseOutsideClick(dropdownRef, () => {\r\n\t\tif(dropdownVisible) openDropdown(false)\r\n\t})\r\n\r\n\tconst likeUser = (e: any) => {\r\n\t\tconsole.log(props.enableMethods)\r\n\t\tif(props.enableMethods?.enableLike){\r\n\t\t\tactiveLike(!activedLike)\r\n\t\t\tactivedLike?\r\n\t\t\t\tchangeCountLikes(countLikes - 1):\r\n\t\t\t\tchangeCountLikes(countLikes + 1)\r\n\t\t\tprops.like!(e, props.id)\r\n\t\t}\r\n\t\telse{\r\n\t\t\tNotification.warning(\"Warning\", \"Please, sign in\", 3000)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleChangePrivate = (e: any) => {\r\n\t\tif(props.author === props.owner){\r\n\t\t\tprops.changePrivate!(e, props.id, !isPrivate)\r\n\t\t\tchangePrivate(!isPrivate)\r\n\t\t}\r\n\t}\r\n\tconst handleEdit = (e: any, index: number) => {\r\n\t\topenDropdown(false)\r\n\t\tprops.edit!(e, props.index)\r\n\t}\r\n\r\n  \treturn (\r\n\t<div className=\"card_item card_item_noactive\">\r\n\t\t{/* control items */}\r\n\t\t{\r\n\t\t\t(props.enableMethods !== undefined && props.enableMethods.enableDelete && props.enableMethods.enableEdit) &&\r\n\t\t\t\t<div className=\"control\">\r\n\t\t\t\t\t<span className=\"icon\" onClick={e => openDropdown(!dropdownVisible)}><FaEllipsisV/></span>\r\n\t\t\t\t\t<ul className={`dropdown ${dropdownVisible ? \"active\": \"noactive\"}`} ref={dropdownRef}>\r\n\t\t\t\t\t\t<li className=\"dropdown_item\" onClick={e => console.log(e)}>Play</li>\r\n\t\t\t\t\t\t<li className=\"dropdown_item\" onClick={e => handleEdit(e, props.index)}>Edit</li>\r\n\t\t\t\t\t\t<li className=\"dropdown_item\" onClick={e => props.delete!(e, props.id)}>Delete</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t}\r\n\t\t\r\n\r\n\t\t{/* HEAD OF DECK */}\r\n\t\t<p className=\"card_item_head\">\r\n\t\t\t{\r\n\t\t\t\t(props.enableMethods !== undefined && props.enableMethods.enableChangePrivate) &&\r\n\t\t\t\t\t<span \r\n\t\t\t\t\t\tstyle={{cursor: props.author === props.owner ? \"pointer\": \"default\"}}\r\n\t\t\t\t\t\tclassName=\"private_lock\" \r\n\t\t\t\t\t\tonClick={e => handleChangePrivate(e)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{isPrivate? <FaLock/>: <FaLockOpen/>}\r\n\t\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t<span className=\"card_item_head_name\">{props.name}</span>\r\n\t\t\t{\r\n\t\t\t\t// props.author !== props.owner && \r\n\t\t\t\t<Link to={`/users/${props.author}`} className=\"author\">(by {props.author})</Link> \r\n\t\t\t}\r\n\t\t</p>\r\n\r\n\t\t\r\n\t\t<div className=\"middle_layer\">\r\n\t\t\t<div className=\"card_item_head_langs\">\r\n\t\t\t\t<div className=\"lang main_lang\">{props.mainLang}</div>/\r\n\t\t\t\t<div className=\"lang sec_lang\">{props.secondaryLang}</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"info\">\r\n\t\t\t\t<p className=\"info_count_words\">{props.countWords} words</p>\r\n\t\t\t\t<p className=\"info_count_repetitions\">{props.countRepetitions} repetitions</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<p className=\"card_item_description\">{props.description}</p>\r\n\r\n\t\t<div className=\"footer\">\r\n\t\t\t{\r\n\t\t\t\tprops.enableMethods?.enableSubscribe ?\r\n\t\t\t\t<button className=\"btn btn-primary disabled\">Subsctibe</button>:\r\n\t\t\t\t<div></div>\r\n\t\t\t}\r\n\t\t\t<span className=\"likes\" onClick={e => likeUser(e)}>\r\n\t\t\t\t<span className={`heart ${activedLike? \"active\": \"noactive\"}`}><FaHeart/></span>\r\n\t\t\t\t{countLikes}\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t</div>\r\n  );\r\n}\r\n\r\n\r\n// -----------------------------------------------------------------------------\r\n// ----------------------------- Active Deck -----------------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\n\r\nexport interface IDeckActive extends IDeckDefault{\r\n\tsave?: actionClick\r\n\tcreate?: actionClick\r\n}\r\n\r\n\r\nexport const DeckActive: React.FC<IDeckActive> = props => {\r\n\tconst [cards, addCard] = useState(props.cards)\r\n\tconst [countCards, incCountCards] = useState(props.countWords)\r\n\tconst [changes, addChange] = useState([] as ActionChange[])\r\n\tconst [name, changeName] = useState(props.name || \"Deck name\")\r\n\t// const [isPrivate, changeName] = useState(props.name || \"Deck name\")\r\n\r\n\tconst mainWordRef = useRef<HTMLInputElement>(null)\r\n\tconst secondWordRef = useRef<HTMLInputElement>(null)\r\n\r\n\tconst handleChangeName = (newValue: string) => {\r\n\t\tchangeName(newValue)\r\n\t\tconst payloadChangeName = {\r\n\t\t\tname: \"name\",\r\n\t\t\tvalue: newValue\r\n\t\t}\r\n\t\taddChange(oldChanges => {\r\n\t\t\treturn [...oldChanges, {\r\n\t\t\t\ttype: \"CHANGE_DECK\",\r\n\t\t\t\tpayload: payloadChangeName\r\n\t\t\t}]\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleAddCard = (e: any) => {\r\n\t\tconst newCard: ICard = {\r\n\t\t\tid: -1,\r\n\t\t\tmain_word: mainWordRef.current?.value!,\r\n\t\t\tanswer: secondWordRef.current?.value!,\r\n\t\t\ttype: \"default\",\r\n\t\t\tdescription: \"\"\r\n\t\t}\r\n\t\taddCard(oldCards => [...oldCards, newCard])\r\n\t\tincCountCards(countCardsOld => countCardsOld + 1)\r\n\t\taddChange(oldChanges => {\r\n\t\t\treturn [...oldChanges, {\r\n\t\t\t\ttype: \"NEW_CARD\",\r\n\t\t\t\tpayload: newCard\r\n\t\t\t}]\r\n\t\t})\r\n\t\t// mainWordRef.current?.value = \"\"\r\n\t}\r\n\r\n\t// For creating\r\n\tconst handleCreateDeck = (e: any) => {\r\n\t\tconst dataNewDeck = {\r\n\t\t\tname,\r\n\t\t\tisPrivate: false,\r\n\t\t\tdescription: \"\",\r\n\t\t\tmainLang: \"RU\",\r\n\t\t\tsecondLang: \"ENG\",\r\n\t\t\tprice: 0,\r\n\t\t\tcards: cards\r\n\t\t}\r\n\t\tprops.create!(e, dataNewDeck)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"card_item card_item_active\">\r\n\t\t\t<p className=\"card_item_name\"><EditText text={name} typeInput=\"text\" onChanged={(old, _new) => handleChangeName(_new as string)}/></p>\r\n\t\t\t<span className=\"card_item_count_words\">{countCards} words</span>\r\n\t\t\t<p className=\"card_item_count_repetitions\">{props.countRepetitions} repetitions</p>\r\n\t\t\t<div className=\"card_item_panel_adding\">\r\n\r\n\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" id=\"floatingInput\" placeholder=\"type word...\" ref={mainWordRef}/>\r\n\t\t\t\t\t<label htmlFor=\"floatingInput\">Main word</label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<span className=\"card_item_panel_toggler\">↔</span>\r\n\r\n\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" id=\"floatingInput\" placeholder=\"type word...\" ref={secondWordRef}/>\r\n\t\t\t\t\t<label htmlFor=\"floatingInput\">Second word</label>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<button  className=\"card_item_panel_button_add\" onClick={handleAddCard}>add</button>\r\n\r\n\r\n\t\t\t\t<div className=\"card_item_panel_item_words\">\r\n\t\t\t\t\t<ul className=\"card_item_panel_item_words_ul\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcards.map((card: ICard) => {\r\n\t\t\t\t\t\t\t\treturn <li className=\"item\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"main_word\">{card.main_word}</span>\r\n\t\t\t\t\t\t\t\t\t-\r\n\t\t\t\t\t\t\t\t\t<span className=\"second_word\">{card.answer}</span>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"buttons_group\">\r\n\t\t\t\t{\r\n\t\t\t\t\tprops.enableMethods?.enableCreate && \r\n\t\t\t\t\t<button className=\"button_manipulate\" onClick={handleCreateDeck}>create</button>\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tprops.enableMethods?.enableSave && \r\n\t\t\t\t\t\t<button className=\"button_manipulate\" onClick={e => props.save!(e, props.id, changes)}>save</button>\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tprops.enableMethods?.enableDelete &&\r\n\t\t\t\t\t\t<button className=\"button_manipulate\" onClick={e => props.delete!(e, props.id)}>delete</button>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// ------------------------------ Deck Add -------------------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\ninterface IDeckAdd{\r\n\tadd: actionClick\r\n}\r\n\r\nexport const DeckAdd: React.FC<IDeckAdd> = props => {\r\n\treturn(\r\n\t\t<div className=\"card_item card_item_noactive new_card\">\r\n\t\t\t<div className=\"svg_wrapper\">\r\n\t\t\t\t<FaPlus onClick={e => props.add(e)}/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\n","import React, { MouseEvent } from 'react';\r\n\r\nimport API from \"../api\"\r\n// Components and redux instances\r\nimport { LANGS } from \"../redux/types\"\r\nimport { \r\n\tIDeckActive,\r\n\tDeck, \r\n\tDeckActive, \r\n\tDeckAdd,\r\n\tIDeckDefault\r\n} from \"../components/Deck\"\r\n\r\n\r\n// App styles\r\nimport \"../styles/pages/Decks.scss\"\r\nimport { Notification } from '../components/Notification';\r\nimport { ActionChange } from '../domains/entity/actions.entity';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\n\r\ninterface IDecksProps {\r\n\tinit?: boolean\r\n\ttextHello?: string\r\n}\r\n\r\ninterface StateDecks{\r\n\tdecks: IDeckDefault[]\r\n\tisNewDeck: boolean\r\n\tisEdit: boolean\r\n\tdeckEdit: IDeckDefault | null\r\n}\r\nconst mapStateToProps = (state: any) => ({\r\n\tauth: state.app.auth,\r\n\tuser: state.app.user,\r\n\tnotify: state.notification\r\n})\r\nconst connector = connect(mapStateToProps)\r\n\r\ntype PropsFromRedux = IDecksProps & ConnectedProps<typeof connector>\r\n\r\n\r\nclass Decks extends React.Component<PropsFromRedux, StateDecks>{\r\n\tpublic state: StateDecks = {\r\n\t\tdecks: [],\r\n\r\n\t\tisNewDeck: false,\r\n\t\tisEdit: false,\r\n\t\tdeckEdit: null\r\n\t}\r\n\tconstructor(props: PropsFromRedux){\r\n\t\tsuper(props)\r\n\t}\r\n\r\n\taddDeck(e: MouseEvent<any>){\r\n\t\tthis.setState({\r\n\t\t\tisNewDeck: true\r\n\t\t})\r\n\t}\r\n\r\n\tsaveDeck(e: MouseEvent<HTMLElement>, id: number, changes: ActionChange[]){\r\n\t\tAPI.applyChanges(id, changes)\r\n\t\t\t.then(response => {\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t\tthis.setState({ isEdit: false })\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err))\r\n\t}\r\n\teditDeck(e: MouseEvent<HTMLElement>, index: number){\r\n\t\tconsole.log(\"edit\", index);\r\n\t\tthis.setState({\r\n\t\t\tisEdit: true,\r\n\t\t\tdeckEdit: this.state.decks[index]\r\n\t\t})\r\n\t}\r\n\tdeleteDeck(e: MouseEvent<HTMLElement>, id: number){\r\n\t\tconsole.log(\"delete\", id)\r\n\t}\r\n\r\n\tlike(e: any, id: number){\r\n\t\tAPI.setLike(id)\r\n\t\t\t.then(res => console.log(res))\r\n\t\t\t.catch(err => console.log(err))\r\n\t\tconsole.log(\"like\", id);\r\n\t}\r\n\r\n\tchangePrivate(e: any, id: number, valuePrivate: boolean){\r\n\t\tAPI.applyChanges(id, [\r\n\t\t\t{\r\n\t\t\t\ttype: \"CHANGE_DECK\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tname: \"isPrivate\",\r\n\t\t\t\t\tvalue: Number(valuePrivate)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t])\r\n\t\t\t.then(resp => console.log(resp))\r\n\t\t\t.catch(err => console.log(err))\r\n\t}\r\n\r\n\tcreateNewDeck(e: any, data: any){\r\n\t\tAPI.addDeck(data)\r\n\t\t\t.then(response => {\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t\tthis.setState({ isNewDeck: false })\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err))\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tAPI.getDecks()\r\n\t\t\t// .then(data => console.log(data))\r\n\t\t\t.then(data => {\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\t!data.error && this.setState({ decks: [...this.state.decks, ...data.data.decks] })\r\n\t\t\t})\r\n\t\t\t.catch(err => Notification.error(\"Error\", \"Failed to load data\", 3000))\r\n\t}\r\n\r\n\trender(){\r\n\t\tconsole.log(this.props.auth)\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<section className=\"lesson_section\">\r\n\t\t\t\t\t<h2 className=\"cards_main_name\">My Decks</h2>\r\n\t\t\t\t\t<div className=\"cards\">\r\n\r\n\t\t\t\t\t\t{/* deck for EDIT */}\r\n\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\tthis.state.isEdit && <DeckActive\r\n\t\t\t\t\t\t\t\tindex={-1}\r\n\t\t\t\t\t\t\t\tid={this.state.deckEdit!.id}\r\n\t\t\t\t\t\t\t\tname={this.state.deckEdit!.name} \r\n\t\t\t\t\t\t\t\tcountWords={this.state.deckEdit!.countWords} \r\n\t\t\t\t\t\t\t\tcountRepetitions={this.state.deckEdit!.countRepetitions} \r\n\t\t\t\t\t\t\t\tisPrivate={this.state.deckEdit!.isPrivate} \r\n\t\t\t\t\t\t\t\tmainLang={this.state.deckEdit!.mainLang} \r\n\t\t\t\t\t\t\t\tsecondaryLang={this.state.deckEdit!.secondaryLang} \r\n\t\t\t\t\t\t\t\tcards={this.state.deckEdit!.cards}\r\n\t\t\t\t\t\t\t\tauthor={this.state.deckEdit!.author}\r\n\t\t\t\t\t\t\t\towner={this.state.deckEdit!.owner}\r\n\t\t\t\t\t\t\t\tdescription={this.state.deckEdit!.description}\r\n\t\t\t\t\t\t\t\tcountLikes={this.state.deckEdit!.countLikes || 0}\r\n\t\t\t\t\t\t\t\tactiveLike={this.state.deckEdit!.activeLike || false}\r\n\r\n\t\t\t\t\t\t\t\tenableMethods={{\r\n\t\t\t\t\t\t\t\t\tenableSave: true,\r\n\t\t\t\t\t\t\t\t\tenableDelete: true\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tsave={this.saveDeck.bind(this)}\r\n\t\t\t\t\t\t\t\tdelete={this.deleteDeck}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{/* New Deck */}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.isNewDeck && <DeckActive\r\n\t\t\t\t\t\t\t\tindex={-1}\r\n\t\t\t\t\t\t\t\tid={-1}\r\n\t\t\t\t\t\t\t\tname={\"New Deck\"} \r\n\t\t\t\t\t\t\t\tcountWords={0} \r\n\t\t\t\t\t\t\t\tcountRepetitions={0} \r\n\t\t\t\t\t\t\t\tisPrivate={false} \r\n\t\t\t\t\t\t\t\tmainLang={\"RU\"} \r\n\t\t\t\t\t\t\t\tsecondaryLang={\"ENG\"} \r\n\t\t\t\t\t\t\t\tcards={[]}\r\n\t\t\t\t\t\t\t\tauthor={this.props.user.login}\r\n\t\t\t\t\t\t\t\towner={this.props.user.login}\r\n\t\t\t\t\t\t\t\tdescription={\"\"}\r\n\t\t\t\t\t\t\t\tcountLikes={0}\r\n\t\t\t\t\t\t\t\tactiveLike={false}\r\n\r\n\t\t\t\t\t\t\t\tenableMethods={{\r\n\t\t\t\t\t\t\t\t\tenableCreate: true\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tcreate={this.createNewDeck}\r\n\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t{/* Adding deck */}\r\n\t\t\t\t\t\t<DeckAdd add={this.addDeck.bind(this)} />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.decks.length !== 0 && this.state.decks.map((deck: IDeckDefault, index: number) => {\r\n\t\t\t\t\t\t\t\treturn <Deck\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tid={deck.id}\r\n\t\t\t\t\t\t\t\t\tname={deck.name}\r\n\t\t\t\t\t\t\t\t\tcountWords={deck.countWords || 0} \r\n\t\t\t\t\t\t\t\t\tauthor={deck.author}\r\n\t\t\t\t\t\t\t\t\towner={deck.owner}\r\n\t\t\t\t\t\t\t\t\tdescription={deck.description}\r\n\t\t\t\t\t\t\t\t\tcountRepetitions={deck.countRepetitions || 0} \r\n\t\t\t\t\t\t\t\t\tisPrivate={deck.isPrivate} \r\n\t\t\t\t\t\t\t\t\tmainLang={deck.mainLang.toUpperCase()} \r\n\t\t\t\t\t\t\t\t\tsecondaryLang={deck.secondaryLang.toUpperCase()}\r\n\t\t\t\t\t\t\t\t\tcountLikes={deck.countLikes || 0}\r\n\t\t\t\t\t\t\t\t\tactiveLike={deck.activeLike || false}\r\n\t\t\t\t\t\t\t\t\tcards={deck.cards}\r\n\t\t\t\t\t\t\t\t\tkey={`deck_${index}`}\r\n\r\n\t\t\t\t\t\t\t\t\t// enables\r\n\t\t\t\t\t\t\t\t\tenableMethods={{ \r\n\t\t\t\t\t\t\t\t\t\tenableChangePrivate: true, \r\n\t\t\t\t\t\t\t\t\t\tenableDelete: true, \r\n\t\t\t\t\t\t\t\t\t\tenableEdit:true,\r\n\t\t\t\t\t\t\t\t\t\tenableLike: true\r\n\t\t\t\t\t\t\t\t\t}}\r\n\r\n\t\t\t\t\t\t\t\t\t// active methods\r\n\t\t\t\t\t\t\t\t\tedit={this.editDeck.bind(this)}\r\n\t\t\t\t\t\t\t\t\tdelete={this.deleteDeck}\r\n\t\t\t\t\t\t\t\t\tlike={this.like}\r\n\t\t\t\t\t\t\t\t\tchangePrivate={this.changePrivate.bind(this)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default connector(Decks)\r\n","import React from 'react';\r\nimport { Link, RouteComponentProps, Router } from '@reach/router'\r\n\r\n// Components\r\n\r\n// App styles\r\nimport \"../styles/reset.scss\"\r\nimport '../styles/main.scss';\r\n\r\ninterface IHomeProps extends RouteComponentProps {\r\n  init?: boolean\r\n  textHello?: string\r\n}\r\n\r\n\r\nconst Home: React.FC<IHomeProps> = props => {\r\n  return (\r\n    <div className=\"home\">\r\n      {/* <Currsection info={{Hello: 20, \"dflmdf fdf\": \"310/31\"}} />\r\n      <Card currentWord={3} countWords={10} word=\"Spring\" hint=\"Весна\" /> */}\r\n      <p style={{color: \"white\"}}>Home, sweet home</p> \r\n\t </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { createRef, MouseEvent } from 'react';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport { Link, RouteComponentProps } from 'react-router-dom'\r\nimport Action from \"../redux/actions\"\r\n\r\nimport API from \"../api\"\r\n\r\n// Styles\r\nimport \"../styles/forms.scss\"\r\nimport { Notification } from '../components/Notification';\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tauth: state.app.auth\r\n})\r\n\r\nconst mapDispatchToProps = (f: Function) => ({\r\n\tlogin: (user: any) => f(Action.app.login(user))\r\n})\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps)\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector> & RouteComponentProps \r\n\r\n\r\ninterface StateLogin{\r\n\tloginValidate: boolean | null,\r\n\tpasswordValidate: boolean | null\r\n}\r\n\r\nclass Login extends React.Component<PropsFromRedux, StateLogin>{\r\n\tpublic state = {\r\n\t\t// validate\r\n\t\tloginValidate: null,\r\n\t\tpasswordValidate: null\r\n\t}\r\n\tprivate login = createRef<HTMLInputElement>()\r\n\tprivate password = createRef<HTMLInputElement>()\r\n\r\n\t// eslint-disable-next-line @typescript-eslint/no-useless-constructor\r\n\tconstructor(props: PropsFromRedux){\r\n\t\tsuper(props)\r\n\t}\r\n\r\n\tclickLogin(e: MouseEvent){\r\n\t\te.preventDefault()\r\n\t\tAPI.login({\r\n\t\t\tlogin: this.login.current?.value,\r\n\t\t\tpassword: this.password.current?.value\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(!res.data.error){\r\n\t\t\t\t\tthis.props.login(res.data)\r\n\t\t\t\t\tthis.props.history.push(\"/\")\r\n\t\t\t\t\tNotification.success(\"OK\", \"Вы авторизованы!\", 3000)\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tNotification.error(\"Ошибка\", \"Неверный логин или пароль\", 4000)\r\n\t\t\t\t})\r\n\t\t\t.catch(err => Notification.error(\"Error\", \"Error on server\"))\r\n\t}\r\n\tvalidateForm(e: any){\r\n\t\tconsole.log(e)\r\n\t\tswitch(e.target.name){\r\n\t\t\tcase \"login\":\r\n\t\t\t\te.target.value.length > 3 && e.target.value.length < 30? this.setState({ loginValidate: true }): this.setState({ loginValidate: false })\r\n\t\t\t\tbreak\r\n\t\t\tcase \"password\":\r\n\t\t\t\te.target.value.length > 7 && e.target.value.length < 40? this.setState({ passwordValidate: true }): this.setState({ passwordValidate: false })\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"login\">\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<h2>Login</h2>\r\n\t\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\tname=\"login\" \r\n\t\t\t\t\t\t\tonBlur={ e => this.validateForm(e) } \r\n\t\t\t\t\t\t\tref={this.login} \r\n\t\t\t\t\t\t\tclassName={`input-login form-control \r\n\t\t\t\t\t\t\t\t${this.state.loginValidate !== null ? \r\n\t\t\t\t\t\t\t\t\t(this.state.loginValidate? \"is-valid\": \"is-invalid\"): \r\n\t\t\t\t\t\t\t\t\t\"\"}`} \r\n\t\t\t\t\t\t\tid=\"floatingInput\" \r\n\t\t\t\t\t\t\tplaceholder=\"your login\" \r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Login</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\ttype=\"password\" \r\n\t\t\t\t\t\t\tonBlur={ e => this.validateForm(e) } \r\n\t\t\t\t\t\t\tref={this.password} \r\n\t\t\t\t\t\t\tclassName={`input-password form-control \r\n\t\t\t\t\t\t\t\t${this.state.passwordValidate !== null ? \r\n\t\t\t\t\t\t\t\t\t(this.state.passwordValidate? \"is-valid\": \"is-invalid\"): \r\n\t\t\t\t\t\t\t\t\t\"\"}`} \r\n\t\t\t\t\t\t\tid=\"floatingInput\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"your password\" \r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Password</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={e => this.clickLogin(e)}>login</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default connector(Login)","import React from 'react';\r\nimport { Link, RouteComponentProps } from 'react-router-dom'\r\n\r\n\r\n\r\ninterface IStatisticsProps extends RouteComponentProps {\r\n  init?: boolean\r\n  textHello?: string\r\n}\r\n\r\n\r\nconst Statistics: React.FC<IStatisticsProps> = props => {\r\n  return (\r\n    <div className=\"page_statistics\">\r\n\t\tStatistics\r\n\t </div>\r\n  );\r\n}\r\n\r\nexport default Statistics;\r\n","import React, { createRef, MouseEvent } from \"react\"\r\nimport { connect, ConnectedProps } from \"react-redux\"\r\nimport { RouteComponentProps } from \"react-router-dom\"\r\n\r\nimport API from \"../api\"\r\nimport { Notification } from \"../components/Notification\"\r\nimport Action from \"../redux/actions\"\r\n\r\nimport \"../styles/forms.scss\"\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tauth: state.app.auth\r\n})\r\n\r\nconst mapDispatchToProps = (f: Function) => ({\r\n\tlogin: (user: any) => f(Action.app.login(user))\r\n})\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps)\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector> & RouteComponentProps \r\n\r\ninterface RegistrationState{\r\n\tnameValidate: boolean | null\r\n\tloginValidate: boolean | null\r\n\tpasswordValidate: boolean | null\r\n}\r\n\r\nclass Registration extends React.Component<PropsFromRedux, RegistrationState>{\r\n\tpublic state = {\r\n\t\tnameValidate: null,\r\n\t\tloginValidate: null,\r\n\t\tpasswordValidate: null\r\n\t}\r\n\tprivate name = createRef<HTMLInputElement>()\r\n\tprivate login = createRef<HTMLInputElement>()\r\n\tprivate password = createRef<HTMLInputElement>()\r\n\tprivate rpassword = createRef<HTMLInputElement>()\r\n\r\n\t// eslint-disable-next-line @typescript-eslint/no-useless-constructor\r\n\tconstructor(props: PropsFromRedux){\r\n\t\tsuper(props)\r\n\t}\r\n\r\n\tclickRegistration(e: MouseEvent){\r\n\t\te.preventDefault()\r\n\t\tif(this.state.loginValidate && this.state.nameValidate && this.state.passwordValidate){\r\n\t\t\tif(this.password.current?.value === this.rpassword.current?.value){\r\n\t\t\t\tAPI.registration({\r\n\t\t\t\t\tname: this.name.current?.value,\r\n\t\t\t\t\tlogin: this.login.current?.value,\r\n\t\t\t\t\tpassword: this.password.current?.value,\r\n\t\t\t\t\trefer: null\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif(!res.data.error){\r\n\t\t\t\t\t\t\tthis.props.login(res.data)\r\n\t\t\t\t\t\t\tthis.props.history.push(\"/\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tNotification.error(\"Ошибка\", \"Возможно, такой логин уже занят\", 4000)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => console.log(err))\r\n\t\t\t}\r\n\t\t\t// Exception: passwords is not equal\r\n\t\t\telse \r\n\t\t\t\tNotification.warning(\"Ошибка\", \"Пароли не совпадают\", 4000)\r\n\t\t}\r\n\t\telse Notification.warning(\"Ошибка\", \"Введите корректные данные\", 4000)\r\n\t\t\r\n\t}\r\n\r\n\tonValidate(e: MouseEvent<HTMLInputElement>){\r\n\t\tconsole.log(e);\r\n\t\tswitch(e.currentTarget.name){\r\n\t\t\tcase \"name\":\r\n\t\t\t\tthis.setState({ nameValidate: e.currentTarget.value.length > 4 }); break\r\n\t\t\tcase \"login\":\r\n\t\t\t\tthis.setState({ loginValidate: e.currentTarget.value.length > 3 }); break\r\n\t\t\tcase \"password\":\r\n\t\t\t\tthis.setState({ passwordValidate: e.currentTarget.value.length > 7 }); break\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"registration\">\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<h2>Registration</h2>\r\n\t\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\tclassName={`form-control ${this.state.nameValidate !== null ? (this.state.nameValidate? \"is-valid\": \"is-invalid\"): \"\"}`}\r\n\t\t\t\t\t\t\tonBlur={e => this.onValidate(e as any)}\r\n\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\tref={this.name} \r\n\t\t\t\t\t\t\tid=\"floatingInput\"\r\n\t\t\t\t\t\t\tplaceholder=\"your name\" />\r\n\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Name</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\tname=\"login\"\r\n\t\t\t\t\t\t\tclassName={`form-control ${this.state.loginValidate !== null ? (this.state.loginValidate? \"is-valid\": \"is-invalid\"): \"\"}`}\r\n\t\t\t\t\t\t\tonBlur={e => this.onValidate(e as any)}\r\n\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\tref={this.login} \r\n\t\t\t\t\t\t\tid=\"floatingInput\" \r\n\t\t\t\t\t\t\tplaceholder=\"your login\" />\r\n\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Login</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tclassName={`form-control ${this.state.passwordValidate !== null ? (this.state.passwordValidate? \"is-valid\": \"is-invalid\"): \"\"}`}\r\n\t\t\t\t\t\t\tonBlur={e => this.onValidate(e as any)}\r\n\t\t\t\t\t\t\ttype=\"password\" \r\n\t\t\t\t\t\t\tref={this.password} \r\n\t\t\t\t\t\t\tid=\"floatingInput\" \r\n\t\t\t\t\t\t\tplaceholder=\"your password\" />\r\n\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Password</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-floating mb-3\">\r\n\t\t\t\t\t\t<input type=\"password\" ref={this.rpassword} className=\"form-control\" id=\"floatingInput\" placeholder=\"your password\" />\r\n\t\t\t\t\t\t<label htmlFor=\"floatingInput\">Repeat password</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={e => this.clickRegistration(e)}>registration</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\nexport default connector(Registration)","import React from 'react';\r\n\r\ninterface IPlayProps{\r\n}\r\n\r\nclass Play extends React.Component{\r\n\tconstructor(props: IPlayProps){\r\n\t\tsuper(props)\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"Play\" style={{color: \"white\"}}>\r\n\t\t\t\tPlay!!!\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default Play;\r\n","import React from 'react';\r\n\r\nimport \"../styles/pages/Decks.scss\"\r\nimport { Notification } from '../components/Notification';\r\nimport { Deck, IDeckDefault } from '../components/Deck';\r\nimport { IDeck } from \"../domains/entity/deсk.entity\"\r\nimport API from '../api';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\n\r\ninterface StateStore{\r\n\tdecks: IDeck[]\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tauth: state.app.auth,\r\n\tnotify: state.notification\r\n})\r\nconst connector = connect(mapStateToProps)\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>\r\n\r\n\r\nclass Store extends React.Component<PropsFromRedux>{\r\n\tpublic state: any = {\r\n\t\tdecks: []\r\n\t}\r\n\tconstructor(props: PropsFromRedux){\r\n\t\tsuper(props)\r\n\t}\r\n\r\n\t// Methods\r\n\thandleLike(e: any, id: number){\r\n\t\tconsole.log(\"like\", id);\r\n\t\tAPI.setLike(id)\r\n\t\t\t.then(response => console.log(response))\r\n\t\t\t.catch(err => console.log(err))\r\n\t}\r\n\r\n\r\n\tcomponentDidMount(){\r\n\t\tAPI.getAllDecks()\r\n\t\t\t.then(res => this.setState({ decks: res.data.decks }))\r\n\t\t\t.catch(err => console.log(err))\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"Store\" style={{color: \"white\"}}>\r\n\t\t\t\t<section className=\"lesson_section\">\r\n\t\t\t\t\t<h2 className=\"cards_main_name\">Store</h2>\r\n\t\t\t\t\t<div className=\"cards\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.decks.length !== 0 && this.state.decks.map((deck: IDeckDefault, index: number) => {\r\n\t\t\t\t\t\t\t\treturn <Deck\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tid={deck.id}\r\n\t\t\t\t\t\t\t\t\tname={deck.name}\r\n\t\t\t\t\t\t\t\t\tcountWords={deck.countWords || 0} \r\n\t\t\t\t\t\t\t\t\tauthor={deck.author}\r\n\t\t\t\t\t\t\t\t\towner={deck.owner}\r\n\t\t\t\t\t\t\t\t\tdescription={deck.description}\r\n\t\t\t\t\t\t\t\t\tcountRepetitions={deck.countRepetitions || 0} \r\n\t\t\t\t\t\t\t\t\tisPrivate={deck.isPrivate} \r\n\t\t\t\t\t\t\t\t\tmainLang={deck.mainLang.toUpperCase()} \r\n\t\t\t\t\t\t\t\t\tsecondaryLang={deck.secondaryLang.toUpperCase()}\r\n\t\t\t\t\t\t\t\t\tcountLikes={deck.countLikes || 0}\r\n\t\t\t\t\t\t\t\t\tactiveLike={deck.activeLike || false}\r\n\t\t\t\t\t\t\t\t\tcards={deck.cards}\r\n\t\t\t\t\t\t\t\t\tkey={`deck_${index}`}\r\n\r\n\t\t\t\t\t\t\t\t\tlike={this.handleLike}\r\n\r\n\t\t\t\t\t\t\t\t\tenableMethods={{\r\n\t\t\t\t\t\t\t\t\t\tenableLike: this.props.auth,\r\n\t\t\t\t\t\t\t\t\t\tenableSubscribe: true\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default connector(Store)\r\n","import React from 'react';\r\n\r\ninterface IRatingProps{\r\n}\r\n\r\nclass Rating extends React.Component{\r\n\tconstructor(props: IRatingProps){\r\n\t\tsuper(props)\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"Rating\" style={{color: \"white\"}}>\r\n\t\t\t\tRating!!!\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default Rating;\r\n","import Decks from \"./Decks\"\r\nimport Home from \"./Home\"\r\nimport Login from \"./Login\"\r\nimport Statistics from \"./Statistics\"\r\nimport Registration from \"./Registration\"\r\nimport Play from \"./Play\"\r\nimport Store from \"./Store\"\r\nimport Rating from \"./Rating\"\r\nimport Main from \"./Main\"\r\n\r\nconst Pages = {\r\n\tMain,\r\n\tDecks,\r\n\tHome,\r\n\tStatistics,\r\n\tPlay,\r\n\tStore,\r\n\tRating,\r\n\tRegistration,\r\n\tLogin,\r\n}\r\n\r\nexport default Pages","import React from 'react';\r\n\r\nimport \"../styles/pages/Main.scss\"\r\n\r\ninterface IMainProps{\r\n}\r\n\r\nclass Main extends React.Component{\r\n\tconstructor(props: IMainProps){\r\n\t\tsuper(props)\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"Main\" style={{color: \"white\"}}>\r\n\t\t\t\t<div className=\"slider\">\r\n\t\t\t\t\t<div className=\"image_wrapper\">\r\n\t\t\t\t\t\t<img className=\"image_slider\" src=\"images/slider.png\" alt=\"slider image\" />\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text_block\">\r\n\t\t\t\t\t\t<h1>Learn, Repeate and Develop</h1>\r\n\t\t\t\t\t\t<p>Welcome to the service for memorizing words in foreign languages using flashcards</p>\r\n\t\t\t\t\t\t{/* <h2>Our advantages:</h2>\r\n\t\t\t\t\t\t<ul className=\"advantages\">\r\n\t\t\t\t\t\t\t<li className=\"advantages_item\">Simple</li>\r\n\t\t\t\t\t\t\t<li className=\"advantages_item\">Concise</li>\r\n\t\t\t\t\t\t\t<li className=\"advantages_item\">Fast</li>\r\n\t\t\t\t\t\t\t<li className=\"advantages_item\">Creative</li>\r\n\t\t\t\t\t\t</ul> */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default Main;\r\n","import Pages from \"./pages\"\r\nimport { \r\n\tFaHome,\r\n\tFaPlay,\r\n\tFaList,\r\n\tFaStore,\r\n\tFaChartBar,\r\n\tFaStar,\r\n} from \"react-icons/fa\"\r\n \r\nexport interface IRoute{\r\n\tisNavBar?: boolean,\r\n\tisExact?: boolean,\r\n\tpath: string,\r\n\tname: string,\r\n\tcomponent: any,\r\n\tisPrivate?: boolean,\r\n\tisLogin?: boolean,\r\n\ticon?: typeof FaHome\r\n}\r\n\r\nexport const routes: IRoute[] = [\r\n\t// with auth\r\n\t{\r\n\t\t// dashboard - last cards and statistics\r\n\t\tisNavBar: false,\r\n\t\tisLogin: false,\r\n\t\tisExact: true,\r\n\t\tpath: '/',\r\n\t\tname: 'Main',\r\n\t\tcomponent: Pages.Main\r\n\t},\r\n\t{\r\n\t\t// dashboard - last cards and statistics\r\n\t\tisNavBar: true,\r\n\t\tisLogin: true,\r\n\t\tisExact: true,\r\n\t\tisPrivate: true,\r\n\t\tpath: '/home',\r\n\t\tname: 'Home',\r\n\t\tcomponent: Pages.Home,\r\n\t\ticon: FaHome\r\n\t},\r\n\t{\r\n\t\tisNavBar: true,\r\n\t\tisLogin: true,\r\n\t\tisExact: true,\r\n\t\tisPrivate: true,\r\n\t\tpath: '/play',\r\n\t\tname: 'Play',\r\n\t\tcomponent: Pages.Play,\r\n\t\ticon: FaPlay\r\n\t},\r\n\t{\r\n\t\t// public and private Decks - card store\r\n\t\tisNavBar: true,\r\n\t\tisLogin: true,\r\n\t\tisExact: true,\r\n\t\tisPrivate: true,\r\n\t\tpath: '/decks',\r\n\t\tname: 'Decks',\r\n\t\tcomponent: Pages.Decks,\r\n\t\ticon: FaList\r\n\t},\r\n\t{\r\n\t\t// public and private cards - card store\r\n\t\tisNavBar: true,\r\n\t\tisExact: true,\r\n\t\tpath: '/store',\r\n\t\tname: 'Store',\r\n\t\tcomponent: Pages.Store,\r\n\t\ticon: FaStore\r\n\t},\r\n\t{\r\n\t\tisNavBar: true,\r\n\t\tisLogin: true,\r\n\t\tisExact: true,\r\n\t\tisPrivate: true,\r\n\t\tpath: '/statistics',\r\n\t\tname: 'Statistics',\r\n\t\tcomponent: Pages.Statistics,\r\n\t\ticon: FaChartBar\r\n\t},\r\n\t{\r\n\t\tisNavBar: true,\r\n\t\tisExact: true,\r\n\t\tpath: '/rating',\r\n\t\tname: 'Rating',\r\n\t\tcomponent: Pages.Rating,\r\n\t\ticon: FaStar\r\n\t},\r\n\t\r\n\t// not auth\r\n\t{\r\n\t\tisNavBar: true,\r\n\t\tisExact: true,\r\n\t\tisLogin: false,\r\n\t\tpath: '/registration',\r\n\t\tname: 'Registration',\r\n\t\tcomponent: Pages.Registration\r\n\t},\r\n\t{\r\n\t\tisNavBar: true,\r\n\t\tisLogin: false,\r\n\t\tisExact: true,\r\n\t\tpath: '/login',\r\n\t\tname: 'Login',\r\n\t\tcomponent: Pages.Login\r\n\t},\r\n\r\n\r\n\r\n\t// not in header\r\n\t{\r\n\t\tisNavBar: false,\r\n\t\tisLogin: false,\r\n\t\tisExact: true,\r\n\t\tpath: '/user/:login',\r\n\t\tname: 'User',\r\n\t\tcomponent: Pages.Home\r\n\t},\r\n\r\n\t\r\n];\r\n","import Header from \"./Header\"\r\nimport { Deck } from \"./Deck\"\r\nimport Currsection from \"./Currsection\"\r\nimport Notification from \"./Notification\"\r\n\r\nconst Components = {\r\n\tHeader,\r\n\tDeck,\r\n\tCurrsection,\r\n\tNotification\r\n}\r\n\r\nexport default Components","import React, {  useEffect, useRef, useState } from 'react'\r\nimport { Link, useLocation, useHistory } from 'react-router-dom'\r\nimport { connect, ConnectedProps } from 'react-redux'\r\nimport { FaUser, FaBars } from \"react-icons/fa\"\r\n\r\n// Controllers data\r\nimport { IRoute } from \"../routes\"\r\nimport Action from \"../redux/actions\"\r\nimport useOutsideClick from \"../hoc/OutsideClicker\"\r\n\r\n// Styles\r\nimport \"../styles/components.scss\"\r\n\r\n// -----------------------------------------------------------------------------\r\n// ---------------------- Connect to redux emmiter -----------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tauth: state.app.auth,\r\n\tuser: state.app.user\r\n})\r\n\r\nconst mapDispatchToProps = (f: Function) => ({\r\n\tlogin: (user: any) => f(Action.app.login(user)),\r\n\tlogout: () => f(Action.app.logout())\r\n})\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps)\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>\r\n\r\n\r\n\r\ninterface AppProps extends PropsFromRedux{\r\n\troutes: IRoute[]\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// -------------------- Header hook including interfaces -----------------------\r\n// -----------------------------------------------------------------------------\r\n\r\nconst Header: React.FC<AppProps> = props => {\r\n\tconst history = useHistory()\r\n\r\n\tconst [dropdownVisible, openDropdownUser] = useState(false)\r\n\tconst [menuVisible, openMenuUser] = useState(false)\r\n\r\n\tconst dropdownRef = useRef<any>(null)\r\n\tconst match = useLocation().pathname\r\n\r\n\tuseOutsideClick(dropdownRef, () => {\r\n\t\tif(dropdownVisible) openDropdownUser(false)\r\n\t})\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif(menuVisible)\r\n\t\t\tdocument.body.style.overflow = 'hidden'\r\n\t\telse\r\n\t\t\tdocument.body.style.overflow = 'unset'\r\n\t}, [menuVisible ])\r\n\r\n\tconst logout = (e: any) => {\r\n\t\tprops.logout()\r\n\t\topenMenuUser(false)\r\n\t\t// history.push(\"/\")\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<header className=\"main_header\">\r\n\t\t\t<div className=\"logo\">\r\n\t\t\t\t<span className=\"logo_text\"><Link to=\"/\" onClick={e => openMenuUser(false)}>RepDict</Link></span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"menu\">\r\n\t\t\t\t<div className=\"icon_bars\" onClick={e => openMenuUser(!menuVisible)}>\r\n\t\t\t\t\t<FaBars />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<ul className={`menu_list responsive_${menuVisible ? \"active\": \"noactive\"}`}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprops.routes.filter(route => route.isLogin === props.auth || route.isLogin === undefined)\r\n\t\t\t\t\t\t\t.map((route: IRoute) => {\r\n\t\t\t\t\t\t\treturn <li \r\n\t\t\t\t\t\t\t\tkey={route.path} \r\n\t\t\t\t\t\t\t\tclassName={`menu_list_item ${route.path === match ? \"active\": \"noactive\"}`}>\r\n\t\t\t\t\t\t\t\t\t<Link \r\n\t\t\t\t\t\t\t\t\t\tclassName=\"menu_list_item_link\" \r\n\t\t\t\t\t\t\t\t\t\tto={`${route.path}`} onClick={e => openMenuUser(false)}>\r\n\t\t\t\t\t\t\t\t\t\t{!!route.icon && <route.icon/>}\r\n\t\t\t\t\t\t\t\t\t\t{route.name}\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// User panel\r\n\t\t\t\t\t\tprops.auth && <li style={{ color: \"white\" }} className=\"user_panel\" onClick={e => openDropdownUser(!dropdownVisible)}>\r\n\t\t\t\t\t\t\t<div className=\"user_panel_head\"><FaUser />{props.user.name}</div>\r\n\t\t\t\t\t\t\t<ul className={`dropdown ${dropdownVisible? \"showedDB__fadeIn\": \"closed\"}`} ref={dropdownRef}>\r\n\t\t\t\t\t\t\t\t<li className=\"dropdown_item\">\r\n\t\t\t\t\t\t\t\t\t<Link to={`/users/${props.user.login}`} onClick={e => openMenuUser(false)}>Profile</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"dropdown_item\">\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/settings\" onClick={e => openMenuUser(false)}>Setting</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li className=\"dropdown_item\">\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/\" onClick={e => logout(e)}>Logout</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t}\r\n\t\t\t\t</ul>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default connector(Header)\r\n","import React from 'react';\r\n\r\nimport \"../styles/components.scss\"\r\n\r\n\r\ninterface IProps{\r\n\tinfo: Object\r\n}\r\n\r\n\r\nconst Currsection: React.FC<IProps> = ({info}) => {\r\n  return (\r\n\t<section className=\"lesson_section lesson_info\">\r\n\t\t\t{\r\n\t\t\t\tObject.keys(info).map((key: string, index: number) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<p className=\"lesson_info_item\">\r\n\t\t\t\t\t\t\t<span className=\"lesson_info_item_key\">\r\n\t\t\t\t\t\t\t\t{key}:\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className=\"lesson_info_item_value\">\r\n\t\t\t\t\t\t\t\t{Object.values(info)[index]}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t</section>\r\n  );\r\n}\r\n\r\nexport default Currsection;\r\n","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst Athorization = (WrappedComponent: typeof React.Component, auth: boolean) => {\r\n  class WithAuthorization extends React.Component {\r\n    render() {\r\n      if (!auth) {\r\n        return <Redirect to=\"/login\" />\r\n      }\r\n\r\n      return <WrappedComponent {...this.props}/>\r\n    }\r\n  }\r\n  return WithAuthorization\r\n};\r\n\r\nexport default Athorization\r\n","import React from 'react'\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\r\nimport { connect, ConnectedProps } from 'react-redux'\r\n\r\n// Controllers data\r\nimport API from \"./api\"\r\nimport { routes } from './routes';\r\nimport Action from \"./redux/actions\"\r\n\r\n// Components\r\nimport Components from \"./components\"\r\nimport { Notification } from \"./components/Notification\"\r\nimport Authorization from './hoc/Authorization'\r\n\r\n// App styles\r\nimport \"./styles/reset.scss\"\r\nimport './styles/main.scss';\r\nimport './styles/responsive.scss';\r\nimport 'react-notifications/lib/notifications.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n// -----------------------------------------------------------------------------\r\n// ---------------------- Connect to redux emmiter -----------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n\tauth: state.app.auth,\r\n\tnotify: state.notification\r\n})\r\n\r\nconst mapDispatchToProps = (f: Function) => ({\r\n\tlogin: (user: any) => f(Action.app.login(user)),\r\n\tlogout: () => f(Action.app.logout()),\r\n})\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps)\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>\r\n\r\ninterface StateApp{\r\n\tauth: boolean\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// -------------------- App class including interfaces -------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\nclass App extends React.Component<PropsFromRedux, StateApp>{\r\n\tpublic state: StateApp = {\r\n\t\tauth: true\r\n\t}\r\n\t// Refs for element which need change because outside click\r\n\t\r\n\r\n\tconstructor(props: PropsFromRedux){\r\n\t\tsuper(props)\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tif(localStorage.getItem(\"token\")?.length !== undefined && localStorage.getItem(\"token\") !== \"undefined\"){\r\n\t\t\tAPI.auth()\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif(!res.data.error){\r\n\t\t\t\t\t\tthis.setState({ auth: true })\r\n\t\t\t\t\t\tthis.props.login(res.data.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse this.props.logout()\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.log(err))\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.setState({ auth: false })\r\n\t\t}\r\n\t}\r\n\r\n\trenderSwitch(){\r\n\t return(\r\n\t\t<Switch>\r\n\t\t  {routes.map(route => {\r\n\t\t\t const component = route.isPrivate ? Authorization(route.component, this.state.auth) : route.component;\r\n\t\t\t return (\r\n\t\t\t\t<Route\r\n\t\t\t\t  key={route.path}\r\n\t\t\t\t  exact\r\n\t\t\t\t  path={route.path}\r\n\t\t\t\t  component={component}\r\n\t\t\t\t/>\r\n\t\t\t )\r\n\t\t  })}\r\n\t\t</Switch>\r\n\t)\r\n\t}\r\n  render(){\r\n\t return(\r\n\t\t<Router>\r\n\t\t  <React.Fragment>\r\n\t\t\t <Components.Header routes={routes.filter(route => route.isNavBar)}/>\r\n\t\t\t <div id='ui-content'>\r\n\t\t\t\t{this.renderSwitch()}\r\n\t\t\t </div>\r\n\t\t\t <Components.Notification {...this.props.notify}/>\r\n\t\t  </React.Fragment>\r\n\t\t</Router>\r\n\t )\r\n  }\r\n}\r\n\r\nexport default connector(App)\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux'\r\nimport RoutedApp from './App'\r\n\r\nimport store from \"./redux/store\"\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <RoutedApp />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}