(this.webpackJsonpRepDict=this.webpackJsonpRepDict||[]).push([[0],{11:function(e){e.exports=JSON.parse('{"a":"http://repdict.live","b":{"MAIN":"/","USERS":"/users","REGISTRATION":"/registration","LOGIN":"/login","AUTH":"/auth","GET_DECKS":"/get_decks","GET_ALL_DECKS":"/get_all_decks","SET_LIKE":"/like","ADD_DECK":"/new_deck","CHANGE_DECK":"/change_deck"}}')},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"login",(function(){return A})),n.d(a,"logout",(function(){return V}));var i={};n.r(i),n.d(i,"show",(function(){return K})),n.d(i,"hide",(function(){return M}));var c,s,o=n(1),r=n.n(o),l=n(24),u=n.n(l),d=n(12),h=n(3),j=n(5),b=n(6),p=n(8),m=n(7),f=n(4),v=n(18),O=n(19),g=n(29),k=n.n(g),x=n(11),_={REGISTRATION:x.a+x.b.REGISTRATION,LOGIN:x.a+x.b.LOGIN,AUTH:x.a+x.b.AUTH,GET_DECKS:x.a+x.b.GET_DECKS,GET_ALL_DECKS:x.a+x.b.GET_ALL_DECKS,SET_LIKE:x.a+x.b.SET_LIKE,ADD_DECK:x.a+x.b.ADD_DECK,CHANGE_DECK:x.a+x.b.CHANGE_DECK},N=function(e){switch(e){case _.GET_DECKS:return{decks:[{is_private:0,author_login:"admin",cards:[{answer:"\u0440\u0435\u043f",description:null,id:1,main_word:"rap",type:"default"},{answer:"\u043c\u0435\u043b\u043e\u0434\u0438\u044f",description:null,id:2,main_word:"loop",type:"default"},{answer:"\u0442\u0435\u0445\u043d\u0438\u043a\u0430",description:null,id:3,main_word:"flow",type:"default"}],owner_login:"admin",description:"\u0442\u0443\u0442 \u0447\u0438\u0441\u0442\u043e \u043f\u0440\u043e \u0441\u043d\u044e\u0441",count_repetitions:0,main_language:"eng",second_language:"rus",price:0,count_words:0,name:"Rap",id:1,likes:0}],error:!1};default:return{error:!0}}},y=function(){function e(){Object(j.a)(this,e)}return Object(b.a)(e,[{key:"POSTFake",value:function(e,t,n){return new Promise((function(e,t){}))}}],[{key:"GET",value:function(e,t,n){return k.a.get(e,{params:(null===n||void 0===n?void 0:n.token)?Object(h.a)(Object(h.a)({},t),{},{token:localStorage.getItem("token")||""}):Object(h.a)({},t),responseType:(null===n||void 0===n?void 0:n.downloadFile)?"blob":"json"})}},{key:"POST",value:function(e,t,n){var a=(null===n||void 0===n?void 0:n.token)?Object(h.a)(Object(h.a)({},t),{},{token:localStorage.getItem("token")||""}):Object(h.a)({},t);return k.a.post(e,a,{responseType:(null===n||void 0===n?void 0:n.downloadFile)?"blob":"json"})}},{key:"GETFake",value:function(e,t,n){return new Promise((function(t,n){setTimeout((function(){t({data:N(e)})}),100)}))}},{key:"registration",value:function(e){return this.POST(_.REGISTRATION,e)}},{key:"login",value:function(e){return this.POST(_.LOGIN,e)}},{key:"auth",value:function(){return this.GET(_.AUTH,{},{token:!0})}},{key:"transormArrayOfDeck",value:function(e){return Object(O.a)(e.data.decks.map((function(e){return{id:e.id,name:e.name,isPrivate:e.is_private,countWords:e.count_words,countRepetitions:e.count_repetitions,mainLang:e.main_language,secondaryLang:e.second_language,author:e.author_login,owner:e.owner_login,description:e.description,countLikes:e.likes,activeLike:e.liked,cards:e.cards}})))}},{key:"getDecks",value:function(){var e=this;return new Promise((function(t,n){e.GET(_.GET_DECKS,{},{token:!0}).then((function(n){var a=e.transormArrayOfDeck(n);t(Object(h.a)(Object(h.a)({},n),{},{data:Object(h.a)(Object(h.a)({},n.data),{},{decks:a})}))}))}))}},{key:"getAllDecks",value:function(){var e=this;return new Promise((function(t,n){var a;e.GET(_.GET_ALL_DECKS,void 0!==(null===(a=localStorage.getItem("token"))||void 0===a?void 0:a.length)?{token:localStorage.getItem("token")}:{}).then((function(n){var a=e.transormArrayOfDeck(n);t(Object(h.a)(Object(h.a)({},n),{},{data:Object(h.a)(Object(h.a)({},n.data),{},{decks:a})}))}))}))}},{key:"addDeck",value:function(e){return this.POST(_.ADD_DECK,e,{token:!0})}},{key:"applyChanges",value:function(e,t){return this.POST(_.CHANGE_DECK,{idDeck:e,changes:t},{token:!0})}},{key:"setLike",value:function(e){return this.POST(_.SET_LIKE,{deckId:e},{token:!0})}}]),e}(),w=n(10),E=n(9),S=function(e,t){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};Object(o.useEffect)((function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}))},L=n(0),C=function(e){var t=Object(o.useState)(e.text),n=Object(w.a)(t,2),a=n[0],i=n[1],c=Object(o.useState)(!1),s=Object(w.a)(c,2),r=s[0],l=s[1],u=Object(o.useRef)(null),d=function(t,n){t?l(!0):(l(!1),e.onChanged(e.text,n))};return S(u,(function(){r&&l(!1)})),Object(L.jsx)("div",{className:"edit_text",ref:u,children:r?Object(L.jsx)("input",{type:e.typeInput,defaultValue:a,onKeyPress:function(e){return function(e){"Enter"===e.key&&(d(!1,e.target.value),i(e.target.value))}(e)}}):Object(L.jsx)("span",{className:"edit_text_content",onClick:function(e){return d(!0)},children:a})})};!function(e){e.RUS="RUS",e.ENG="ENG",e.JPN="JPN",e.CHI="CHI",e.ITA="ITA",e.SPA="SPA",e.FRA="FRA",e.GER="GER"}(c||(c={})),function(e){e.SUCCESS="SUCCESS",e.ERROR="ERROR",e.WARNING="WARNING"}(s||(s={}));var D,R="APP/LOGIN",I="APP/LOGOUT",T="NOTIFY/SHOW",P="NOTIFY/HIDE";!function(e){e[e.NOT=0]="NOT",e[e.GOOGLE=1]="GOOGLE",e[e.VK=2]="VK",e[e.FACEBOOK=3]="FACEBOOK"}(D||(D={}));var G,A=function(e){return{type:R,payload:e}},V=function(){return{type:I}},K=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300;return{type:T,payload:{type:e,head:t,content:n,timeout:a}}},M=function(){return{type:P}},F={app:a,notification:i},H=n(21),B=n(45),U=n(46),W={auth:!1,user:{name:"",login:""}},J={visible:!1,type:null,head:"OK",content:"sfsdfsdafsadf sadf sadf ",timeout:2e3},Y=Object(H.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return localStorage.setItem("token",t.payload.token),Object(h.a)(Object(h.a)({},e),{},{auth:!0,user:{name:t.payload.name,login:t.payload.login}});case I:return localStorage.removeItem("token"),Object(h.a)(Object(h.a)({},e),{},{auth:!1,user:{name:"",login:""}});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{visible:!0,type:t.payload.type,head:t.payload.head,content:t.payload.content,timeout:t.payload.timeout};case P:return Object(h.a)({},J);default:return e}}}),z=Object(U.composeWithDevTools)({trace:!0,traceLimit:25}),q=Object(H.createStore)(Y,z(Object(H.applyMiddleware)(B.a,(function(e){return function(t){return function(n){var a=!1,i=[];function c(){i.forEach((function(t){return e.dispatch(t)})),i=[]}var s=Object.assign({},n,{asyncDispatch:function(e){i=i.concat([e]),a&&c()}}),o=t(s);return a=!0,c(),o}}}))));!function(e){e.SUCCESS="SUCCESS",e.ERROR="ERROR",e.WARNING="WARNING"}(G||(G={}));var Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;q.dispatch(F.notification.show("success",e,t,n))},X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;q.dispatch(F.notification.show("error",e,t,n))},Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;q.dispatch(F.notification.show("warning",e,t,n))},$=function(e){var t=Object(o.useState)(e.visible),n=Object(w.a)(t,2),a=(n[0],n[1]);return e.visible&&setTimeout((function(){a(!1),q.dispatch(F.notification.hide())}),e.timeout||2e3),Object(L.jsx)("div",{className:"Notification notify_".concat(e.type||"default"),style:{display:e.visible?"block":"none"},children:Object(L.jsxs)("div",{className:"Notification_wrapper_content",children:[Object(L.jsx)("div",{className:"close",onClick:function(e){return q.dispatch(F.notification.hide())},children:Object(L.jsx)(E.m,{})}),Object(L.jsx)("h2",{className:"head",children:e.head}),Object(L.jsx)("p",{className:"content",children:e.content})]})})},ee=function(e){var t,n=Object(o.useState)(!1),a=Object(w.a)(n,2),i=a[0],c=a[1],s=Object(o.useState)(e.activeLike||!1),r=Object(w.a)(s,2),l=r[0],u=r[1],d=Object(o.useState)(e.countLikes||0),h=Object(w.a)(d,2),j=h[0],b=h[1],p=Object(o.useState)(e.isPrivate||!1),m=Object(w.a)(p,2),f=m[0],O=m[1],g=Object(o.useRef)(null);S(g,(function(){i&&c(!1)}));return Object(L.jsxs)("div",{className:"card_item card_item_noactive",children:[void 0!==e.enableMethods&&e.enableMethods.enableDelete&&e.enableMethods.enableEdit&&Object(L.jsxs)("div",{className:"control",children:[Object(L.jsx)("span",{className:"icon",onClick:function(e){return c(!i)},children:Object(L.jsx)(E.c,{})}),Object(L.jsxs)("ul",{className:"dropdown ".concat(i?"active":"noactive"),ref:g,children:[Object(L.jsx)("li",{className:"dropdown_item",onClick:function(e){return console.log(e)},children:"Play"}),Object(L.jsx)("li",{className:"dropdown_item",onClick:function(t){return function(t,n){c(!1),e.edit(t,e.index)}(t,e.index)},children:"Edit"}),Object(L.jsx)("li",{className:"dropdown_item",onClick:function(t){return e.delete(t,e.id)},children:"Delete"})]})]}),Object(L.jsxs)("p",{className:"card_item_head",children:[void 0!==e.enableMethods&&e.enableMethods.enableChangePrivate&&Object(L.jsx)("span",{style:{cursor:e.author===e.owner?"pointer":"default"},className:"private_lock",onClick:function(t){return function(t){e.author===e.owner&&(e.changePrivate(t,e.id,!f),O(!f))}(t)},children:f?Object(L.jsx)(E.g,{}):Object(L.jsx)(E.h,{})}),Object(L.jsx)("span",{className:"card_item_head_name",children:e.name}),Object(L.jsxs)(v.b,{to:"/users/".concat(e.author),className:"author",children:["(by ",e.author,")"]})]}),Object(L.jsxs)("div",{className:"middle_layer",children:[Object(L.jsxs)("div",{className:"card_item_head_langs",children:[Object(L.jsx)("div",{className:"lang main_lang",children:e.mainLang}),"/",Object(L.jsx)("div",{className:"lang sec_lang",children:e.secondaryLang})]}),Object(L.jsxs)("div",{className:"info",children:[Object(L.jsxs)("p",{className:"info_count_words",children:[e.countWords," words"]}),Object(L.jsxs)("p",{className:"info_count_repetitions",children:[e.countRepetitions," repetitions"]})]})]}),Object(L.jsx)("p",{className:"card_item_description",children:e.description}),Object(L.jsxs)("div",{className:"footer",children:[(null===(t=e.enableMethods)||void 0===t?void 0:t.enableSubscribe)?Object(L.jsx)("button",{className:"btn btn-primary disabled",children:"Subsctibe"}):Object(L.jsx)("div",{}),Object(L.jsxs)("span",{className:"likes",onClick:function(t){return function(t){var n;console.log(e.enableMethods),(null===(n=e.enableMethods)||void 0===n?void 0:n.enableLike)?(u(!l),b(l?j-1:j+1),e.like(t,e.id)):Z("Warning","Please, sign in",3e3)}(t)},children:[Object(L.jsx)("span",{className:"heart ".concat(l?"active":"noactive"),children:Object(L.jsx)(E.d,{})}),j]})]})]})},te=function(e){var t,n,a,i=Object(o.useState)(e.cards),c=Object(w.a)(i,2),s=c[0],r=c[1],l=Object(o.useState)(e.countWords),u=Object(w.a)(l,2),d=u[0],h=u[1],j=Object(o.useState)([]),b=Object(w.a)(j,2),p=b[0],m=b[1],f=Object(o.useState)(e.name||"Deck name"),v=Object(w.a)(f,2),g=v[0],k=v[1],x=Object(o.useRef)(null),_=Object(o.useRef)(null);return Object(L.jsxs)("div",{className:"card_item card_item_active",children:[Object(L.jsx)("p",{className:"card_item_name",children:Object(L.jsx)(C,{text:g,typeInput:"text",onChanged:function(e,t){return function(e){k(e);var t={name:"name",value:e};m((function(e){return[].concat(Object(O.a)(e),[{type:"CHANGE_DECK",payload:t}])}))}(t)}})}),Object(L.jsxs)("span",{className:"card_item_count_words",children:[d," words"]}),Object(L.jsxs)("p",{className:"card_item_count_repetitions",children:[e.countRepetitions," repetitions"]}),Object(L.jsxs)("div",{className:"card_item_panel_adding",children:[Object(L.jsxs)("div",{className:"form-floating mb-3",children:[Object(L.jsx)("input",{type:"text",className:"form-control",id:"floatingInput",placeholder:"type word...",ref:x}),Object(L.jsx)("label",{htmlFor:"floatingInput",children:"Main word"})]}),Object(L.jsx)("span",{className:"card_item_panel_toggler",children:"\u2194"}),Object(L.jsxs)("div",{className:"form-floating mb-3",children:[Object(L.jsx)("input",{type:"text",className:"form-control",id:"floatingInput",placeholder:"type word...",ref:_}),Object(L.jsx)("label",{htmlFor:"floatingInput",children:"Second word"})]}),Object(L.jsx)("button",{className:"card_item_panel_button_add",onClick:function(e){var t,n,a={id:-1,main_word:null===(t=x.current)||void 0===t?void 0:t.value,answer:null===(n=_.current)||void 0===n?void 0:n.value,type:"default",description:""};r((function(e){return[].concat(Object(O.a)(e),[a])})),h((function(e){return e+1})),m((function(e){return[].concat(Object(O.a)(e),[{type:"NEW_CARD",payload:a}])}))},children:"add"}),Object(L.jsx)("div",{className:"card_item_panel_item_words",children:Object(L.jsx)("ul",{className:"card_item_panel_item_words_ul",children:s.map((function(e){return Object(L.jsxs)("li",{className:"item",children:[Object(L.jsx)("span",{className:"main_word",children:e.main_word}),"-",Object(L.jsx)("span",{className:"second_word",children:e.answer})]})}))})})]}),Object(L.jsxs)("div",{className:"buttons_group",children:[(null===(t=e.enableMethods)||void 0===t?void 0:t.enableCreate)&&Object(L.jsx)("button",{className:"button_manipulate",onClick:function(t){var n={name:g,isPrivate:!1,description:"",mainLang:"RU",secondLang:"ENG",price:0,cards:s};e.create(t,n)},children:"create"}),(null===(n=e.enableMethods)||void 0===n?void 0:n.enableSave)&&Object(L.jsx)("button",{className:"button_manipulate",onClick:function(t){return e.save(t,e.id,p)},children:"save"}),(null===(a=e.enableMethods)||void 0===a?void 0:a.enableDelete)&&Object(L.jsx)("button",{className:"button_manipulate",onClick:function(t){return e.delete(t,e.id)},children:"delete"})]})]})},ne=function(e){return Object(L.jsx)("div",{className:"card_item card_item_noactive new_card",children:Object(L.jsx)("div",{className:"svg_wrapper",children:Object(L.jsx)(E.j,{onClick:function(t){return e.add(t)}})})})},ae=(n(40),Object(d.b)((function(e){return{auth:e.app.auth,user:e.app.user,notify:e.notification}}))(function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).state={decks:[],isNewDeck:!1,isEdit:!1,deckEdit:null},a}return Object(b.a)(n,[{key:"addDeck",value:function(e){this.setState({isNewDeck:!0})}},{key:"saveDeck",value:function(e,t,n){var a=this;y.applyChanges(t,n).then((function(e){console.log(e),a.setState({isEdit:!1})})).catch((function(e){return console.log(e)}))}},{key:"editDeck",value:function(e,t){console.log("edit",t),this.setState({isEdit:!0,deckEdit:this.state.decks[t]})}},{key:"deleteDeck",value:function(e,t){console.log("delete",t)}},{key:"like",value:function(e,t){y.setLike(t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),console.log("like",t)}},{key:"changePrivate",value:function(e,t,n){y.applyChanges(t,[{type:"CHANGE_DECK",payload:{name:"isPrivate",value:Number(n)}}]).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},{key:"createNewDeck",value:function(e,t){var n=this;y.addDeck(t).then((function(e){console.log(e),n.setState({isNewDeck:!1})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;y.getDecks().then((function(t){console.log(t),!t.error&&e.setState({decks:[].concat(Object(O.a)(e.state.decks),Object(O.a)(t.data.decks))})})).catch((function(e){return X("Error","Failed to load data",3e3)}))}},{key:"render",value:function(){var e=this;return console.log(this.props.auth),Object(L.jsx)(r.a.Fragment,{children:Object(L.jsxs)("section",{className:"lesson_section",children:[Object(L.jsx)("h2",{className:"cards_main_name",children:"My Decks"}),Object(L.jsxs)("div",{className:"cards",children:[this.state.isEdit&&Object(L.jsx)(te,{index:-1,id:this.state.deckEdit.id,name:this.state.deckEdit.name,countWords:this.state.deckEdit.countWords,countRepetitions:this.state.deckEdit.countRepetitions,isPrivate:this.state.deckEdit.isPrivate,mainLang:this.state.deckEdit.mainLang,secondaryLang:this.state.deckEdit.secondaryLang,cards:this.state.deckEdit.cards,author:this.state.deckEdit.author,owner:this.state.deckEdit.owner,description:this.state.deckEdit.description,countLikes:this.state.deckEdit.countLikes||0,activeLike:this.state.deckEdit.activeLike||!1,enableMethods:{enableSave:!0,enableDelete:!0},save:this.saveDeck.bind(this),delete:this.deleteDeck}),this.state.isNewDeck&&Object(L.jsx)(te,{index:-1,id:-1,name:"New Deck",countWords:0,countRepetitions:0,isPrivate:!1,mainLang:"RU",secondaryLang:"ENG",cards:[],author:this.props.user.login,owner:this.props.user.login,description:"",countLikes:0,activeLike:!1,enableMethods:{enableCreate:!0},create:this.createNewDeck}),Object(L.jsx)(ne,{add:this.addDeck.bind(this)}),0!==this.state.decks.length&&this.state.decks.map((function(t,n){return Object(L.jsx)(ee,{index:n,id:t.id,name:t.name,countWords:t.countWords||0,author:t.author,owner:t.owner,description:t.description,countRepetitions:t.countRepetitions||0,isPrivate:t.isPrivate,mainLang:t.mainLang.toUpperCase(),secondaryLang:t.secondaryLang.toUpperCase(),countLikes:t.countLikes||0,activeLike:t.activeLike||!1,cards:t.cards,enableMethods:{enableChangePrivate:!0,enableDelete:!0,enableEdit:!0,enableLike:!0},edit:e.editDeck.bind(e),delete:e.deleteDeck,like:e.like,changePrivate:e.changePrivate.bind(e)},"deck_".concat(n))}))]})]})})}}]),n}(r.a.Component))),ie=(n(41),n(42),function(e){return Object(L.jsx)("div",{className:"home",children:Object(L.jsx)("p",{style:{color:"white"},children:"Home, sweet home"})})}),ce=(n(43),Object(d.b)((function(e){return{auth:e.app.auth}}),(function(e){return{login:function(t){return e(F.app.login(t))}}}))(function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).state={loginValidate:null,passwordValidate:null},a.login=Object(o.createRef)(),a.password=Object(o.createRef)(),a}return Object(b.a)(n,[{key:"clickLogin",value:function(e){var t,n,a=this;e.preventDefault(),y.login({login:null===(t=this.login.current)||void 0===t?void 0:t.value,password:null===(n=this.password.current)||void 0===n?void 0:n.value}).then((function(e){e.data.error?X("\u041e\u0448\u0438\u0431\u043a\u0430","\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",4e3):(a.props.login(e.data),a.props.history.push("/"),Q("OK","\u0412\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b!",3e3))})).catch((function(e){return X("Error","Error on server")}))}},{key:"validateForm",value:function(e){switch(console.log(e),e.target.name){case"login":e.target.value.length>3&&e.target.value.length<30?this.setState({loginValidate:!0}):this.setState({loginValidate:!1});break;case"password":e.target.value.length>7&&e.target.value.length<40?this.setState({passwordValidate:!0}):this.setState({passwordValidate:!1})}}},{key:"render",value:function(){var e=this;return Object(L.jsx)("div",{className:"login",children:Object(L.jsxs)("form",{children:[Object(L.jsx)("h2",{children:"Login"}),Object(L.jsxs)("div",{className:"form-floating mb-3",children:[Object(L.jsx)("input",{type:"text",name:"login",onBlur:function(t){return e.validateForm(t)},ref:this.login,className:"input-login form-control \n\t\t\t\t\t\t\t\t".concat(null!==this.state.loginValidate?this.state.loginValidate?"is-valid":"is-invalid":""),id:"floatingInput",placeholder:"your login"}),Object(L.jsx)("label",{htmlFor:"floatingInput",children:"Login"})]}),Object(L.jsxs)("div",{className:"form-floating mb-3",children:[Object(L.jsx)("input",{type:"password",onBlur:function(t){return e.validateForm(t)},ref:this.password,className:"input-password form-control \n\t\t\t\t\t\t\t\t".concat(null!==this.state.passwordValidate?this.state.passwordValidate?"is-valid":"is-invalid":""),id:"floatingInput",name:"password",placeholder:"your password"}),Object(L.jsx)("label",{htmlFor:"floatingInput",children:"Password"})]}),Object(L.jsx)("button",{className:"btn btn-primary",onClick:function(t){return e.clickLogin(t)},children:"login"})]})})}}]),n}(r.a.Component))),se=function(e){return Object(L.jsx)("div",{className:"page_statistics",children:"Statistics"})},oe=Object(d.b)((function(e){return{auth:e.app.auth}}),(function(e){return{login:function(t){return e(F.app.login(t))}}}))(function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).state={nameValidate:null,loginValidate:null,passwordValidate:null},a.name=Object(o.createRef)(),a.login=Object(o.createRef)(),a.password=Object(o.createRef)(),a.rpassword=Object(o.createRef)(),a}return Object(b.a)(n,[{key:"clickRegistration",value:function(e){var t,n,a,i,c,s=this;(e.preventDefault(),this.state.loginValidate&&this.state.nameValidate&&this.state.passwordValidate)?(null===(t=this.password.current)||void 0===t?void 0:t.value)===(null===(n=this.rpassword.current)||void 0===n?void 0:n.value)?y.registration({name:null===(a=this.name.current)||void 0===a?void 0:a.value,login:null===(i=this.login.current)||void 0===i?void 0:i.value,password:null===(c=this.password.current)||void 0===c?void 0:c.value,refer:null}).then((function(e){console.log(e),e.data.error?X("\u041e\u0448\u0438\u0431\u043a\u0430","\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0442\u0430\u043a\u043e\u0439 \u043b\u043e\u0433\u0438\u043d \u0443\u0436\u0435 \u0437\u0430\u043d\u044f\u0442",4e3):(s.props.login(e.data),s.props.history.push("/"))})).catch((function(e){return console.log(e)})):Z("\u041e\u0448\u0438\u0431\u043a\u0430","\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442",4e3):Z("\u041e\u0448\u0438\u0431\u043a\u0430","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",4e3)}},{key:"onValidate",value:function(e){switch(console.log(e),e.currentTarget.name){case"name":this.setState({nameValidate:e.currentTarget.value.length>4});break;case"login":this.setState({loginValidate:e.currentTarget.value.length>3});break;case"password":this.setState({passwordValidate:e.currentTarget.value.length>7})}}},{key:"render",value:function(){var e=this;return Object(L.jsx)("div",{className:"registration",children:Object(L.jsxs)("form",{children:[Object(L.jsx)("h2",{children:"Registration"}),Object(L.jsxs)("div",{className:"form-floating mb-3",children:[Object(L.jsx)("input",{name:"name",className:"form-control ".concat(null!==this.state.nameValidate?this.state.nameValidate?"is-valid":"is-invalid":""),onBlur:function(t){return e.onValidate(t)},type:"text",ref:this.name,id:"floatingInput",placeholder:"your name"}),Object(L.jsx)("label",{htmlFor:"floatingInput",children:"Name"})]}),Object(L.jsxs)("div",{className:"form-floating mb-3",children:[Object(L.jsx)("input",{name:"login",className:"form-control ".concat(null!==this.state.loginValidate?this.state.loginValidate?"is-valid":"is-invalid":""),onBlur:function(t){return e.onValidate(t)},type:"text",ref:this.login,id:"floatingInput",placeholder:"your login"}),Object(L.jsx)("label",{htmlFor:"floatingInput",children:"Login"})]}),Object(L.jsxs)("div",{className:"form-floating mb-3",children:[Object(L.jsx)("input",{name:"password",className:"form-control ".concat(null!==this.state.passwordValidate?this.state.passwordValidate?"is-valid":"is-invalid":""),onBlur:function(t){return e.onValidate(t)},type:"password",ref:this.password,id:"floatingInput",placeholder:"your password"}),Object(L.jsx)("label",{htmlFor:"floatingInput",children:"Password"})]}),Object(L.jsxs)("div",{className:"form-floating mb-3",children:[Object(L.jsx)("input",{type:"password",ref:this.rpassword,className:"form-control",id:"floatingInput",placeholder:"your password"}),Object(L.jsx)("label",{htmlFor:"floatingInput",children:"Repeat password"})]}),Object(L.jsx)("button",{className:"btn btn-primary",onClick:function(t){return e.clickRegistration(t)},children:"registration"})]})})}}]),n}(r.a.Component)),re=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){return Object(j.a)(this,n),t.call(this,e)}return Object(b.a)(n,[{key:"render",value:function(){return Object(L.jsx)("div",{className:"Play",style:{color:"white"},children:"Play!!!"})}}]),n}(r.a.Component),le=Object(d.b)((function(e){return{auth:e.app.auth,notify:e.notification}}))(function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).state={decks:[]},a}return Object(b.a)(n,[{key:"handleLike",value:function(e,t){console.log("like",t),y.setLike(t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;y.getAllDecks().then((function(t){return e.setState({decks:t.data.decks})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(L.jsx)("div",{className:"Store",style:{color:"white"},children:Object(L.jsxs)("section",{className:"lesson_section",children:[Object(L.jsx)("h2",{className:"cards_main_name",children:"Store"}),Object(L.jsx)("div",{className:"cards",children:0!==this.state.decks.length&&this.state.decks.map((function(t,n){return Object(L.jsx)(ee,{index:n,id:t.id,name:t.name,countWords:t.countWords||0,author:t.author,owner:t.owner,description:t.description,countRepetitions:t.countRepetitions||0,isPrivate:t.isPrivate,mainLang:t.mainLang.toUpperCase(),secondaryLang:t.secondaryLang.toUpperCase(),countLikes:t.countLikes||0,activeLike:t.activeLike||!1,cards:t.cards,like:e.handleLike,enableMethods:{enableLike:e.props.auth,enableSubscribe:!0}},"deck_".concat(n))}))})]})})}}]),n}(r.a.Component)),ue=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){return Object(j.a)(this,n),t.call(this,e)}return Object(b.a)(n,[{key:"render",value:function(){return Object(L.jsx)("div",{className:"Rating",style:{color:"white"},children:"Rating!!!"})}}]),n}(r.a.Component),de=(n(75),{Main:function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){return Object(j.a)(this,n),t.call(this,e)}return Object(b.a)(n,[{key:"render",value:function(){return Object(L.jsx)("div",{className:"Main",style:{color:"white"},children:Object(L.jsxs)("div",{className:"slider",children:[Object(L.jsx)("div",{className:"image_wrapper",children:Object(L.jsx)("img",{className:"image_slider",src:"images/slider.png",alt:"slider image"})}),Object(L.jsxs)("div",{className:"text_block",children:[Object(L.jsx)("h1",{children:"Learn, Repeate and Develop"}),Object(L.jsx)("p",{children:"Welcome to the service for memorizing words in foreign languages using flashcards"})]})]})})}}]),n}(r.a.Component),Decks:ae,Home:ie,Statistics:se,Play:re,Store:le,Rating:ue,Registration:oe,Login:ce}),he=[{isNavBar:!1,isLogin:!1,isExact:!0,path:"/",name:"Main",component:de.Main},{isNavBar:!0,isLogin:!0,isExact:!0,isPrivate:!0,path:"/home",name:"Home",component:de.Home,icon:E.e},{isNavBar:!0,isLogin:!0,isExact:!0,isPrivate:!0,path:"/play",name:"Play",component:de.Play,icon:E.i},{isNavBar:!0,isLogin:!0,isExact:!0,isPrivate:!0,path:"/decks",name:"Decks",component:de.Decks,icon:E.f},{isNavBar:!0,isExact:!0,path:"/store",name:"Store",component:de.Store,icon:E.l},{isNavBar:!0,isLogin:!0,isExact:!0,isPrivate:!0,path:"/statistics",name:"Statistics",component:de.Statistics,icon:E.b},{isNavBar:!0,isExact:!0,path:"/rating",name:"Rating",component:de.Rating,icon:E.k},{isNavBar:!0,isExact:!0,isLogin:!1,path:"/registration",name:"Registration",component:de.Registration},{isNavBar:!0,isLogin:!1,isExact:!0,path:"/login",name:"Login",component:de.Login},{isNavBar:!1,isLogin:!1,isExact:!0,path:"/user/:login",name:"User",component:de.Home}],je=(n(44),{Header:Object(d.b)((function(e){return{auth:e.app.auth,user:e.app.user}}),(function(e){return{login:function(t){return e(F.app.login(t))},logout:function(){return e(F.app.logout())}}}))((function(e){Object(f.g)();var t=Object(o.useState)(!1),n=Object(w.a)(t,2),a=n[0],i=n[1],c=Object(o.useState)(!1),s=Object(w.a)(c,2),r=s[0],l=s[1],u=Object(o.useRef)(null),d=Object(f.h)().pathname;S(u,(function(){a&&i(!1)})),Object(o.useEffect)((function(){document.body.style.overflow=r?"hidden":"unset"}),[r]);return Object(L.jsxs)("header",{className:"main_header",children:[Object(L.jsx)("div",{className:"logo",children:Object(L.jsx)("span",{className:"logo_text",children:Object(L.jsx)(v.b,{to:"/",onClick:function(e){return l(!1)},children:"RepDict"})})}),Object(L.jsxs)("div",{className:"menu",children:[Object(L.jsx)("div",{className:"icon_bars",onClick:function(e){return l(!r)},children:Object(L.jsx)(E.a,{})}),Object(L.jsxs)("ul",{className:"menu_list responsive_".concat(r?"active":"noactive"),children:[e.routes.filter((function(t){return t.isLogin===e.auth||void 0===t.isLogin})).map((function(e){return Object(L.jsx)("li",{className:"menu_list_item ".concat(e.path===d?"active":"noactive"),children:Object(L.jsxs)(v.b,{className:"menu_list_item_link",to:"".concat(e.path),onClick:function(e){return l(!1)},children:[!!e.icon&&Object(L.jsx)(e.icon,{}),e.name]})},e.path)})),e.auth&&Object(L.jsxs)("li",{style:{color:"white"},className:"user_panel",onClick:function(e){return i(!a)},children:[Object(L.jsxs)("div",{className:"user_panel_head",children:[Object(L.jsx)(E.n,{}),e.user.name]}),Object(L.jsxs)("ul",{className:"dropdown ".concat(a?"showedDB__fadeIn":"closed"),ref:u,children:[Object(L.jsx)("li",{className:"dropdown_item",children:Object(L.jsx)(v.b,{to:"/users/".concat(e.user.login),onClick:function(e){return l(!1)},children:"Profile"})}),Object(L.jsx)("li",{className:"dropdown_item",children:Object(L.jsx)(v.b,{to:"/settings",onClick:function(e){return l(!1)},children:"Setting"})}),Object(L.jsx)("li",{className:"dropdown_item",children:Object(L.jsx)(v.b,{to:"/",onClick:function(t){return e.logout(),void l(!1)},children:"Logout"})})]})]})]})]})]})})),Deck:ee,Currsection:function(e){var t=e.info;return Object(L.jsx)("section",{className:"lesson_section lesson_info",children:Object.keys(t).map((function(e,n){return Object(L.jsxs)("p",{className:"lesson_info_item",children:[Object(L.jsxs)("span",{className:"lesson_info_item_key",children:[e,":"]}),Object(L.jsx)("span",{className:"lesson_info_item_value",children:Object.values(t)[n]})]})}))})},Notification:$}),be=function(e,t){return function(n){Object(p.a)(i,n);var a=Object(m.a)(i);function i(){return Object(j.a)(this,i),a.apply(this,arguments)}return Object(b.a)(i,[{key:"render",value:function(){return t?Object(L.jsx)(e,Object(h.a)({},this.props)):Object(L.jsx)(f.a,{to:"/login"})}}]),i}(r.a.Component)},pe=(n(76),n(77),n(78),Object(d.b)((function(e){return{auth:e.app.auth,notify:e.notification}}),(function(e){return{login:function(t){return e(F.app.login(t))},logout:function(){return e(F.app.logout())}}}))(function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).state={auth:!0},a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;void 0!==(null===(e=localStorage.getItem("token"))||void 0===e?void 0:e.length)&&"undefined"!==localStorage.getItem("token")?y.auth().then((function(e){console.log(e),e.data.error?t.props.logout():(t.setState({auth:!0}),t.props.login(e.data.data))})).catch((function(e){return console.log(e)})):this.setState({auth:!1})}},{key:"renderSwitch",value:function(){var e=this;return Object(L.jsx)(f.d,{children:he.map((function(t){var n=t.isPrivate?be(t.component,e.state.auth):t.component;return Object(L.jsx)(f.b,{exact:!0,path:t.path,component:n},t.path)}))})}},{key:"render",value:function(){return Object(L.jsx)(v.a,{children:Object(L.jsxs)(r.a.Fragment,{children:[Object(L.jsx)(je.Header,{routes:he.filter((function(e){return e.isNavBar}))}),Object(L.jsx)("div",{id:"ui-content",children:this.renderSwitch()}),Object(L.jsx)(je.Notification,Object(h.a)({},this.props.notify))]})})}}]),n}(r.a.Component)));u.a.render(Object(L.jsx)(d.a,{store:q,children:Object(L.jsx)(pe,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.8ea8dc94.chunk.js.map